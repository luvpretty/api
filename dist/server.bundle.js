/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/api/CommentsController.js":
/*!***************************************!*\
  !*** ./src/api/CommentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/CommentsHands */ \"./src/model/CommentsHands.js\");\n\n\n\n\n\n\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      result = result.map(item => item.toJSON());\n\n      for (let i = 0; i < result.length; i++) {\n        const item = result[i];\n        item.handed = '0';\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        });\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '查询成功'\n    };\n  } // 获取用户最近的评论记录\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  } // 添加评论\n\n\n  async addComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"checkCode\"])(sid, code);\n\n    if (!result) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查！'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询帖子的作者，以便发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save(); // 评论计数\n\n    const updatePostresult = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostresult.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: comment,\n        msg: '评论成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  }\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '修改成功',\n      data: result\n    };\n  }\n\n  async setBest(ctx) {\n    // 对用户权限的判断，post uid -> header id\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id !== '') {\n      ctx.body = {\n        code: '401',\n        msg: '用户未登录，或者用户未受权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人，可以去设置isBest\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      });\n      const result1 = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      });\n\n      if (result.ok === 1 && result1.ok === 1) {\n        // 把积分值给采纳的用户\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid);\n        const result2 = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        });\n\n        if (result2.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: result2\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...result,\n            ...result1\n          }\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '帖子已结贴，无法重复设置'\n      };\n    }\n  }\n\n  async setHands(ctx) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞，请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      cid: params.cid,\n      uid: obj._id\n    });\n    const data = await newHands.save(); // 更新comments表中对应的记录的hands信息 +1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbW1lbnRzQ29udHJvbGxlci5qcz9kNGI0Il0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiQ29tbWVudHMiLCJnZXRDb21tZW50c0xpc3QiLCJtYXAiLCJpdGVtIiwidG9KU09OIiwiaSIsImxlbmd0aCIsImhhbmRlZCIsImNvbW1lbnRzSGFuZHMiLCJDb21tZW50c0hhbmRzIiwiZmluZE9uZSIsImNpZCIsInVpZCIsInRvdGFsIiwicXVlcnlDb3VudCIsImJvZHkiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIiwiYWRkQ29tbWVudCIsImNoZWNrIiwicmVxdWVzdCIsInNpZCIsImNoZWNrQ29kZSIsIm5ld0NvbW1lbnQiLCJjdWlkIiwicG9zdCIsIlBvc3QiLCJjb21tZW50Iiwic2F2ZSIsInVwZGF0ZVBvc3RyZXN1bHQiLCJ1cGRhdGVPbmUiLCIkaW5jIiwiYW5zd2VyIiwib2siLCJ1cGRhdGVDb21tZW50IiwiJHNldCIsInNldEJlc3QiLCJpc0VuZCIsInJlc3VsdDEiLCJpc0Jlc3QiLCJmaW5kQnlDaWQiLCJyZXN1bHQyIiwiZmF2cyIsImZhdiIsInNldEhhbmRzIiwidG1wIiwiZmluZCIsIm5ld0hhbmRzIiwiaGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0FBQzlC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QUcsTUFBTWlDLFFBQVEsQ0FBQ25CLElBQVQsRUFBbkIsQ0FqQm1CLENBa0JuQjs7QUFDQSxVQUFNakQsTUFBTSxHQUFHLE1BQU1rQix1REFBUSxDQUFDaUMsU0FBVCxDQUFtQjtBQUFFOUMsU0FBRyxFQUFFTyxNQUFNLENBQUNpQjtBQUFkLEtBQW5CLEVBQXdDO0FBQUV1QixVQUFJLEVBQUU7QUFBRWlCLGFBQUssRUFBRTtBQUFUO0FBQVIsS0FBeEMsQ0FBckI7O0FBQ0EsUUFBSXJFLE1BQU0sQ0FBQ3NELEVBQVAsS0FBYyxDQUFsQixFQUFxQjtBQUNuQnZELFNBQUcsQ0FBQ2tDLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVURSxXQUFHLEVBQUUsTUFGSTtBQUdURCxZQUFJLEVBQUVBO0FBSEcsT0FBWDtBQUtELEtBTkQsTUFNTztBQUNMcEMsU0FBRyxDQUFDa0MsSUFBSixHQUFXO0FBQ1RDLFlBQUksRUFBRSxHQURHO0FBRVRFLFdBQUcsRUFBRTtBQUZJLE9BQVg7QUFJRDtBQUNGOztBQXZNc0I7O0FBME1WLG1FQUFJMUIsa0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvQ29tbWVudHNDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbW1lbnRzIGZyb20gJy4uL21vZGVsL0NvbW1lbnRzJ1xyXG5pbXBvcnQgUG9zdCBmcm9tICcuLi9tb2RlbC9Qb3N0J1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgeyBjaGVja0NvZGUgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IHsgZ2V0SldUUGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IENvbW1lbnRzSGFuZHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHNIYW5kcydcclxuXHJcbmNvbnN0IGNhblJlcGx5ID0gYXN5bmMgKGN0eCkgPT4ge1xyXG4gIGxldCByZXN1bHQgPSBmYWxzZVxyXG4gIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gIGlmICh0eXBlb2Ygb2JqLl9pZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQob2JqLl9pZClcclxuICAgIGlmICh1c2VyLnN0YXR1cyA9PT0gJzAnKSB7XHJcbiAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbW1lbnRzQ29udHJvbGxlciB7XHJcbiAgLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbiAgYXN5bmMgZ2V0Q29tbWVudHMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB0aWQgPSBwYXJhbXMudGlkXHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNMaXN0KHRpZCwgcGFnZSwgbGltaXQpXHJcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbnmbvlvZXvvIzlt7LnmbvlvZXnmoTnlKjmiLfmiY3ljrvliKTmlq3ngrnotZ7kv6Hmga9cclxuICAgIGxldCBvYmogPSB7fVxyXG4gICAgaWYgKHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBvYmouX2lkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gcmVzdWx0W2ldXHJcbiAgICAgICAgaXRlbS5oYW5kZWQgPSAnMCdcclxuICAgICAgICBjb25zdCBjb21tZW50c0hhbmRzID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kT25lKHsgY2lkOiBpdGVtLl9pZCwgdWlkOiBvYmouX2lkIH0pXHJcbiAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMgJiYgY29tbWVudHNIYW5kcy5jaWQpIHtcclxuICAgICAgICAgIGlmIChjb21tZW50c0hhbmRzLnVpZCA9PT0gb2JqLl9pZCkge1xyXG4gICAgICAgICAgICBpdGVtLmhhbmRlZCA9ICcxJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5xdWVyeUNvdW50KHRpZClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+acgOi/keeahOivhOiuuuiusOW9lVxyXG4gIGFzeW5jIGdldENvbW1lbnRQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRDb21tZXRzUHVibGljKHBhcmFtcy51aWQsIHBhcmFtcy5wYWdlLCBwYXJzZUludChwYXJhbXMubGltaXQpKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5pyA6L+R55qE6K+E6K666K6w5b2V5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i6K+E6K666K6w5b2V5aSx6LSl77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmt7vliqDor4TorrpcclxuICBhc3luYyBhZGRDb21tZW50IChjdHgpIHtcclxuICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgY2FuUmVwbHkoY3R4KVxyXG4gICAgaWYgKCFjaGVjaykge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn55So5oi35bey6KKr56aB6KiA77yBJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcclxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+l77yBJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3Q29tbWVudCA9IG5ldyBDb21tZW50cyhib2R5KVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBuZXdDb21tZW50LmN1aWQgPSBvYmouX2lkXHJcbiAgICAvLyDmn6Xor6LluJblrZDnmoTkvZzogIXvvIzku6Xkvr/lj5HpgIHmtojmga9cclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IGJvZHkudGlkIH0pXHJcbiAgICBuZXdDb21tZW50LnVpZCA9IHBvc3QudWlkXHJcbiAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgbmV3Q29tbWVudC5zYXZlKClcclxuICAgIC8vIOivhOiuuuiuoeaVsFxyXG4gICAgY29uc3QgdXBkYXRlUG9zdHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBib2R5LnRpZCB9LCB7ICRpbmM6IHsgYW5zd2VyOiAxIH0gfSlcclxuICAgIGlmIChjb21tZW50Ll9pZCAmJiB1cGRhdGVQb3N0cmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiBjb21tZW50LFxyXG4gICAgICAgIG1zZzogJ+ivhOiuuuaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+ivhOiuuuWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlQ29tbWVudCAoY3R4KSB7XHJcbiAgICBjb25zdCBjaGVjayA9IGF3YWl0IGNhblJlcGx5KGN0eClcclxuICAgIGlmICghY2hlY2spIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+W3suiiq+emgeiogO+8gSdcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7IF9pZDogYm9keS5jaWQgfSwgeyAkc2V0OiBib2R5IH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBtc2c6ICfkv67mlLnmiJDlip8nLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNldEJlc3QgKGN0eCkge1xyXG4gICAgLy8g5a+555So5oi35p2D6ZmQ55qE5Yik5pat77yMcG9zdCB1aWQgLT4gaGVhZGVyIGlkXHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyAmJiBvYmouX2lkICE9PSAnJykge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAnNDAxJyxcclxuICAgICAgICBtc2c6ICfnlKjmiLfmnKrnmbvlvZXvvIzmiJbogIXnlKjmiLfmnKrlj5fmnYMnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IHBhcmFtcy50aWQgfSlcclxuICAgIGlmIChwb3N0LnVpZCA9PT0gb2JqLl9pZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcclxuICAgICAgLy8g6K+05piO6L+Z5piv5L2c6ICF5pys5Lq677yM5Y+v5Lul5Y676K6+572uaXNCZXN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBwYXJhbXMudGlkIH0sIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBpc0VuZDogJzEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHsgX2lkOiBwYXJhbXMuY2lkIH0sIHsgJHNldDogeyBpc0Jlc3Q6ICcxJyB9IH0pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEgJiYgcmVzdWx0MS5vayA9PT0gMSkge1xyXG4gICAgICAgIC8vIOaKiuenr+WIhuWAvOe7memHh+e6s+eahOeUqOaIt1xyXG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50cy5maW5kQnlDaWQocGFyYW1zLmNpZClcclxuICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IGNvbW1lbnQuY3VpZCB9LCB7ICRpbmM6IHsgZmF2czogcGFyc2VJbnQocG9zdC5mYXYpIH0gfSlcclxuICAgICAgICBpZiAocmVzdWx0Mi5vayA9PT0gMSkge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbXNnOiAn6K6+572u5oiQ5YqfJyxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0MlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICBtc2c6ICforr7nva7mnIDkvbPnrZTmoYgt5pu05paw55So5oi35aSx6LSlJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgIG1zZzogJ+iuvue9ruWksei0pScsXHJcbiAgICAgICAgICBkYXRhOiB7IC4uLnJlc3VsdCwgLi4ucmVzdWx0MSB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5biW5a2Q5bey57uT6LS077yM5peg5rOV6YeN5aSN6K6+572uJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBzZXRIYW5kcyAoY3R4KSB7XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5bey57uP54K56LWeXHJcbiAgICBjb25zdCB0bXAgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmQoeyBjaWQ6IHBhcmFtcy5jaWQsIHVpZDogb2JqLl9pZCB9KVxyXG4gICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmgqjlt7Lnu4/ngrnotZ7vvIzor7fli7/ph43lpI3ngrnotZ4nXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyDmlrDlop7kuIDmnaHngrnotZ7orrDlvZVcclxuICAgIGNvbnN0IG5ld0hhbmRzID0gbmV3IENvbW1lbnRzSGFuZHMoe1xyXG4gICAgICBjaWQ6IHBhcmFtcy5jaWQsXHJcbiAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXdIYW5kcy5zYXZlKClcclxuICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU55qE6K6w5b2V55qEaGFuZHPkv6Hmga8gKzFcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7IF9pZDogcGFyYW1zLmNpZCB9LCB7ICRpbmM6IHsgaGFuZHM6IDEgfSB9KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn54K56LWe5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfkv53lrZjngrnotZ7orrDlvZXlpLHotKXvvIEnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBDb21tZW50c0NvbnRyb2xsZXIoKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/CommentsController.js\n");

/***/ }),

/***/ "./src/api/ContentController.js":
/*!**************************************!*\
  !*** ./src/api/ContentController.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_Links__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Links */ \"./src/model/Links.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! make-dir */ \"make-dir\");\n/* harmony import */ var make_dir__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(make_dir__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n\n\n\n\n\n\n\n\n\n // import { dirExists } from '@/common/Utils'\n\nclass ContentController {\n  // 获取文章列表\n  async getPostList(ctx) {\n    const body = ctx.query;\n    const sort = body.sort ? body.sort : 'created';\n    const page = body.page ? parseInt(body.page) : 0;\n    const limit = body.limit ? parseInt(body.limit) : 20;\n    const options = {};\n\n    if (typeof body.catalog !== 'undefined' && body.catalog !== '') {\n      options.catalog = body.catalog;\n    }\n\n    if (typeof body.isTop !== 'undefined') {\n      options.isTop = body.isTop;\n    }\n\n    if (typeof body.status !== 'undefined' && body.status !== '') {\n      options.isEnd = body.status;\n    }\n\n    if (typeof body.tag !== 'undefined' && body.tag !== '') {\n      options.tags = {\n        $elemMatch: {\n          name: body.tag\n        }\n      };\n    }\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getList(options, sort, page, limit);\n    ctx.body = {\n      code: 200,\n      data: result,\n      msg: '获取文章列表成功'\n    };\n  } // 查询友链\n\n\n  async getLinks(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'links'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 查询温馨提醒\n\n\n  async getTips(ctx) {\n    const result = await _model_Links__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({\n      type: 'tips'\n    });\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 本周热议\n\n\n  async getTopWeek(ctx) {\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getTopWeek();\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  } // 上传图片\n\n\n  async uploadImg(ctx) {\n    const file = ctx.request.files.file; // 图片名称、图片格式、存储的位置，返回前台一可以读取的路径\n\n    const ext = file.name.split('.').pop();\n    const dir = `${_config_index__WEBPACK_IMPORTED_MODULE_5__[\"default\"].uploadPath}/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}`; // 判断路径是否存在，不存在则创建\n\n    await make_dir__WEBPACK_IMPORTED_MODULE_6___default()(dir); // 存储文件到指定的路径\n    // 给文件一个唯一的名称\n\n    const picname = uuid_v4__WEBPACK_IMPORTED_MODULE_3___default()();\n    const destPath = `${dir}/${picname}.${ext}`;\n    const reader = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createReadStream(file.path);\n    const upStream = fs__WEBPACK_IMPORTED_MODULE_2___default.a.createWriteStream(destPath);\n    const filePath = `/${dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYYMMDD')}/${picname}.${ext}`; // method 1\n\n    reader.pipe(upStream); // const stat = fs.statSync(file.path)\n    // method 2\n    // let totalLength = 0\n    // reader.on('data', (chunk) => {\n    //   totalLength += chunk.length\n    //   if (upStream.write(chunk) === false) {\n    //     reader.pause()\n    //   }\n    // })\n    // upStream.on('drain', () => {\n    //   reader.resume()\n    // })\n    // reader.on('end', () => {\n    //   upStream.end()\n    // })\n\n    ctx.body = {\n      code: 200,\n      msg: '图片上传成功',\n      data: filePath\n    };\n  } // 添加新贴\n\n\n  async addPost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"getJWTPayload\"])(ctx.header.authorization); // 判断用户的积分数是否 > fav，否则，提示用户积分不足发贴\n      // 用户积分足够的时候，新建Post，减除用户对应的积分\n\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByID({\n        _id: obj._id\n      });\n\n      if (user.favs < body.fav) {\n        ctx.body = {\n          code: 501,\n          msg: '积分不足'\n        };\n        return;\n      } else {\n        await _model_User__WEBPACK_IMPORTED_MODULE_7__[\"default\"].updateOne({\n          _id: obj._id\n        }, {\n          $inc: {\n            favs: -body.fav\n          }\n        });\n      }\n\n      const newPost = new _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n      newPost.uid = obj._id;\n      const result = await newPost.save();\n      ctx.body = {\n        code: 200,\n        msg: '成功的保存的文章',\n        data: result\n      };\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 更新帖子\n\n\n  async updatePost(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"getJWTPayload\"])(ctx.header.authorization); // 判断帖子作者是否为本人\n\n      const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n        _id: body.tid\n      }); // 判断帖子是否结贴\n\n      if (post.uid === obj._id && post.isEnd === '0') {\n        const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n          _id: body.tid\n        }, body);\n\n        if (result.ok === 1) {\n          ctx.body = {\n            code: 200,\n            data: result,\n            msg: '更新帖子成功'\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            data: result,\n            msg: '编辑帖子，更新失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 401,\n          msg: '没有操作的权限'\n        };\n      }\n    } else {\n      // 图片验证码验证失败\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码验证失败'\n      };\n    }\n  } // 获取文章详情\n\n\n  async getPostDetail(ctx) {\n    const params = ctx.query;\n\n    if (!params.tid) {\n      ctx.body = {\n        code: 500,\n        msg: '文章id为空'\n      };\n      return;\n    }\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByTid(params.tid);\n    let isFav = 0; // 判断用户是否传递Authorization的数据，即是否登录\n\n    if (typeof ctx.header.authorization !== 'undefined' && ctx.header.authorization !== '') {\n      const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"getJWTPayload\"])(ctx.header.authorization);\n      const userCollect = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_8__[\"default\"].findOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n\n      if (userCollect && userCollect.tid) {\n        isFav = 1;\n      }\n    }\n\n    const newPost = post.toJSON();\n    newPost.isFav = isFav; // 更新文章阅读记数\n\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.tid\n    }, {\n      $inc: {\n        reads: 1\n      }\n    });\n\n    if (post._id && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: newPost,\n        msg: '查询文章详情成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '获取文章详情失败'\n      };\n    } // const post = await Post.findOne({ _id: params.tid })\n    // const result = rename(post.toJSON(), 'uid', 'user')\n\n  } // 获取用户发贴记录\n\n\n  async getPostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户发贴记录\n\n\n  async getPostPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getListByUid(params.uid, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countByUid(params.uid);\n    console.log('hahahhaha', result);\n    console.log('params', params);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 删除发贴记录\n\n\n  async deletePostByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_9__[\"getJWTPayload\"])(ctx.header.authorization);\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: obj._id,\n      _id: params.tid\n    });\n\n    if (post.id === params.tid && post.isEnd === '0') {\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_0__[\"default\"].deleteOne({\n        _id: params.tid\n      });\n\n      if (result.ok === 1) {\n        ctx.body = {\n          code: 200,\n          msg: '删除成功'\n        };\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '执行删除失败！'\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '删除失败，无权限！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new ContentController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0NvbnRlbnRDb250cm9sbGVyLmpzPzI1NjUiXSwibmFtZXMiOlsiQ29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0TGlzdCIsImN0eCIsImJvZHkiLCJxdWVyeSIsInNvcnQiLCJwYWdlIiwicGFyc2VJbnQiLCJsaW1pdCIsIm9wdGlvbnMiLCJjYXRhbG9nIiwiaXNUb3AiLCJzdGF0dXMiLCJpc0VuZCIsInRhZyIsInRhZ3MiLCIkZWxlbU1hdGNoIiwibmFtZSIsInJlc3VsdCIsIlBvc3QiLCJnZXRMaXN0IiwiY29kZSIsImRhdGEiLCJtc2ciLCJnZXRMaW5rcyIsIkxpbmtzIiwiZmluZCIsInR5cGUiLCJnZXRUaXBzIiwiZ2V0VG9wV2VlayIsInVwbG9hZEltZyIsImZpbGUiLCJyZXF1ZXN0IiwiZmlsZXMiLCJleHQiLCJzcGxpdCIsInBvcCIsImRpciIsImNvbmZpZyIsInVwbG9hZFBhdGgiLCJtb21lbnQiLCJmb3JtYXQiLCJta2RpciIsInBpY25hbWUiLCJ1dWlkIiwiZGVzdFBhdGgiLCJyZWFkZXIiLCJmcyIsImNyZWF0ZVJlYWRTdHJlYW0iLCJwYXRoIiwidXBTdHJlYW0iLCJjcmVhdGVXcml0ZVN0cmVhbSIsImZpbGVQYXRoIiwicGlwZSIsImFkZFBvc3QiLCJzaWQiLCJjaGVja0NvZGUiLCJvYmoiLCJnZXRKV1RQYXlsb2FkIiwiaGVhZGVyIiwiYXV0aG9yaXphdGlvbiIsInVzZXIiLCJVc2VyIiwiZmluZEJ5SUQiLCJfaWQiLCJmYXZzIiwiZmF2IiwidXBkYXRlT25lIiwiJGluYyIsIm5ld1Bvc3QiLCJ1aWQiLCJzYXZlIiwidXBkYXRlUG9zdCIsInBvc3QiLCJmaW5kT25lIiwidGlkIiwib2siLCJnZXRQb3N0RGV0YWlsIiwicGFyYW1zIiwiZmluZEJ5VGlkIiwiaXNGYXYiLCJ1c2VyQ29sbGVjdCIsIlVzZXJDb2xsZWN0IiwidG9KU09OIiwicmVhZHMiLCJnZXRQb3N0QnlVaWQiLCJnZXRMaXN0QnlVaWQiLCJ0b3RhbCIsImNvdW50QnlVaWQiLCJsZW5ndGgiLCJnZXRQb3N0UHVibGljIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZVBvc3RCeVVpZCIsImlkIiwiZGVsZXRlT25lIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Q0FHQTs7QUFDQSxNQUFNQSxpQkFBTixDQUF3QjtBQUN0QjtBQUNBLFFBQU1DLFdBQU4sQ0FBbUJDLEdBQW5CLEVBQXdCO0FBQ3RCLFVBQU1DLElBQUksR0FBR0QsR0FBRyxDQUFDRSxLQUFqQjtBQUVBLFVBQU1DLElBQUksR0FBR0YsSUFBSSxDQUFDRSxJQUFMLEdBQVlGLElBQUksQ0FBQ0UsSUFBakIsR0FBd0IsU0FBckM7QUFDQSxVQUFNQyxJQUFJLEdBQUdILElBQUksQ0FBQ0csSUFBTCxHQUFZQyxRQUFRLENBQUNKLElBQUksQ0FBQ0csSUFBTixDQUFwQixHQUFrQyxDQUEvQztBQUNBLFVBQU1FLEtBQUssR0FBR0wsSUFBSSxDQUFDSyxLQUFMLEdBQWFELFFBQVEsQ0FBQ0osSUFBSSxDQUFDSyxLQUFOLENBQXJCLEdBQW9DLEVBQWxEO0FBQ0EsVUFBTUMsT0FBTyxHQUFHLEVBQWhCOztBQUVBLFFBQUksT0FBT04sSUFBSSxDQUFDTyxPQUFaLEtBQXdCLFdBQXhCLElBQXVDUCxJQUFJLENBQUNPLE9BQUwsS0FBaUIsRUFBNUQsRUFBZ0U7QUFDOURELGFBQU8sQ0FBQ0MsT0FBUixHQUFrQlAsSUFBSSxDQUFDTyxPQUF2QjtBQUNEOztBQUNELFFBQUksT0FBT1AsSUFBSSxDQUFDUSxLQUFaLEtBQXNCLFdBQTFCLEVBQXVDO0FBQ3JDRixhQUFPLENBQUNFLEtBQVIsR0FBZ0JSLElBQUksQ0FBQ1EsS0FBckI7QUFDRDs7QUFDRCxRQUFJLE9BQU9SLElBQUksQ0FBQ1MsTUFBWixLQUF1QixX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TyxHQUFYO0FBQWdCQSxTQUFHLEVBQUVjLE1BQU0sQ0FBQ0g7QUFBNUIsS0FBYixDQUFuQjs7QUFDQSxRQUFJRixJQUFJLENBQUNxQixFQUFMLEtBQVloQixNQUFNLENBQUNILEdBQW5CLElBQTBCRixJQUFJLENBQUM1RCxLQUFMLEtBQWUsR0FBN0MsRUFBa0Q7QUFDaEQsWUFBTUssTUFBTSxHQUFHLE1BQU1DLG1EQUFJLENBQUM0RSxTQUFMLENBQWU7QUFBRS9CLFdBQUcsRUFBRWMsTUFBTSxDQUFDSDtBQUFkLE9BQWYsQ0FBckI7O0FBQ0EsVUFBSXpELE1BQU0sQ0FBQzBELEVBQVAsS0FBYyxDQUFsQixFQUFxQjtBQUNuQjFFLFdBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1RrQixjQUFJLEVBQUUsR0FERztBQUVURSxhQUFHLEVBQUU7QUFGSSxTQUFYO0FBSUQsT0FMRCxNQUtPO0FBQ0xyQixXQUFHLENBQUNDLElBQUosR0FBVztBQUNUa0IsY0FBSSxFQUFFLEdBREc7QUFFVEUsYUFBRyxFQUFFO0FBRkksU0FBWDtBQUlEO0FBQ0YsS0FiRCxNQWFPO0FBQ0xyQixTQUFHLENBQUNDLElBQUosR0FBVztBQUNUa0IsWUFBSSxFQUFFLEdBREc7QUFFVEUsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlEO0FBQ0Y7O0FBbFNxQjs7QUFxU1QsbUVBQUl2QixpQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Db250ZW50Q29udHJvbGxlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQb3N0IGZyb20gJy4uL21vZGVsL1Bvc3QnXHJcbmltcG9ydCBMaW5rcyBmcm9tICcuLi9tb2RlbC9MaW5rcydcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkL3Y0J1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJ0AvY29uZmlnL2luZGV4J1xyXG5pbXBvcnQgbWtkaXIgZnJvbSAnbWFrZS1kaXInXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uL21vZGVsL1VzZXInXHJcbmltcG9ydCBVc2VyQ29sbGVjdCBmcm9tICcuLi9tb2RlbC9Vc2VyQ29sbGVjdCdcclxuaW1wb3J0IHsgY2hlY2tDb2RlLCBnZXRKV1RQYXlsb2FkIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xyXG5cclxuLy8gaW1wb3J0IHsgZGlyRXhpc3RzIH0gZnJvbSAnQC9jb21tb24vVXRpbHMnXHJcbmNsYXNzIENvbnRlbnRDb250cm9sbGVyIHtcclxuICAvLyDojrflj5bmlofnq6DliJfooahcclxuICBhc3luYyBnZXRQb3N0TGlzdCAoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XHJcblxyXG4gICAgY29uc3Qgc29ydCA9IGJvZHkuc29ydCA/IGJvZHkuc29ydCA6ICdjcmVhdGVkJ1xyXG4gICAgY29uc3QgcGFnZSA9IGJvZHkucGFnZSA/IHBhcnNlSW50KGJvZHkucGFnZSkgOiAwXHJcbiAgICBjb25zdCBsaW1pdCA9IGJvZHkubGltaXQgPyBwYXJzZUludChib2R5LmxpbWl0KSA6IDIwXHJcbiAgICBjb25zdCBvcHRpb25zID0ge31cclxuXHJcbiAgICBpZiAodHlwZW9mIGJvZHkuY2F0YWxvZyAhPT0gJ3VuZGVmaW5lZCcgJiYgYm9keS5jYXRhbG9nICE9PSAnJykge1xyXG4gICAgICBvcHRpb25zLmNhdGFsb2cgPSBib2R5LmNhdGFsb2dcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgYm9keS5pc1RvcCAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgb3B0aW9ucy5pc1RvcCA9IGJvZHkuaXNUb3BcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgYm9keS5zdGF0dXMgIT09ICd1bmRlZmluZWQnICYmIGJvZHkuc3RhdHVzICE9PSAnJykge1xyXG4gICAgICBvcHRpb25zLmlzRW5kID0gYm9keS5zdGF0dXNcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgYm9keS50YWcgIT09ICd1bmRlZmluZWQnICYmIGJvZHkudGFnICE9PSAnJykge1xyXG4gICAgICBvcHRpb25zLnRhZ3MgPSB7ICRlbGVtTWF0Y2g6IHsgbmFtZTogYm9keS50YWcgfSB9XHJcbiAgICB9XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3Qob3B0aW9ucywgc29ydCwgcGFnZSwgbGltaXQpXHJcblxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICBtc2c6ICfojrflj5bmlofnq6DliJfooajmiJDlip8nXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmn6Xor6Llj4vpk75cclxuICBhc3luYyBnZXRMaW5rcyAoY3R4KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBMaW5rcy5maW5kKHsgdHlwZTogJ2xpbmtzJyB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmn6Xor6LmuKnppqjmj5DphpJcclxuICBhc3luYyBnZXRUaXBzIChjdHgpIHtcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IExpbmtzLmZpbmQoeyB0eXBlOiAndGlwcycgfSlcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pys5ZGo54Ot6K6uXHJcbiAgYXN5bmMgZ2V0VG9wV2VlayAoY3R4KSB7XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldFRvcFdlZWsoKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDkuIrkvKDlm77niYdcclxuICBhc3luYyB1cGxvYWRJbWcgKGN0eCkge1xyXG4gICAgY29uc3QgZmlsZSA9IGN0eC5yZXF1ZXN0LmZpbGVzLmZpbGVcclxuICAgIC8vIOWbvueJh+WQjeensOOAgeWbvueJh+agvOW8j+OAgeWtmOWCqOeahOS9jee9ru+8jOi/lOWbnuWJjeWPsOS4gOWPr+S7peivu+WPlueahOi3r+W+hFxyXG4gICAgY29uc3QgZXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKClcclxuICAgIGNvbnN0IGRpciA9IGAke2NvbmZpZy51cGxvYWRQYXRofS8ke21vbWVudCgpLmZvcm1hdCgnWVlZWU1NREQnKX1gXHJcbiAgICAvLyDliKTmlq3ot6/lvoTmmK/lkKblrZjlnKjvvIzkuI3lrZjlnKjliJnliJvlu7pcclxuICAgIGF3YWl0IG1rZGlyKGRpcilcclxuICAgIC8vIOWtmOWCqOaWh+S7tuWIsOaMh+WumueahOi3r+W+hFxyXG4gICAgLy8g57uZ5paH5Lu25LiA5Liq5ZSv5LiA55qE5ZCN56ewXHJcbiAgICBjb25zdCBwaWNuYW1lID0gdXVpZCgpXHJcbiAgICBjb25zdCBkZXN0UGF0aCA9IGAke2Rpcn0vJHtwaWNuYW1lfS4ke2V4dH1gXHJcbiAgICBjb25zdCByZWFkZXIgPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGZpbGUucGF0aClcclxuICAgIGNvbnN0IHVwU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZGVzdFBhdGgpXHJcbiAgICBjb25zdCBmaWxlUGF0aCA9IGAvJHttb21lbnQoKS5mb3JtYXQoJ1lZWVlNTUREJyl9LyR7cGljbmFtZX0uJHtleHR9YFxyXG4gICAgLy8gbWV0aG9kIDFcclxuICAgIHJlYWRlci5waXBlKHVwU3RyZWFtKVxyXG5cclxuICAgIC8vIGNvbnN0IHN0YXQgPSBmcy5zdGF0U3luYyhmaWxlLnBhdGgpXHJcbiAgICAvLyBtZXRob2QgMlxyXG4gICAgLy8gbGV0IHRvdGFsTGVuZ3RoID0gMFxyXG4gICAgLy8gcmVhZGVyLm9uKCdkYXRhJywgKGNodW5rKSA9PiB7XHJcbiAgICAvLyAgIHRvdGFsTGVuZ3RoICs9IGNodW5rLmxlbmd0aFxyXG4gICAgLy8gICBpZiAodXBTdHJlYW0ud3JpdGUoY2h1bmspID09PSBmYWxzZSkge1xyXG4gICAgLy8gICAgIHJlYWRlci5wYXVzZSgpXHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH0pXHJcblxyXG4gICAgLy8gdXBTdHJlYW0ub24oJ2RyYWluJywgKCkgPT4ge1xyXG4gICAgLy8gICByZWFkZXIucmVzdW1lKClcclxuICAgIC8vIH0pXHJcblxyXG4gICAgLy8gcmVhZGVyLm9uKCdlbmQnLCAoKSA9PiB7XHJcbiAgICAvLyAgIHVwU3RyZWFtLmVuZCgpXHJcbiAgICAvLyB9KVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn5Zu+54mH5LiK5Lyg5oiQ5YqfJyxcclxuICAgICAgZGF0YTogZmlsZVBhdGhcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOa3u+WKoOaWsOi0tFxyXG4gIGFzeW5jIGFkZFBvc3QgKGN0eCkge1xyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcclxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgIC8vIOWIpOaWreeUqOaIt+eahOenr+WIhuaVsOaYr+WQpiA+IGZhdu+8jOWQpuWIme+8jOaPkOekuueUqOaIt+enr+WIhuS4jei2s+WPkei0tFxyXG4gICAgICAvLyDnlKjmiLfnp6/liIbotrPlpJ/nmoTml7blgJnvvIzmlrDlu7pQb3N077yM5YeP6Zmk55So5oi35a+55bqU55qE56ev5YiGXHJcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeUlEKHsgX2lkOiBvYmouX2lkIH0pXHJcbiAgICAgIGlmICh1c2VyLmZhdnMgPCBib2R5LmZhdikge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNTAxLFxyXG4gICAgICAgICAgbXNnOiAn56ev5YiG5LiN6LazJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZSh7IF9pZDogb2JqLl9pZCB9LCB7ICRpbmM6IHsgZmF2czogLWJvZHkuZmF2IH0gfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zdCBuZXdQb3N0ID0gbmV3IFBvc3QoYm9keSlcclxuICAgICAgbmV3UG9zdC51aWQgPSBvYmouX2lkXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5ld1Bvc3Quc2F2ZSgpXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICfmiJDlip/nmoTkv53lrZjnmoTmlofnq6AnLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdFxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDlm77niYfpqozor4HnoIHpqozor4HlpLHotKVcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+WbvueJh+mqjOivgeeggemqjOivgeWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g5pu05paw5biW5a2QXHJcbiAgYXN5bmMgdXBkYXRlUG9zdCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBzaWQgPSBib2R5LnNpZFxyXG4gICAgY29uc3QgY29kZSA9IGJvZHkuY29kZVxyXG4gICAgLy8g6aqM6K+B5Zu+54mH6aqM6K+B56CB55qE5pe25pWI5oCn44CB5q2j56Gu5oCnXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjaGVja0NvZGUoc2lkLCBjb2RlKVxyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgICAgLy8g5Yik5pat5biW5a2Q5L2c6ICF5piv5ZCm5Li65pys5Lq6XHJcbiAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IGJvZHkudGlkIH0pXHJcbiAgICAgIC8vIOWIpOaWreW4luWtkOaYr+WQpue7k+i0tFxyXG4gICAgICBpZiAocG9zdC51aWQgPT09IG9iai5faWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IGJvZHkudGlkIH0sIGJvZHkpXHJcbiAgICAgICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgICBtc2c6ICfmm7TmlrDluJblrZDmiJDlip8nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICAgICAgbXNnOiAn57yW6L6R5biW5a2Q77yM5pu05paw5aSx6LSlJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgIG1zZzogJ+ayoeacieaTjeS9nOeahOadg+mZkCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOWbvueJh+mqjOivgeeggemqjOivgeWksei0pVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5Zu+54mH6aqM6K+B56CB6aqM6K+B5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bmlofnq6Dor6bmg4VcclxuICBhc3luYyBnZXRQb3N0RGV0YWlsIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgaWYgKCFwYXJhbXMudGlkKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmlofnq6BpZOS4uuepuidcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRCeVRpZChwYXJhbXMudGlkKVxyXG4gICAgbGV0IGlzRmF2ID0gMFxyXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5Lyg6YCSQXV0aG9yaXphdGlvbueahOaVsOaNru+8jOWNs+aYr+WQpueZu+W9lVxyXG4gICAgaWYgKHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnICYmIGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbiAhPT0gJycpIHtcclxuICAgICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAgIGNvbnN0IHVzZXJDb2xsZWN0ID0gYXdhaXQgVXNlckNvbGxlY3QuZmluZE9uZSh7XHJcbiAgICAgICAgdWlkOiBvYmouX2lkLFxyXG4gICAgICAgIHRpZDogcGFyYW1zLnRpZFxyXG4gICAgICB9KVxyXG4gICAgICBpZiAodXNlckNvbGxlY3QgJiYgdXNlckNvbGxlY3QudGlkKSB7XHJcbiAgICAgICAgaXNGYXYgPSAxXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IG5ld1Bvc3QgPSBwb3N0LnRvSlNPTigpXHJcbiAgICBuZXdQb3N0LmlzRmF2ID0gaXNGYXZcclxuICAgIC8vIOabtOaWsOaWh+eroOmYheivu+iusOaVsFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC51cGRhdGVPbmUoeyBfaWQ6IHBhcmFtcy50aWQgfSwgeyAkaW5jOiB7IHJlYWRzOiAxIH0gfSlcclxuICAgIGlmIChwb3N0Ll9pZCAmJiByZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IG5ld1Bvc3QsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5paH56ug6K+m5oOF5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn6I635Y+W5paH56ug6K+m5oOF5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdC5maW5kT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXHJcbiAgICAvLyBjb25zdCByZXN1bHQgPSByZW5hbWUocG9zdC50b0pTT04oKSwgJ3VpZCcsICd1c2VyJylcclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+WPkei0tOiusOW9lVxyXG4gIGFzeW5jIGdldFBvc3RCeVVpZCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUG9zdC5nZXRMaXN0QnlVaWQob2JqLl9pZCwgcGFyYW1zLnBhZ2UsIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMClcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgUG9zdC5jb3VudEJ5VWlkKG9iai5faWQpXHJcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICB0b3RhbCxcclxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmn6Xor6LliJfooajlpLHotKUnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+WPkei0tOiusOW9lVxyXG4gIGFzeW5jIGdldFBvc3RQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBQb3N0LmdldExpc3RCeVVpZChwYXJhbXMudWlkLCBwYXJhbXMucGFnZSwgcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwKVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50QnlVaWQocGFyYW1zLnVpZClcclxuICAgIGNvbnNvbGUubG9nKCdoYWhhaGhhaGEnLCByZXN1bHQpXHJcbiAgICBjb25zb2xlLmxvZygncGFyYW1zJywgcGFyYW1zKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDliKDpmaTlj5HotLTorrDlvZVcclxuICBhc3luYyBkZWxldGVQb3N0QnlVaWQgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyB1aWQ6IG9iai5faWQsIF9pZDogcGFyYW1zLnRpZCB9KVxyXG4gICAgaWYgKHBvc3QuaWQgPT09IHBhcmFtcy50aWQgJiYgcG9zdC5pc0VuZCA9PT0gJzAnKSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QuZGVsZXRlT25lKHsgX2lkOiBwYXJhbXMudGlkIH0pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEpIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgIG1zZzogJ+WIoOmZpOaIkOWKnydcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBtc2c6ICfmiafooYzliKDpmaTlpLHotKXvvIEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5Yig6Zmk5aSx6LSl77yM5peg5p2D6ZmQ77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgQ29udGVudENvbnRyb2xsZXIoKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/ContentController.js\n");

/***/ }),

/***/ "./src/api/LoginController.js":
/*!************************************!*\
  !*** ./src/api/LoginController.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config */ \"./src/config/index.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n\n\n\n\n\n\n\n\n\nclass LoginController {\n  async forget(ctx) {\n    const {\n      body\n    } = ctx.request;\n\n    try {\n      // body.username -> database -> email\n      const result = await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        code: '1234',\n        expire: moment__WEBPACK_IMPORTED_MODULE_2___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: body.username,\n        user: 'luvpretty'\n      });\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '邮件发送成功'\n      };\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async login(ctx) {\n    // 接收用户的数据\n    // 返回token\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, code);\n\n    if (result) {\n      // 验证用户账号密码是否正确\n      let checkUserPasswd = false;\n      const user = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default.a.compare(body.password, user.password)) {\n        checkUserPasswd = true;\n      } // mongoDB查库\n\n\n      if (checkUserPasswd) {\n        // 验证通过，返回Token数据\n        const userObj = user.toJSON();\n        const arr = ['password', 'username', 'roles'];\n        arr.map(item => {\n          delete userObj[item];\n        });\n        const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_3___default.a.sign({\n          _id: userObj._id\n        }, _config__WEBPACK_IMPORTED_MODULE_4__[\"default\"].JWT_SECRET, {\n          expiresIn: '1d'\n        }); // 登录时加入isSign属性\n\n        const signRecord = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findByUid(userObj._id);\n\n        if (signRecord !== null) {\n          if (moment__WEBPACK_IMPORTED_MODULE_2___default()(signRecord.created).format('YYYY-MM-DD') === moment__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYY-MM-DD')) {\n            userObj.isSign = true;\n          } else {\n            userObj.isSign = false;\n          }\n\n          userObj.lastSign = signRecord.created;\n        } else {\n          // 用户无签到记录\n          userObj.isSign = false;\n        }\n\n        ctx.body = {\n          code: 200,\n          data: userObj,\n          token: token\n        };\n      } else {\n        // 用户名 密码验证失败，返回提示\n        ctx.body = {\n          code: 404,\n          msg: '用户名或者密码错误'\n        };\n      }\n    } else {\n      // 图片验证码校验失败\n      ctx.body = {\n        code: 401,\n        msg: '图片验证码不正确,请检查！'\n      };\n    }\n  }\n\n  async reg(ctx) {\n    // 接收客户端的数据\n    const {\n      body\n    } = ctx.request; // 验证图片验证码的时效性、正确性\n\n    const sid = body.sid;\n    const vercode = body.vercode;\n    const msg = {};\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_5__[\"checkCode\"])(sid, vercode);\n    let check = true;\n\n    if (result) {\n      // 查库，看username是否被注册\n      const user1 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        username: body.username\n      }); // console.log(user1)\n\n      if (user1 !== null && typeof user1.username !== 'undefined') {\n        msg.username = ['此邮箱已经注册，可以通过邮箱找回密码'];\n        check = false;\n      } // 查库，看nickname是否被注册\n\n\n      const user2 = await _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n        nickname: body.nickname\n      });\n\n      if (user2 !== null && typeof user2.nickname !== 'undefined') {\n        msg.nickname = ['此昵称已经注册，请修改'];\n        check = false;\n      } // 写入数据到数据库\n\n\n      if (check) {\n        body.password = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default.a.hash(body.password, 5);\n        const user = new _model_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n          username: body.username,\n          nickname: body.nickname,\n          password: body.password,\n          created: moment__WEBPACK_IMPORTED_MODULE_2___default()().format('YYYY-MM-DD HH:mm:ss')\n        });\n        const result = await user.save();\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '注册成功'\n        };\n        return;\n      }\n    } else {\n      // veevalidate显示的错误\n      msg.vercode = ['验证码已经失效，请重新获取'];\n    }\n\n    ctx.body = {\n      code: 500,\n      msg: msg\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new LoginController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL0xvZ2luQ29udHJvbGxlci5qcz85NTA3Il0sIm5hbWVzIjpbIkxvZ2luQ29udHJvbGxlciIsImZvcmdldCIsImN0eCIsImJvZHkiLCJyZXF1ZXN0IiwicmVzdWx0Iiwic2VuZCIsImNvZGUiLCJleHBpcmUiLCJtb21lbnQiLCJhZGQiLCJmb3JtYXQiLCJlbWFpbCIsInVzZXJuYW1lIiwidXNlciIsImRhdGEiLCJtc2ciLCJlIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwic2lkIiwiY2hlY2tDb2RlIiwiY2hlY2tVc2VyUGFzc3dkIiwiVXNlciIsImZpbmRPbmUiLCJiY3J5cHQiLCJjb21wYXJlIiwicGFzc3dvcmQiLCJ1c2VyT2JqIiwidG9KU09OIiwiYXJyIiwibWFwIiwiaXRlbSIsInRva2VuIiwianNvbndlYnRva2VuIiwic2lnbiIsIl9pZCIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJzaWduUmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsImNyZWF0ZWQiLCJpc1NpZ24iLCJsYXN0U2lnbiIsInJlZyIsInZlcmNvZGUiLCJjaGVjayIsInVzZXIxIiwidXNlcjIiLCJuaWNrbmFtZSIsImhhc2giLCJzYXZlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1BLGVBQU4sQ0FBc0I7QUFDcEIsUUFBTUMsTUFBTixDQUFjQyxHQUFkLEVBQW1CO0FBQ2pCLFVBQU07QUFBRUM7QUFBRixRQUFXRCxHQUFHLENBQUNFLE9BQXJCOztBQUNBLFFBQUk7QUFDRjtBQUNBLFlBQU1DLE1BQU0sR0FBRyxNQUFNQyxrRUFBSSxDQUFDO0FBQ3hCQyxZQUFJLEVBQUUsTUFEa0I7QUFFeEJDLGNBQU0sRUFBRUMsNkNBQU0sR0FDWEMs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QUMzRHBDLFdBQUcsQ0FBQ29DLFFBQUosR0FBZSxDQUFDLGFBQUQsQ0FBZjtBQUNBSCxhQUFLLEdBQUcsS0FBUjtBQUNELE9BYlMsQ0FjVjs7O0FBQ0EsVUFBSUEsS0FBSixFQUFXO0FBQ1Q5QyxZQUFJLENBQUN5QixRQUFMLEdBQWdCLE1BQU1GLCtDQUFNLENBQUMyQixJQUFQLENBQVlsRCxJQUFJLENBQUN5QixRQUFqQixFQUEyQixDQUEzQixDQUF0QjtBQUNBLGNBQU1kLElBQUksR0FBRyxJQUFJVSxtREFBSixDQUFTO0FBQ3BCWCxrQkFBUSxFQUFFVixJQUFJLENBQUNVLFFBREs7QUFFcEJ1QyxrQkFBUSxFQUFFakQsSUFBSSxDQUFDaUQsUUFGSztBQUdwQnhCLGtCQUFRLEVBQUV6QixJQUFJLENBQUN5QixRQUhLO0FBSXBCZ0IsaUJBQU8sRUFBRW5DLDZDQUFNLEdBQUdFLE1BQVQsQ0FBZ0IscUJBQWhCO0FBSlcsU0FBVCxDQUFiO0FBTUEsY0FBTU4sTUFBTSxHQUFHLE1BQU1TLElBQUksQ0FBQ3dDLElBQUwsRUFBckI7QUFDQXBELFdBQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1RJLGNBQUksRUFBRSxHQURHO0FBRVRRLGNBQUksRUFBRVYsTUFGRztBQUdUVyxhQUFHLEVBQUU7QUFISSxTQUFYO0FBS0E7QUFDRDtBQUNGLEtBL0JELE1BK0JPO0FBQ0w7QUFDQUEsU0FBRyxDQUFDZ0MsT0FBSixHQUFjLENBQUMsZUFBRCxDQUFkO0FBQ0Q7O0FBQ0Q5QyxPQUFHLENBQUNDLElBQUosR0FBVztBQUNUSSxVQUFJLEVBQUUsR0FERztBQUVUUyxTQUFHLEVBQUVBO0FBRkksS0FBWDtBQUlEOztBQXBJbUI7O0FBc0lQLG1FQUFJaEIsZUFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9Mb2dpbkNvbnRyb2xsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgc2VuZCBmcm9tICcuLi9jb25maWcvTWFpbENvbmZpZydcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnXHJcbmltcG9ydCBqc29ud2VidG9rZW4gZnJvbSAnanNvbndlYnRva2VuJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcclxuaW1wb3J0IHsgY2hlY2tDb2RlIH0gZnJvbSAnLi4vY29tbW9uL1V0aWxzJ1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgU2lnblJlY29yZCBmcm9tICcuLi9tb2RlbC9TaWduUmVjb3JkJ1xyXG5jbGFzcyBMb2dpbkNvbnRyb2xsZXIge1xyXG4gIGFzeW5jIGZvcmdldCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBib2R5LnVzZXJuYW1lIC0+IGRhdGFiYXNlIC0+IGVtYWlsXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlbmQoe1xyXG4gICAgICAgIGNvZGU6ICcxMjM0JyxcclxuICAgICAgICBleHBpcmU6IG1vbWVudCgpXHJcbiAgICAgICAgICAuYWRkKDMwLCAnbWludXRlcycpXHJcbiAgICAgICAgICAuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyksXHJcbiAgICAgICAgZW1haWw6IGJvZHkudXNlcm5hbWUsXHJcbiAgICAgICAgdXNlcjogJ2x1dnByZXR0eSdcclxuICAgICAgfSlcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIGRhdGE6IHJlc3VsdCxcclxuICAgICAgICBtc2c6ICfpgq7ku7blj5HpgIHmiJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGxvZ2luIChjdHgpIHtcclxuICAgIC8vIOaOpeaUtueUqOaIt+eahOaVsOaNrlxyXG4gICAgLy8g6L+U5ZuedG9rZW5cclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBjb25zdCBjb2RlID0gYm9keS5jb2RlXHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNoZWNrQ29kZShzaWQsIGNvZGUpXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIC8vIOmqjOivgeeUqOaIt+i0puWPt+WvhueggeaYr+WQpuato+ehrlxyXG4gICAgICBsZXQgY2hlY2tVc2VyUGFzc3dkID0gZmFsc2VcclxuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lIH0pXHJcbiAgICAgIGlmIChhd2FpdCBiY3J5cHQuY29tcGFyZShib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICAgIGNoZWNrVXNlclBhc3N3ZCA9IHRydWVcclxuICAgICAgfVxyXG4gICAgICAvLyBtb25nb0RC5p+l5bqTXHJcbiAgICAgIGlmIChjaGVja1VzZXJQYXNzd2QpIHtcclxuICAgICAgICAvLyDpqozor4HpgJrov4fvvIzov5Tlm55Ub2tlbuaVsOaNrlxyXG4gICAgICAgIGNvbnN0IHVzZXJPYmogPSB1c2VyLnRvSlNPTigpXHJcbiAgICAgICAgY29uc3QgYXJyID0gWydwYXNzd29yZCcsICd1c2VybmFtZScsICdyb2xlcyddXHJcbiAgICAgICAgYXJyLm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgZGVsZXRlIHVzZXJPYmpbaXRlbV1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnN0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oeyBfaWQ6IHVzZXJPYmouX2lkIH0sIGNvbmZpZy5KV1RfU0VDUkVULCB7XHJcbiAgICAgICAgICBleHBpcmVzSW46ICcxZCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIOeZu+W9leaXtuWKoOWFpWlzU2lnbuWxnuaAp1xyXG4gICAgICAgIGNvbnN0IHNpZ25SZWNvcmQgPSBhd2FpdCBTaWduUmVjb3JkLmZpbmRCeVVpZCh1c2VyT2JqLl9pZClcclxuICAgICAgICBpZiAoc2lnblJlY29yZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgaWYgKG1vbWVudChzaWduUmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PVxyXG4gICAgICAgICAgbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJykpIHtcclxuICAgICAgICAgICAgdXNlck9iai5pc1NpZ24gPSB0cnVlXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1c2VyT2JqLmlzU2lnbiA9IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB1c2VyT2JqLmxhc3RTaWduID0gc2lnblJlY29yZC5jcmVhdGVkXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOeUqOaIt+aXoOetvuWIsOiusOW9lVxyXG4gICAgICAgICAgdXNlck9iai5pc1NpZ24gPSBmYWxzZVxyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgIGRhdGE6IHVzZXJPYmosXHJcbiAgICAgICAgICB0b2tlbjogdG9rZW5cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g55So5oi35ZCNIOWvhueggemqjOivgeWksei0pe+8jOi/lOWbnuaPkOekulxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNDA0LFxyXG4gICAgICAgICAgbXNnOiAn55So5oi35ZCN5oiW6ICF5a+G56CB6ZSZ6K+vJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g5Zu+54mH6aqM6K+B56CB5qCh6aqM5aSx6LSlXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+l77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyByZWcgKGN0eCkge1xyXG4gICAgLy8g5o6l5pS25a6i5oi356uv55qE5pWw5o2uXHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICAvLyDpqozor4Hlm77niYfpqozor4HnoIHnmoTml7bmlYjmgKfjgIHmraPnoa7mgKdcclxuICAgIGNvbnN0IHNpZCA9IGJvZHkuc2lkXHJcbiAgICBjb25zdCB2ZXJjb2RlID0gYm9keS52ZXJjb2RlXHJcbiAgICBjb25zdCBtc2cgPSB7fVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgdmVyY29kZSlcclxuICAgIGxldCBjaGVjayA9IHRydWVcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgIC8vIOafpeW6k++8jOeci3VzZXJuYW1l5piv5ZCm6KKr5rOo5YaMXHJcbiAgICAgIGNvbnN0IHVzZXIxID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWUgfSlcclxuICAgICAgLy8gY29uc29sZS5sb2codXNlcjEpXHJcbiAgICAgIGlmICh1c2VyMSAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjEudXNlcm5hbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbXNnLnVzZXJuYW1lID0gWyfmraTpgq7nrrHlt7Lnu4/ms6jlhozvvIzlj6/ku6XpgJrov4fpgq7nrrHmib7lm57lr4bnoIEnXVxyXG4gICAgICAgIGNoZWNrID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICAvLyDmn6XlupPvvIznnItuaWNrbmFtZeaYr+WQpuiiq+azqOWGjFxyXG4gICAgICBjb25zdCB1c2VyMiA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IG5pY2tuYW1lOiBib2R5Lm5pY2tuYW1lIH0pXHJcbiAgICAgIGlmICh1c2VyMiAhPT0gbnVsbCAmJiB0eXBlb2YgdXNlcjIubmlja25hbWUgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbXNnLm5pY2tuYW1lID0gWyfmraTmmLXnp7Dlt7Lnu4/ms6jlhozvvIzor7fkv67mlLknXVxyXG4gICAgICAgIGNoZWNrID0gZmFsc2VcclxuICAgICAgfVxyXG4gICAgICAvLyDlhpnlhaXmlbDmja7liLDmlbDmja7lupNcclxuICAgICAgaWYgKGNoZWNrKSB7XHJcbiAgICAgICAgYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGJvZHkucGFzc3dvcmQsIDUpXHJcbiAgICAgICAgY29uc3QgdXNlciA9IG5ldyBVc2VyKHtcclxuICAgICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lLFxyXG4gICAgICAgICAgbmlja25hbWU6IGJvZHkubmlja25hbWUsXHJcbiAgICAgICAgICBwYXNzd29yZDogYm9keS5wYXNzd29yZCxcclxuICAgICAgICAgIGNyZWF0ZWQ6IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB1c2VyLnNhdmUoKVxyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgbXNnOiAn5rOo5YaM5oiQ5YqfJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gdmVldmFsaWRhdGXmmL7npLrnmoTplJnor69cclxuICAgICAgbXNnLnZlcmNvZGUgPSBbJ+mqjOivgeeggeW3sue7j+WkseaViO+8jOivt+mHjeaWsOiOt+WPliddXHJcbiAgICB9XHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogNTAwLFxyXG4gICAgICBtc2c6IG1zZ1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5leHBvcnQgZGVmYXVsdCBuZXcgTG9naW5Db250cm9sbGVyKClcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/api/LoginController.js\n");

/***/ }),

/***/ "./src/api/PublicController.js":
/*!*************************************!*\
  !*** ./src/api/PublicController.js ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! svg-captcha */ \"svg-captcha\");\n/* harmony import */ var svg_captcha__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(svg_captcha__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n\n // 定义图形验证码内容\n\nclass PublicController {\n  async getCaptcha(ctx) {\n    const body = ctx.request.query;\n    console.log(body.sid);\n    const newCaptca = svg_captcha__WEBPACK_IMPORTED_MODULE_0___default.a.create({\n      size: 4,\n      ignoreChars: '0o1il',\n      color: true,\n      noise: Math.floor(Math.random() * 5),\n      width: 150,\n      height: 38\n    }); // console.log(newCaptca)\n    // sid值传入redis,设置图片验证码超时10分钟\n\n    Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_1__[\"setValue\"])(body.sid, newCaptca.text, 10 * 60);\n    ctx.body = {\n      code: 200,\n      data: newCaptca.data\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new PublicController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1B1YmxpY0NvbnRyb2xsZXIuanM/NjhhZSJdLCJuYW1lcyI6WyJQdWJsaWNDb250cm9sbGVyIiwiZ2V0Q2FwdGNoYSIsImN0eCIsImJvZHkiLCJyZXF1ZXN0IiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwic2lkIiwibmV3Q2FwdGNhIiwic3ZnQ2FwdGNoYSIsImNyZWF0ZSIsInNpemUiLCJpZ25vcmVDaGFycyIsImNvbG9yIiwibm9pc2UiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ3aWR0aCIsImhlaWdodCIsInNldFZhbHVlIiwidGV4dCIsImNvZGUiLCJkYXRhIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0NBRUE7O0FBQ0EsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsUUFBTUMsVUFBTixDQUFrQkMsR0FBbEIsRUFBdUI7QUFDckIsVUFBTUMsSUFBSSxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWUMsS0FBekI7QUFDQUMsV0FBTyxDQUFDQyxHQUFSLENBQVlKLElBQUksQ0FBQ0ssR0FBakI7QUFDQSxVQUFNQyxTQUFTLEdBQUdDLGtEQUFVLENBQUNDLE1BQVgsQ0FBa0I7QUFDbENDLFVBQUksRUFBRSxDQUQ0QjtBQUVsQ0MsaUJBQVcsRUFBRSxPQUZxQjtBQUdsQ0MsV0FBSyxFQUFFLElBSDJCO0FBSWxDQyxXQUFLLEVBQUVDLElBQUksQ0FBQ0MsS0FBTCxDQUFXRCxJQUFJLENBQUNFLE1BQUwsS0FBZ0IsQ0FBM0IsQ0FKMkI7QUFLbENDLFdBQUssRUFBRSxHQUwyQjtBQU1sQ0MsWUFBTSxFQUFFO0FBTjBCLEtBQWxCLENBQWxCLENBSHFCLENBV3JCO0FBQ0E7O0FBQ0FDLHdFQUFRLENBQUNsQixJQUFJLENBQUNLLEdBQU4sRUFBV0MsU0FBUyxDQUFDYSxJQUFyQixFQUEyQixLQUFLLEVBQWhDLENBQVI7QUFDQXBCLE9BQUcsQ0FBQ0MsSUFBSixHQUFXO0FBQ1RvQixVQUFJLEVBQUUsR0FERztBQUVUQyxVQUFJLEVBQUVmLFNBQVMsQ0FBQ2U7QUFGUCxLQUFYO0FBSUQ7O0FBbkJvQjs7QUFzQlIsbUVBQUl4QixnQkFBSixFQUFmIiwiZmlsZSI6Ii4vc3JjL2FwaS9QdWJsaWNDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN2Z0NhcHRjaGEgZnJvbSAnc3ZnLWNhcHRjaGEnXHJcbmltcG9ydCB7IHNldFZhbHVlIH0gZnJvbSAnLi4vY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG4vLyDlrprkuYnlm77lvaLpqozor4HnoIHlhoXlrrlcclxuY2xhc3MgUHVibGljQ29udHJvbGxlciB7XHJcbiAgYXN5bmMgZ2V0Q2FwdGNoYSAoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gY3R4LnJlcXVlc3QucXVlcnlcclxuICAgIGNvbnNvbGUubG9nKGJvZHkuc2lkKVxyXG4gICAgY29uc3QgbmV3Q2FwdGNhID0gc3ZnQ2FwdGNoYS5jcmVhdGUoe1xyXG4gICAgICBzaXplOiA0LFxyXG4gICAgICBpZ25vcmVDaGFyczogJzBvMWlsJyxcclxuICAgICAgY29sb3I6IHRydWUsXHJcbiAgICAgIG5vaXNlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1KSxcclxuICAgICAgd2lkdGg6IDE1MCxcclxuICAgICAgaGVpZ2h0OiAzOFxyXG4gICAgfSlcclxuICAgIC8vIGNvbnNvbGUubG9nKG5ld0NhcHRjYSlcclxuICAgIC8vIHNpZOWAvOS8oOWFpXJlZGlzLOiuvue9ruWbvueJh+mqjOivgeeggei2heaXtjEw5YiG6ZKfXHJcbiAgICBzZXRWYWx1ZShib2R5LnNpZCwgbmV3Q2FwdGNhLnRleHQsIDEwICogNjApXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiBuZXdDYXB0Y2EuZGF0YVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbmV3IFB1YmxpY0NvbnRyb2xsZXIoKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/PublicController.js\n");

/***/ }),

/***/ "./src/api/UserController.js":
/*!***********************************!*\
  !*** ./src/api/UserController.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/SignRecord */ \"./src/model/SignRecord.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/UserCollect */ \"./src/model/UserCollect.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _config_MailConfig__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/config/MailConfig */ \"./src/config/MailConfig.js\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid/v4 */ \"uuid/v4\");\n/* harmony import */ var uuid_v4__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(uuid_v4__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass UserController {\n  // 用户签到接口\n  async userSign(ctx) {\n    // 取用户的ID\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 查询用户上一次签到记录\n\n    const record = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByUid(obj._id);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n    let newRecord = {};\n    let result = ''; // 判断签到逻辑\n\n    if (record !== null) {\n      // 有历史的签到数据\n      // 判断用户上一次签到记录的created时间是否与今天相同\n      // 如果当前时间的日期与用户上一次的签到日期相同，说明用户已经签到\n      if (dayjs__WEBPACK_IMPORTED_MODULE_4___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYY-MM-DD')) {\n        ctx.body = {\n          code: 500,\n          favs: user.favs,\n          count: user.count,\n          lastSign: record.created,\n          msg: '用户已经签到'\n        };\n        return;\n      } else {\n        // 有上一次的签到记录，并且不与今天相同，进行连续签到的判断\n        // 如果相同，代表用户是在连续签到\n        let count = user.count;\n        let fav = 0; // 判断签到时间: 用户上一次的签到时间等于，当前时间的前一天，说明，用户在连续签到\n        // 第n+1天签到的时候，需要与第n的天created比较\n\n        if (dayjs__WEBPACK_IMPORTED_MODULE_4___default()(record.created).format('YYYY-MM-DD') === dayjs__WEBPACK_IMPORTED_MODULE_4___default()().subtract(1, 'days').format('YYYY-MM-DD')) {\n          // 连续签到的积分获得逻辑\n          count += 1;\n\n          if (count < 5) {\n            fav = 5;\n          } else if (count >= 5 && count < 15) {\n            fav = 10;\n          } else if (count >= 15 && count < 30) {\n            fav = 15;\n          } else if (count >= 30 && count < 100) {\n            fav = 20;\n          } else if (count >= 100 && count < 365) {\n            fav = 30;\n          } else if (count >= 365) {\n            fav = 50;\n          }\n\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            // user.favs += fav\n            // user.count += 1\n            $inc: {\n              favs: fav,\n              count: 1\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: user.count + 1\n          };\n        } else {\n          // 用户中断了一次签到\n          // 第n+1天签到的时候，需要与第n的天created比较，如果不相等，说明中断了签到。\n          fav = 5;\n          await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n            _id: obj._id\n          }, {\n            $set: {\n              count: 1\n            },\n            $inc: {\n              favs: fav\n            }\n          });\n          result = {\n            favs: user.favs + fav,\n            count: 1\n          };\n        } // 更新签到记录\n\n\n        newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n          uid: obj._id,\n          favs: fav\n        });\n        await newRecord.save();\n      }\n    } else {\n      // 无签到数据 =》 第一次签到\n      // 保存用户的签到数据，签到记数 + 积分数据\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          count: 1\n        },\n        $inc: {\n          favs: 5\n        }\n      }); // 保存用户的签到记录\n\n      newRecord = new _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n        uid: obj._id,\n        favs: 5\n      });\n      await newRecord.save();\n      result = {\n        favs: user.favs + 5,\n        count: 1\n      };\n    }\n\n    ctx.body = {\n      code: 200,\n      msg: '请求成功',\n      ...result,\n      lastSign: newRecord.created\n    };\n  } // 更新用户基本信息接口\n\n\n  async updateUserInfo(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization); // 判断用户是否修改了邮箱\n\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n    let msg = '';\n\n    if (body.username && body.username !== user.username) {\n      // 用户修改了邮箱\n      // 发送reset邮件\n      // 判断用户的新邮箱是否已经有人注册\n      const tmpUser = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n        username: body.username\n      });\n\n      if (tmpUser && tmpUser.password) {\n        ctx.body = {\n          code: 501,\n          msg: '邮箱已经注册'\n        };\n        return;\n      }\n\n      const key = uuid_v4__WEBPACK_IMPORTED_MODULE_6___default()();\n      Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"setValue\"])(key, jsonwebtoken__WEBPACK_IMPORTED_MODULE_7___default.a.sign({\n        _id: obj._id\n      }, _config_index__WEBPACK_IMPORTED_MODULE_8__[\"default\"].JWT_SECRET, {\n        expiresIn: '30m'\n      }));\n      await Object(_config_MailConfig__WEBPACK_IMPORTED_MODULE_5__[\"default\"])({\n        type: 'email',\n        data: {\n          key: key,\n          username: body.username\n        },\n        code: '',\n        expire: dayjs__WEBPACK_IMPORTED_MODULE_4___default()().add(30, 'minutes').format('YYYY-MM-DD HH:mm:ss'),\n        email: user.username,\n        user: user.name\n      });\n      msg = '更新基本资料成功，账号修改需要邮件确认，请查收邮件！';\n    }\n\n    const arr = ['username', 'mobile', 'password'];\n    arr.map(item => {\n      delete body[item];\n    });\n    const result = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n      _id: obj._id\n    }, body);\n\n    if (result.n === 1 && result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: msg === '' ? '更新成功' : msg\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新失败'\n      };\n    }\n  } // 更新用户名\n\n\n  async updateUsername(ctx) {\n    const body = ctx.query;\n\n    if (body.key) {\n      const token = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_9__[\"getValue\"])(body.key);\n      const obj = Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])('Bearer ' + token);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        username: body.username\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新用户名成功'\n      };\n    }\n  } // 修改密码接口\n\n\n  async changePasswd(ctx) {\n    const {\n      body\n    } = ctx.request;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n      _id: obj._id\n    });\n\n    if (await bcryptjs__WEBPACK_IMPORTED_MODULE_10___default.a.compare(body.oldpwd, user.password)) {\n      const newpasswd = await bcryptjs__WEBPACK_IMPORTED_MODULE_10___default.a.hash(body.newpwd, 5);\n      await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n        _id: obj._id\n      }, {\n        $set: {\n          password: newpasswd\n        }\n      });\n      ctx.body = {\n        code: 200,\n        msg: '更新密码成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '更新密码错误，请检查！'\n      };\n    }\n  } // 设置收藏\n\n\n  async setCollect(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (parseInt(params.isFav)) {\n      // 说明用户已经收藏了帖子\n      await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteOne({\n        uid: obj._id,\n        tid: params.tid\n      });\n      ctx.body = {\n        code: 200,\n        msg: '取消收藏成功'\n      };\n    } else {\n      const newCollect = new _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n        uid: obj._id,\n        tid: params.tid,\n        title: params.title\n      });\n      const result = await newCollect.save();\n\n      if (result.uid) {\n        ctx.body = {\n          code: 200,\n          data: result,\n          msg: '收藏成功'\n        };\n      }\n    }\n  } // 获取收藏列表\n\n\n  async getCollectByUid(ctx) {\n    const params = ctx.query;\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getListByUid(obj._id, params.page, params.limit ? parseInt(params.limit) : 10);\n    const total = await _model_UserCollect__WEBPACK_IMPORTED_MODULE_3__[\"default\"].countByUid(obj._id);\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        total,\n        msg: '查询列表成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询列表失败'\n      };\n    }\n  } // 获取用户基本信息\n\n\n  async getBasicInfo(ctx) {\n    const params = ctx.query;\n    const uid = params.uid;\n    let user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(uid);\n    console.log('哈哈哈哈哈', user); // 取得用户的签到记录 有没有 > today 0:00:00\n\n    user = user.toJSON();\n    const date = dayjs__WEBPACK_IMPORTED_MODULE_4___default()().format('YYYY-MM-DD');\n    const result = await _model_SignRecord__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n      uid: uid,\n      created: {\n        $gte: date + ' 00:00:00'\n      }\n    });\n\n    if (result && result.uid) {\n      user.isSign = true;\n    } else {\n      user.isSign = false;\n    }\n\n    ctx.body = {\n      code: 200,\n      data: user,\n      msg: '查询成功！'\n    };\n  } // 获取历史消息\n  // 记录评论之后，给作者发送消息\n\n\n  async getMsg(ctx) {\n    const params = ctx.query;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 0; // 方法一： 嵌套查询 -> aggregate\n    // 方法二： 通过冗余换时间\n\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_1__[\"getJWTPayload\"])(ctx.header.authorization);\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_11__[\"default\"].getMsgList(obj._id, page, limit);\n    console.log(result, obj);\n    ctx.body = {\n      code: 200,\n      data: result\n    };\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new UserController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzP2I5YWYiXSwibmFtZXMiOlsiVXNlckNvbnRyb2xsZXIiLCJ1c2VyU2lnbiIsImN0eCIsIm9iaiIsImdldEpXVFBheWxvYWQiLCJoZWFkZXIiLCJhdXRob3JpemF0aW9uIiwicmVjb3JkIiwiU2lnblJlY29yZCIsImZpbmRCeVVpZCIsIl9pZCIsInVzZXIiLCJVc2VyIiwiZmluZEJ5SUQiLCJuZXdSZWNvcmQiLCJyZXN1bHQiLCJtb21lbnQiLCJjcmVhdGVkIiwiZm9ybWF0IiwiYm9keSIsImNvZGUiLCJmYXZzIiwiY291bnQiLCJsYXN0U2lnbiIsIm1zZyIsImZhdiIsInN1YnRyYWN0IiwidXBkYXRlT25lIiwiJGluYyIsIiRzZXQiLCJ1aWQiLCJzYXZlIiwidXBkYXRlVXNlckluZm8iLCJyZXF1ZXN0IiwiZmluZE9uZSIsInVzZXJuYW1lIiwidG1wVXNlciIsInBhc3N3b3JkIiwia2V5IiwidXVpZCIsInNldFZhbHVlIiwiand0Iiwic2lnbiIsImNvbmZpZyIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJzZW5kIiwidHlwZSIsImRhdGEiLCJleHBpcmUiLCJhZGQiLCJlbWFpbCIsIm5hbWUiLCJhcnIiLCJtYXAiLCJpdGVtIiwibiIsIm9rIiwidXBkYXRlVXNlcm5hbWUiLCJxdWVyeSIsInRva2VuIiwiZ2V0VmFsdWUiLCJjaGFuZ2VQYXNzd2QiLCJiY3J5cHQiLCJjb21wYXJlIiwib2xkcHdkIiwibmV3cGFzc3dkIiwiaGFzaCIsIm5ld3B3ZCIsInNldENvbGxlY3QiLCJwYXJhbXMiLCJwYXJzZUludCIsImlzRmF2IiwiVXNlckNvbGxlY3QiLCJkZWxldGVPbmUiLCJ0aWQiLCJuZXdDb2xsZWN0IiwidGl0bGUiLCJnZXRDb2xsZWN0QnlVaWQiLCJnZXRMaXN0QnlVaWQiLCJwYWdlIiwibGltaXQiLCJ0b3RhbCIsImNvdW50QnlVaWQiLCJsZW5ndGgiLCJnZXRCYXNpY0luZm8iLCJjb25zb2xlIiwibG9nIiwidG9KU09OIiwiZGF0ZSIsIiRndGUiLCJpc1NpZ24iLCJnZXRNc2ciLCJDb21tZW50cyIsImdldE1zZ0xpc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsY0FBTixDQUFxQjtBQUNuQjtBQUNBLFFBQU1DLFFBQU4sQ0FBZ0JDLEdBQWhCLEVBQXFCO0FBQ25CO0FBQ0EsVUFBTUMsR0FBRyxHQUFHLE1BQU1DLG1FQUFhLENBQUNGLEdBQUcsQ0FBQ0csTUFBSixDQUFXQyxhQUFaLENBQS9CLENBRm1CLENBR25COztBQUNBLFVBQU1DLE1BQU0sR0FBRyxNQUFNQyx5REFBVSxDQUFDQyxTQUFYLENBQXFCTixHQUFHLENBQUNPLEdBQXpCLENBQXJCO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLE1BQU1DLG1EQUFJLENBQUNDLFFBQUwsQ0FBY1YsR0FBRyxDQUFDTyxHQUFsQixDQUFuQjtBQUNBLFFBQUlJLFNBQVMsR0FBRyxFQUFoQjtBQUNBLFFBQUlDLE1BQU0sR0FBRyxFQUFiLENBUG1CLENBUW5COztBQUNBLFFBQUlSLE1BQU0sS0FBSyxJQUFmLEVBQXFCO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLFVBQUlTLDRDQUFNLENBQUNULE1BQU0sQ0FBQ1UsT0FBUixDQUFOLENBQXVCQyxNQUF2QixDQUE4QixZQUE5QixNQUFnREYsNENBQU0sR0FBR0UsTUFBVCxDQUFnQixZQUFoQixDQUFwRCxFQUFtRjtBQUNqRmhCLFdBQUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxjQUFJLEVBQUUsR0FERztBQUVUQyxjQUFJLEVBQUVWLElBQUksQ0FBQ1UsSUFGRjtBQUdUQyxlQUFLLEVBQUVYLElBQUksQ0FBQ1csS0FISDtBQUlUQyxrQkFBUSxF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QUcsQ0FBQ2lCLElBQUosR0FBVztBQUNUQyxVQUFJLEVBQUUsR0FERztBQUVUNEIsVUFBSSxFQUFFckMsSUFGRztBQUdUYSxTQUFHLEVBQUU7QUFISSxLQUFYO0FBS0QsR0FsUmtCLENBb1JuQjtBQUNBOzs7QUFDQSxRQUFNb0UsTUFBTixDQUFjMUYsR0FBZCxFQUFtQjtBQUNqQixVQUFNb0UsTUFBTSxHQUFHcEUsR0FBRyxDQUFDeUQsS0FBbkI7QUFDQSxVQUFNcUIsSUFBSSxHQUFHVixNQUFNLENBQUNVLElBQVAsR0FBY1YsTUFBTSxDQUFDVSxJQUFyQixHQUE0QixDQUF6QztBQUNBLFVBQU1DLEtBQUssR0FBR1gsTUFBTSxDQUFDVyxLQUFQLEdBQWVWLFFBQVEsQ0FBQ0QsTUFBTSxDQUFDVyxLQUFSLENBQXZCLEdBQXdDLENBQXRELENBSGlCLENBSWpCO0FBQ0E7O0FBQ0EsVUFBTTlFLEdBQUcsR0FBRyxNQUFNQyxtRUFBYSxDQUFDRixHQUFHLENBQUNHLE1BQUosQ0FBV0MsYUFBWixDQUEvQjtBQUNBLFVBQU1TLE1BQU0sR0FBRyxNQUFNOEUsd0RBQVEsQ0FBQ0MsVUFBVCxDQUFvQjNGLEdBQUcsQ0FBQ08sR0FBeEIsRUFBNkJzRSxJQUE3QixFQUFtQ0MsS0FBbkMsQ0FBckI7QUFDQUssV0FBTyxDQUFDQyxHQUFSLENBQVl4RSxNQUFaLEVBQW9CWixHQUFwQjtBQUNBRCxPQUFHLENBQUNpQixJQUFKLEdBQVc7QUFDVEMsVUFBSSxFQUFFLEdBREc7QUFFVDRCLFVBQUksRUFBRWpDO0FBRkcsS0FBWDtBQUlEOztBQW5Ta0I7O0FBc1NOLG1FQUFJZixjQUFKLEVBQWYiLCJmaWxlIjoiLi9zcmMvYXBpL1VzZXJDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZ25SZWNvcmQgZnJvbSAnLi4vbW9kZWwvU2lnblJlY29yZCdcclxuaW1wb3J0IHsgZ2V0SldUUGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWwvVXNlcidcclxuaW1wb3J0IFVzZXJDb2xsZWN0IGZyb20gJy4uL21vZGVsL1VzZXJDb2xsZWN0J1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5pbXBvcnQgc2VuZCBmcm9tICdAL2NvbmZpZy9NYWlsQ29uZmlnJ1xyXG5pbXBvcnQgdXVpZCBmcm9tICd1dWlkL3Y0J1xyXG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IGNvbmZpZyBmcm9tICdAL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IHsgc2V0VmFsdWUsIGdldFZhbHVlIH0gZnJvbSAnLi4vY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgQ29tbWVudHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHMnXHJcbmNsYXNzIFVzZXJDb250cm9sbGVyIHtcclxuICAvLyDnlKjmiLfnrb7liLDmjqXlj6NcclxuICBhc3luYyB1c2VyU2lnbiAoY3R4KSB7XHJcbiAgICAvLyDlj5bnlKjmiLfnmoRJRFxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICAvLyDmn6Xor6LnlKjmiLfkuIrkuIDmrKHnrb7liLDorrDlvZVcclxuICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IFNpZ25SZWNvcmQuZmluZEJ5VWlkKG9iai5faWQpXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlJRChvYmouX2lkKVxyXG4gICAgbGV0IG5ld1JlY29yZCA9IHt9XHJcbiAgICBsZXQgcmVzdWx0ID0gJydcclxuICAgIC8vIOWIpOaWreetvuWIsOmAu+i+kVxyXG4gICAgaWYgKHJlY29yZCAhPT0gbnVsbCkge1xyXG4gICAgICAvLyDmnInljoblj7LnmoTnrb7liLDmlbDmja5cclxuICAgICAgLy8g5Yik5pat55So5oi35LiK5LiA5qyh562+5Yiw6K6w5b2V55qEY3JlYXRlZOaXtumXtOaYr+WQpuS4juS7iuWkqeebuOWQjFxyXG4gICAgICAvLyDlpoLmnpzlvZPliY3ml7bpl7TnmoTml6XmnJ/kuI7nlKjmiLfkuIrkuIDmrKHnmoTnrb7liLDml6XmnJ/nm7jlkIzvvIzor7TmmI7nlKjmiLflt7Lnu4/nrb7liLBcclxuICAgICAgaWYgKG1vbWVudChyZWNvcmQuY3JlYXRlZCkuZm9ybWF0KCdZWVlZLU1NLUREJykgPT09IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKSB7XHJcbiAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMsXHJcbiAgICAgICAgICBjb3VudDogdXNlci5jb3VudCxcclxuICAgICAgICAgIGxhc3RTaWduOiByZWNvcmQuY3JlYXRlZCxcclxuICAgICAgICAgIG1zZzogJ+eUqOaIt+W3sue7j+etvuWIsCdcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g5pyJ5LiK5LiA5qyh55qE562+5Yiw6K6w5b2V77yM5bm25LiU5LiN5LiO5LuK5aSp55u45ZCM77yM6L+b6KGM6L+e57ut562+5Yiw55qE5Yik5patXHJcbiAgICAgICAgLy8g5aaC5p6c55u45ZCM77yM5Luj6KGo55So5oi35piv5Zyo6L+e57ut562+5YiwXHJcbiAgICAgICAgbGV0IGNvdW50ID0gdXNlci5jb3VudFxyXG4gICAgICAgIGxldCBmYXYgPSAwXHJcbiAgICAgICAgLy8g5Yik5pat562+5Yiw5pe26Ze0OiDnlKjmiLfkuIrkuIDmrKHnmoTnrb7liLDml7bpl7TnrYnkuo7vvIzlvZPliY3ml7bpl7TnmoTliY3kuIDlpKnvvIzor7TmmI7vvIznlKjmiLflnKjov57nu63nrb7liLBcclxuICAgICAgICAvLyDnrKxuKzHlpKnnrb7liLDnmoTml7blgJnvvIzpnIDopoHkuI7nrKxu55qE5aSpY3JlYXRlZOavlOi+g1xyXG4gICAgICAgIGlmIChtb21lbnQocmVjb3JkLmNyZWF0ZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpID09PSBtb21lbnQoKS5zdWJ0cmFjdCgxLCAnZGF5cycpLmZvcm1hdCgnWVlZWS1NTS1ERCcpKSB7XHJcbiAgICAgICAgICAvLyDov57nu63nrb7liLDnmoTnp6/liIbojrflvpfpgLvovpFcclxuICAgICAgICAgIGNvdW50ICs9IDFcclxuICAgICAgICAgIGlmIChjb3VudCA8IDUpIHtcclxuICAgICAgICAgICAgZmF2ID0gNVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSA1ICYmIGNvdW50IDwgMTUpIHtcclxuICAgICAgICAgICAgZmF2ID0gMTBcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMTUgJiYgY291bnQgPCAzMCkge1xyXG4gICAgICAgICAgICBmYXYgPSAxNVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAzMCAmJiBjb3VudCA8IDEwMCkge1xyXG4gICAgICAgICAgICBmYXYgPSAyMFxyXG4gICAgICAgICAgfSBlbHNlIGlmIChjb3VudCA+PSAxMDAgJiYgY291bnQgPCAzNjUpIHtcclxuICAgICAgICAgICAgZmF2ID0gMzBcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY291bnQgPj0gMzY1KSB7XHJcbiAgICAgICAgICAgIGZhdiA9IDUwXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhd2FpdCBVc2VyLnVwZGF0ZU9uZShcclxuICAgICAgICAgICAgeyBfaWQ6IG9iai5faWQgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIC8vIHVzZXIuZmF2cyArPSBmYXZcclxuICAgICAgICAgICAgICAvLyB1c2VyLmNvdW50ICs9IDFcclxuICAgICAgICAgICAgICAkaW5jOiB7IGZhdnM6IGZhdiwgY291bnQ6IDEgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIGZhdixcclxuICAgICAgICAgICAgY291bnQ6IHVzZXIuY291bnQgKyAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOeUqOaIt+S4reaWreS6huS4gOasoeetvuWIsFxyXG4gICAgICAgICAgLy8g56ysbisx5aSp562+5Yiw55qE5pe25YCZ77yM6ZyA6KaB5LiO56ysbueahOWkqWNyZWF0ZWTmr5TovoPvvIzlpoLmnpzkuI3nm7jnrYnvvIzor7TmmI7kuK3mlq3kuobnrb7liLDjgIJcclxuICAgICAgICAgIGZhdiA9IDVcclxuICAgICAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxyXG4gICAgICAgICAgICB7IF9pZDogb2JqLl9pZCB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgJHNldDogeyBjb3VudDogMSB9LFxyXG4gICAgICAgICAgICAgICRpbmM6IHsgZmF2czogZmF2IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBmYXZzOiB1c2VyLmZhdnMgKyBmYXYsXHJcbiAgICAgICAgICAgIGNvdW50OiAxXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOabtOaWsOetvuWIsOiusOW9lVxyXG4gICAgICAgIG5ld1JlY29yZCA9IG5ldyBTaWduUmVjb3JkKHtcclxuICAgICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICAgIGZhdnM6IGZhdlxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgYXdhaXQgbmV3UmVjb3JkLnNhdmUoKVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDml6Dnrb7liLDmlbDmja4gPeOAiyDnrKzkuIDmrKHnrb7liLBcclxuICAgICAgLy8g5L+d5a2Y55So5oi355qE562+5Yiw5pWw5o2u77yM562+5Yiw6K6w5pWwICsg56ev5YiG5pWw5o2uXHJcbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKHtcclxuICAgICAgICBfaWQ6IG9iai5faWRcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgICRzZXQ6IHsgY291bnQ6IDEgfSxcclxuICAgICAgICAkaW5jOiB7IGZhdnM6IDUgfVxyXG4gICAgICB9KVxyXG4gICAgICAvLyDkv53lrZjnlKjmiLfnmoTnrb7liLDorrDlvZVcclxuICAgICAgbmV3UmVjb3JkID0gbmV3IFNpZ25SZWNvcmQoe1xyXG4gICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICBmYXZzOiA1XHJcbiAgICAgIH0pXHJcbiAgICAgIGF3YWl0IG5ld1JlY29yZC5zYXZlKClcclxuICAgICAgcmVzdWx0ID0ge1xyXG4gICAgICAgIGZhdnM6IHVzZXIuZmF2cyArIDUsXHJcbiAgICAgICAgY291bnQ6IDFcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgbXNnOiAn6K+35rGC5oiQ5YqfJyxcclxuICAgICAgLi4ucmVzdWx0LFxyXG4gICAgICBsYXN0U2lnbjogbmV3UmVjb3JkLmNyZWF0ZWRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOabtOaWsOeUqOaIt+WfuuacrOS/oeaBr+aOpeWPo1xyXG4gIGFzeW5jIHVwZGF0ZVVzZXJJbmZvIChjdHgpIHtcclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5L+u5pS55LqG6YKu566xXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgX2lkOiBvYmouX2lkIH0pXHJcbiAgICBsZXQgbXNnID0gJydcclxuICAgIGlmIChib2R5LnVzZXJuYW1lICYmIGJvZHkudXNlcm5hbWUgIT09IHVzZXIudXNlcm5hbWUpIHtcclxuICAgICAgLy8g55So5oi35L+u5pS55LqG6YKu566xXHJcbiAgICAgIC8vIOWPkemAgXJlc2V06YKu5Lu2XHJcbiAgICAgIC8vIOWIpOaWreeUqOaIt+eahOaWsOmCrueuseaYr+WQpuW3sue7j+acieS6uuazqOWGjFxyXG4gICAgICBjb25zdCB0bXBVc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgdXNlcm5hbWU6IGJvZHkudXNlcm5hbWUgfSlcclxuICAgICAgaWYgKHRtcFVzZXIgJiYgdG1wVXNlci5wYXNzd29yZCkge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogNTAxLFxyXG4gICAgICAgICAgbXNnOiAn6YKu566x5bey57uP5rOo5YaMJ1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBjb25zdCBrZXkgPSB1dWlkKClcclxuICAgICAgc2V0VmFsdWUoa2V5LCBqd3Quc2lnbih7IF9pZDogb2JqLl9pZCB9LCBjb25maWcuSldUX1NFQ1JFVCwge1xyXG4gICAgICAgIGV4cGlyZXNJbjogJzMwbSdcclxuICAgICAgfSkpXHJcbiAgICAgIGF3YWl0IHNlbmQoe1xyXG4gICAgICAgIHR5cGU6ICdlbWFpbCcsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAga2V5OiBrZXksXHJcbiAgICAgICAgICB1c2VybmFtZTogYm9keS51c2VybmFtZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29kZTogJycsXHJcbiAgICAgICAgZXhwaXJlOiBtb21lbnQoKVxyXG4gICAgICAgICAgLmFkZCgzMCwgJ21pbnV0ZXMnKVxyXG4gICAgICAgICAgLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpLFxyXG4gICAgICAgIGVtYWlsOiB1c2VyLnVzZXJuYW1lLFxyXG4gICAgICAgIHVzZXI6IHVzZXIubmFtZVxyXG4gICAgICB9KVxyXG4gICAgICBtc2cgPSAn5pu05paw5Z+65pys6LWE5paZ5oiQ5Yqf77yM6LSm5Y+35L+u5pS56ZyA6KaB6YKu5Lu256Gu6K6k77yM6K+35p+l5pS26YKu5Lu277yBJ1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFyciA9IFsndXNlcm5hbWUnLCAnbW9iaWxlJywgJ3Bhc3N3b3JkJ11cclxuICAgIGFyci5tYXAoKGl0ZW0pID0+IHsgZGVsZXRlIGJvZHlbaXRlbV0gfSlcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFVzZXIudXBkYXRlT25lKHsgX2lkOiBvYmouX2lkIH0sIGJvZHkpXHJcbiAgICBpZiAocmVzdWx0Lm4gPT09IDEgJiYgcmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6IG1zZyA9PT0gJycgPyAn5pu05paw5oiQ5YqfJyA6IG1zZ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5pu05paw5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmm7TmlrDnlKjmiLflkI1cclxuICBhc3luYyB1cGRhdGVVc2VybmFtZSAoY3R4KSB7XHJcbiAgICBjb25zdCBib2R5ID0gY3R4LnF1ZXJ5XHJcbiAgICBpZiAoYm9keS5rZXkpIHtcclxuICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCBnZXRWYWx1ZShib2R5LmtleSlcclxuICAgICAgY29uc3Qgb2JqID0gZ2V0SldUUGF5bG9hZCgnQmVhcmVyICcgKyB0b2tlbilcclxuICAgICAgYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IG9iai5faWQgfSwge1xyXG4gICAgICAgIHVzZXJuYW1lOiBib2R5LnVzZXJuYW1lXHJcbiAgICAgIH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICfmm7TmlrDnlKjmiLflkI3miJDlip8nXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOS/ruaUueWvhueggeaOpeWPo1xyXG4gIGFzeW5jIGNoYW5nZVBhc3N3ZCAoY3R4KSB7XHJcbiAgICBjb25zdCB7IGJvZHkgfSA9IGN0eC5yZXF1ZXN0XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBfaWQ6IG9iai5faWQgfSlcclxuICAgIGlmIChhd2FpdCBiY3J5cHQuY29tcGFyZShib2R5Lm9sZHB3ZCwgdXNlci5wYXNzd29yZCkpIHtcclxuICAgICAgY29uc3QgbmV3cGFzc3dkID0gYXdhaXQgYmNyeXB0Lmhhc2goYm9keS5uZXdwd2QsIDUpXHJcbiAgICAgIGF3YWl0IFVzZXIudXBkYXRlT25lKFxyXG4gICAgICAgIHsgX2lkOiBvYmouX2lkIH0sXHJcbiAgICAgICAgeyAkc2V0OiB7IHBhc3N3b3JkOiBuZXdwYXNzd2QgfSB9XHJcbiAgICAgIClcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgIG1zZzogJ+abtOaWsOWvhueggeaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+abtOaWsOWvhueggemUmeivr++8jOivt+ajgOafpe+8gSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6K6+572u5pS26JePXHJcbiAgYXN5bmMgc2V0Q29sbGVjdCAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgaWYgKHBhcnNlSW50KHBhcmFtcy5pc0ZhdikpIHtcclxuICAgICAgLy8g6K+05piO55So5oi35bey57uP5pS26JeP5LqG5biW5a2QXHJcbiAgICAgIGF3YWl0IFVzZXJDb2xsZWN0LmRlbGV0ZU9uZSh7IHVpZDogb2JqLl9pZCwgdGlkOiBwYXJhbXMudGlkIH0pXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBtc2c6ICflj5bmtojmlLbol4/miJDlip8nXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IG5ld0NvbGxlY3QgPSBuZXcgVXNlckNvbGxlY3Qoe1xyXG4gICAgICAgIHVpZDogb2JqLl9pZCxcclxuICAgICAgICB0aWQ6IHBhcmFtcy50aWQsXHJcbiAgICAgICAgdGl0bGU6IHBhcmFtcy50aXRsZVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBuZXdDb2xsZWN0LnNhdmUoKVxyXG4gICAgICBpZiAocmVzdWx0LnVpZCkge1xyXG4gICAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgZGF0YTogcmVzdWx0LFxyXG4gICAgICAgICAgbXNnOiAn5pS26JeP5oiQ5YqfJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g6I635Y+W5pS26JeP5YiX6KGoXHJcbiAgYXN5bmMgZ2V0Q29sbGVjdEJ5VWlkIChjdHgpIHtcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBVc2VyQ29sbGVjdC5nZXRMaXN0QnlVaWQob2JqLl9pZCwgcGFyYW1zLnBhZ2UsIHBhcmFtcy5saW1pdCA/IHBhcnNlSW50KHBhcmFtcy5saW1pdCkgOiAxMClcclxuICAgIGNvbnN0IHRvdGFsID0gYXdhaXQgVXNlckNvbGxlY3QuY291bnRCeVVpZChvYmouX2lkKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgdG90YWwsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5YiX6KGo5aSx6LSlJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDojrflj5bnlKjmiLfln7rmnKzkv6Hmga9cclxuICBhc3luYyBnZXRCYXNpY0luZm8gKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB1aWQgPSBwYXJhbXMudWlkXHJcbiAgICBsZXQgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQodWlkKVxyXG4gICAgY29uc29sZS5sb2coJ+WTiOWTiOWTiOWTiOWTiCcsIHVzZXIpXHJcbiAgICAvLyDlj5blvpfnlKjmiLfnmoTnrb7liLDorrDlvZUg5pyJ5rKh5pyJID4gdG9kYXkgMDowMDowMFxyXG4gICAgdXNlciA9IHVzZXIudG9KU09OKClcclxuICAgIGNvbnN0IGRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU2lnblJlY29yZC5maW5kT25lKHsgdWlkOiB1aWQsIGNyZWF0ZWQ6IHsgJGd0ZTogZGF0ZSArICcgMDA6MDA6MDAnIH0gfSlcclxuICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnVpZCkge1xyXG4gICAgICB1c2VyLmlzU2lnbiA9IHRydWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVzZXIuaXNTaWduID0gZmFsc2VcclxuICAgIH1cclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHVzZXIsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKn++8gSdcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPluWOhuWPsua2iOaBr1xyXG4gIC8vIOiusOW9leivhOiuuuS5i+WQju+8jOe7meS9nOiAheWPkemAgea2iOaBr1xyXG4gIGFzeW5jIGdldE1zZyAoY3R4KSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBhZ2UgPSBwYXJhbXMucGFnZSA/IHBhcmFtcy5wYWdlIDogMFxyXG4gICAgY29uc3QgbGltaXQgPSBwYXJhbXMubGltaXQgPyBwYXJzZUludChwYXJhbXMubGltaXQpIDogMFxyXG4gICAgLy8g5pa55rOV5LiA77yaIOW1jOWll+afpeivoiAtPiBhZ2dyZWdhdGVcclxuICAgIC8vIOaWueazleS6jO+8miDpgJrov4flhpfkvZnmjaLml7bpl7RcclxuICAgIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0TXNnTGlzdChvYmouX2lkLCBwYWdlLCBsaW1pdClcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgb2JqKVxyXG4gICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YTogcmVzdWx0XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBuZXcgVXNlckNvbnRyb2xsZXIoKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/UserController.js\n");

/***/ }),

/***/ "./src/api/commentsController.js":
/*!***************************************!*\
  !*** ./src/api/commentsController.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_Comments__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../model/Comments */ \"./src/model/Comments.js\");\n/* harmony import */ var _model_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/Post */ \"./src/model/Post.js\");\n/* harmony import */ var _model_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/User */ \"./src/model/User.js\");\n/* harmony import */ var _common_Utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/common/Utils */ \"./src/common/Utils.js\");\n/* harmony import */ var _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../model/CommentsHands */ \"./src/model/CommentsHands.js\");\n\n\n\n\n\n\n\nconst canReply = async ctx => {\n  let result = false;\n  const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n  if (typeof obj._id === 'undefined') {\n    return result;\n  } else {\n    const user = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByID(obj._id);\n\n    if (user.status === '0') {\n      result = true;\n    }\n\n    return result;\n  }\n};\n\nclass CommentsController {\n  // 获取评论列表\n  async getComments(ctx) {\n    const params = ctx.query;\n    const tid = params.tid;\n    const page = params.page ? params.page : 0;\n    const limit = params.limit ? parseInt(params.limit) : 10;\n    let result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommentsList(tid, page, limit); // 判断用户是否登录，已登录的用户才去判断点赞信息\n\n    let obj = {};\n\n    if (typeof ctx.header.authorization !== 'undefined') {\n      obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    }\n\n    if (typeof obj._id !== 'undefined') {\n      result = result.map(item => item.toJSON());\n\n      for (let i = 0; i < result.length; i++) {\n        const item = result[i];\n        item.handed = '0';\n        const commentsHands = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].findOne({\n          cid: item._id,\n          uid: obj._id\n        });\n\n        if (commentsHands && commentsHands.cid) {\n          if (commentsHands.uid === obj._id) {\n            item.handed = '1';\n          }\n        }\n      }\n    }\n\n    const total = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].queryCount(tid);\n    ctx.body = {\n      code: 200,\n      total,\n      data: result,\n      msg: '查询成功'\n    };\n  } // 获取用户最近的评论记录\n\n\n  async getCommentPublic(ctx) {\n    const params = ctx.query;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCommetsPublic(params.uid, params.page, parseInt(params.limit));\n\n    if (result.length > 0) {\n      ctx.body = {\n        code: 200,\n        data: result,\n        msg: '查询最近的评论记录成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '查询评论记录失败！'\n      };\n    }\n  } // 添加评论\n\n\n  async addComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const sid = body.sid;\n    const code = body.code; // 验证图片验证码的时效性、正确性\n\n    const result = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"checkCode\"])(sid, code);\n\n    if (!result) {\n      ctx.body = {\n        code: 500,\n        msg: '图片验证码不正确,请检查！'\n      };\n      return;\n    }\n\n    const newComment = new _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"](body);\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    newComment.cuid = obj._id; // 查询帖子的作者，以便发送消息\n\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: body.tid\n    });\n    newComment.uid = post.uid;\n    const comment = await newComment.save(); // 评论计数\n\n    const updatePostresult = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n      _id: body.tid\n    }, {\n      $inc: {\n        answer: 1\n      }\n    });\n\n    if (comment._id && updatePostresult.ok === 1) {\n      ctx.body = {\n        code: 200,\n        data: comment,\n        msg: '评论成功'\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '评论失败'\n      };\n    }\n  }\n\n  async updateComment(ctx) {\n    const check = await canReply(ctx);\n\n    if (!check) {\n      ctx.body = {\n        code: 500,\n        msg: '用户已被禁言！'\n      };\n      return;\n    }\n\n    const {\n      body\n    } = ctx.request;\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: body.cid\n    }, {\n      $set: body\n    });\n    ctx.body = {\n      code: 200,\n      msg: '修改成功',\n      data: result\n    };\n  }\n\n  async setBest(ctx) {\n    // 对用户权限的判断，post uid -> header id\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n\n    if (typeof obj === 'undefined' && obj._id !== '') {\n      ctx.body = {\n        code: '401',\n        msg: '用户未登录，或者用户未受权'\n      };\n      return;\n    }\n\n    const params = ctx.query;\n    const post = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n      _id: params.tid\n    });\n\n    if (post.uid === obj._id && post.isEnd === '0') {\n      // 说明这是作者本人，可以去设置isBest\n      const result = await _model_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateOne({\n        _id: params.tid\n      }, {\n        $set: {\n          isEnd: '1'\n        }\n      });\n      const result1 = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n        _id: params.cid\n      }, {\n        $set: {\n          isBest: '1'\n        }\n      });\n\n      if (result.ok === 1 && result1.ok === 1) {\n        // 把积分值给采纳的用户\n        const comment = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findByCid(params.cid);\n        const result2 = await _model_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateOne({\n          _id: comment.cuid\n        }, {\n          $inc: {\n            favs: parseInt(post.fav)\n          }\n        });\n\n        if (result2.ok === 1) {\n          ctx.body = {\n            code: 200,\n            msg: '设置成功',\n            data: result2\n          };\n        } else {\n          ctx.body = {\n            code: 500,\n            msg: '设置最佳答案-更新用户失败'\n          };\n        }\n      } else {\n        ctx.body = {\n          code: 500,\n          msg: '设置失败',\n          data: { ...result,\n            ...result1\n          }\n        };\n      }\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '帖子已结贴，无法重复设置'\n      };\n    }\n  }\n\n  async setHands(ctx) {\n    const obj = await Object(_common_Utils__WEBPACK_IMPORTED_MODULE_3__[\"getJWTPayload\"])(ctx.header.authorization);\n    const params = ctx.query; // 判断用户是否已经点赞\n\n    const tmp = await _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"].find({\n      cid: params.cid,\n      uid: obj._id\n    });\n\n    if (tmp.length > 0) {\n      ctx.body = {\n        code: 500,\n        msg: '您已经点赞，请勿重复点赞'\n      };\n      return;\n    } // 新增一条点赞记录\n\n\n    const newHands = new _model_CommentsHands__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n      cid: params.cid,\n      uid: obj._id\n    });\n    const data = await newHands.save(); // 更新comments表中对应的记录的hands信息 +1\n\n    const result = await _model_Comments__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateOne({\n      _id: params.cid\n    }, {\n      $inc: {\n        hands: 1\n      }\n    });\n\n    if (result.ok === 1) {\n      ctx.body = {\n        code: 200,\n        msg: '点赞成功',\n        data: data\n      };\n    } else {\n      ctx.body = {\n        code: 500,\n        msg: '保存点赞记录失败！'\n      };\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (new CommentsController());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpL2NvbW1lbnRzQ29udHJvbGxlci5qcz81MzIzIl0sIm5hbWVzIjpbImNhblJlcGx5IiwiY3R4IiwicmVzdWx0Iiwib2JqIiwiZ2V0SldUUGF5bG9hZCIsImhlYWRlciIsImF1dGhvcml6YXRpb24iLCJfaWQiLCJ1c2VyIiwiVXNlciIsImZpbmRCeUlEIiwic3RhdHVzIiwiQ29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJwYXJhbXMiLCJxdWVyeSIsInRpZCIsInBhZ2UiLCJsaW1pdCIsInBhcnNlSW50IiwiQ29tbWVudHMiLCJnZXRDb21tZW50c0xpc3QiLCJtYXAiLCJpdGVtIiwidG9KU09OIiwiaSIsImxlbmd0aCIsImhhbmRlZCIsImNvbW1lbnRzSGFuZHMiLCJDb21tZW50c0hhbmRzIiwiZmluZE9uZSIsImNpZCIsInVpZCIsInRvdGFsIiwicXVlcnlDb3VudCIsImJvZHkiLCJjb2RlIiwiZGF0YSIsIm1zZyIsImdldENvbW1lbnRQdWJsaWMiLCJnZXRDb21tZXRzUHVibGljIiwiYWRkQ29tbWVudCIsImNoZWNrIiwicmVxdWVzdCIsInNpZCIsImNoZWNrQ29kZSIsIm5ld0NvbW1lbnQiLCJjdWlkIiwicG9zdCIsIlBvc3QiLCJjb21tZW50Iiwic2F2ZSIsInVwZGF0ZVBvc3RyZXN1bHQiLCJ1cGRhdGVPbmUiLCIkaW5jIiwiYW5zd2VyIiwib2siLCJ1cGRhdGVDb21tZW50IiwiJHNldCIsInNldEJlc3QiLCJpc0VuZCIsInJlc3VsdDEiLCJpc0Jlc3QiLCJmaW5kQnlDaWQiLCJyZXN1bHQyIiwiZmF2cyIsImZhdiIsInNldEhhbmRzIiwidG1wIiwiZmluZCIsIm5ld0hhbmRzIiwiaGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUcsTUFBT0MsR0FBUCxJQUFlO0FBQzlC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QUcsTUFBTWlDLFFBQVEsQ0FBQ25CLElBQVQsRUFBbkIsQ0FqQm1CLENBa0JuQjs7QUFDQSxVQUFNakQsTUFBTSxHQUFHLE1BQU1rQix1REFBUSxDQUFDaUMsU0FBVCxDQUFtQjtBQUFFOUMsU0FBRyxFQUFFTyxNQUFNLENBQUNpQjtBQUFkLEtBQW5CLEVBQXdDO0FBQUV1QixVQUFJLEVBQUU7QUFBRWlCLGFBQUssRUFBRTtBQUFUO0FBQVIsS0FBeEMsQ0FBckI7O0FBQ0EsUUFBSXJFLE1BQU0sQ0FBQ3NELEVBQVAsS0FBYyxDQUFsQixFQUFxQjtBQUNuQnZELFNBQUcsQ0FBQ2tDLElBQUosR0FBVztBQUNUQyxZQUFJLEVBQUUsR0FERztBQUVURSxXQUFHLEVBQUUsTUFGSTtBQUdURCxZQUFJLEVBQUVBO0FBSEcsT0FBWDtBQUtELEtBTkQsTUFNTztBQUNMcEMsU0FBRyxDQUFDa0MsSUFBSixHQUFXO0FBQ1RDLFlBQUksRUFBRSxHQURHO0FBRVRFLFdBQUcsRUFBRTtBQUZJLE9BQVg7QUFJRDtBQUNGOztBQXZNc0I7O0FBME1WLG1FQUFJMUIsa0JBQUosRUFBZiIsImZpbGUiOiIuL3NyYy9hcGkvY29tbWVudHNDb250cm9sbGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbW1lbnRzIGZyb20gJy4uL21vZGVsL0NvbW1lbnRzJ1xyXG5pbXBvcnQgUG9zdCBmcm9tICcuLi9tb2RlbC9Qb3N0J1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbC9Vc2VyJ1xyXG5pbXBvcnQgeyBjaGVja0NvZGUgfSBmcm9tICdAL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IHsgZ2V0SldUUGF5bG9hZCB9IGZyb20gJy4uL2NvbW1vbi9VdGlscydcclxuaW1wb3J0IENvbW1lbnRzSGFuZHMgZnJvbSAnLi4vbW9kZWwvQ29tbWVudHNIYW5kcydcclxuXHJcbmNvbnN0IGNhblJlcGx5ID0gYXN5bmMgKGN0eCkgPT4ge1xyXG4gIGxldCByZXN1bHQgPSBmYWxzZVxyXG4gIGNvbnN0IG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gIGlmICh0eXBlb2Ygb2JqLl9pZCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgIHJldHVybiByZXN1bHRcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SUQob2JqLl9pZClcclxuICAgIGlmICh1c2VyLnN0YXR1cyA9PT0gJzAnKSB7XHJcbiAgICAgIHJlc3VsdCA9IHRydWVcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHRcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIENvbW1lbnRzQ29udHJvbGxlciB7XHJcbiAgLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbiAgYXN5bmMgZ2V0Q29tbWVudHMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCB0aWQgPSBwYXJhbXMudGlkXHJcbiAgICBjb25zdCBwYWdlID0gcGFyYW1zLnBhZ2UgPyBwYXJhbXMucGFnZSA6IDBcclxuICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8gcGFyc2VJbnQocGFyYW1zLmxpbWl0KSA6IDEwXHJcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgQ29tbWVudHMuZ2V0Q29tbWVudHNMaXN0KHRpZCwgcGFnZSwgbGltaXQpXHJcbiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbnmbvlvZXvvIzlt7LnmbvlvZXnmoTnlKjmiLfmiY3ljrvliKTmlq3ngrnotZ7kv6Hmga9cclxuICAgIGxldCBvYmogPSB7fVxyXG4gICAgaWYgKHR5cGVvZiBjdHguaGVhZGVyLmF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIG9iaiA9IGF3YWl0IGdldEpXVFBheWxvYWQoY3R4LmhlYWRlci5hdXRob3JpemF0aW9uKVxyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBvYmouX2lkICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICByZXN1bHQgPSByZXN1bHQubWFwKGl0ZW0gPT4gaXRlbS50b0pTT04oKSlcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gcmVzdWx0W2ldXHJcbiAgICAgICAgaXRlbS5oYW5kZWQgPSAnMCdcclxuICAgICAgICBjb25zdCBjb21tZW50c0hhbmRzID0gYXdhaXQgQ29tbWVudHNIYW5kcy5maW5kT25lKHsgY2lkOiBpdGVtLl9pZCwgdWlkOiBvYmouX2lkIH0pXHJcbiAgICAgICAgaWYgKGNvbW1lbnRzSGFuZHMgJiYgY29tbWVudHNIYW5kcy5jaWQpIHtcclxuICAgICAgICAgIGlmIChjb21tZW50c0hhbmRzLnVpZCA9PT0gb2JqLl9pZCkge1xyXG4gICAgICAgICAgICBpdGVtLmhhbmRlZCA9ICcxJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBDb21tZW50cy5xdWVyeUNvdW50KHRpZClcclxuICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgIG1zZzogJ+afpeivouaIkOWKnydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOiOt+WPlueUqOaIt+acgOi/keeahOivhOiuuuiusOW9lVxyXG4gIGFzeW5jIGdldENvbW1lbnRQdWJsaWMgKGN0eCkge1xyXG4gICAgY29uc3QgcGFyYW1zID0gY3R4LnF1ZXJ5XHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBDb21tZW50cy5nZXRDb21tZXRzUHVibGljKHBhcmFtcy51aWQsIHBhcmFtcy5wYWdlLCBwYXJzZUludChwYXJhbXMubGltaXQpKVxyXG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiByZXN1bHQsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i5pyA6L+R55qE6K+E6K666K6w5b2V5oiQ5YqfJ1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5p+l6K+i6K+E6K666K6w5b2V5aSx6LSl77yBJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDmt7vliqDor4TorrpcclxuICBhc3luYyBhZGRDb21tZW50IChjdHgpIHtcclxuICAgIGNvbnN0IGNoZWNrID0gYXdhaXQgY2FuUmVwbHkoY3R4KVxyXG4gICAgaWYgKCFjaGVjaykge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn55So5oi35bey6KKr56aB6KiA77yBJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgeyBib2R5IH0gPSBjdHgucmVxdWVzdFxyXG4gICAgY29uc3Qgc2lkID0gYm9keS5zaWRcclxuICAgIGNvbnN0IGNvZGUgPSBib2R5LmNvZGVcclxuICAgIC8vIOmqjOivgeWbvueJh+mqjOivgeeggeeahOaXtuaViOaAp+OAgeato+ehruaAp1xyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2hlY2tDb2RlKHNpZCwgY29kZSlcclxuICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICflm77niYfpqozor4HnoIHkuI3mraPnoa4s6K+35qOA5p+l77yBJ1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgY29uc3QgbmV3Q29tbWVudCA9IG5ldyBDb21tZW50cyhib2R5KVxyXG4gICAgY29uc3Qgb2JqID0gYXdhaXQgZ2V0SldUUGF5bG9hZChjdHguaGVhZGVyLmF1dGhvcml6YXRpb24pXHJcbiAgICBuZXdDb21tZW50LmN1aWQgPSBvYmouX2lkXHJcbiAgICAvLyDmn6Xor6LluJblrZDnmoTkvZzogIXvvIzku6Xkvr/lj5HpgIHmtojmga9cclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IGJvZHkudGlkIH0pXHJcbiAgICBuZXdDb21tZW50LnVpZCA9IHBvc3QudWlkXHJcbiAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgbmV3Q29tbWVudC5zYXZlKClcclxuICAgIC8vIOivhOiuuuiuoeaVsFxyXG4gICAgY29uc3QgdXBkYXRlUG9zdHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBib2R5LnRpZCB9LCB7ICRpbmM6IHsgYW5zd2VyOiAxIH0gfSlcclxuICAgIGlmIChjb21tZW50Ll9pZCAmJiB1cGRhdGVQb3N0cmVzdWx0Lm9rID09PSAxKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICBkYXRhOiBjb21tZW50LFxyXG4gICAgICAgIG1zZzogJ+ivhOiuuuaIkOWKnydcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+ivhOiuuuWksei0pSdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlQ29tbWVudCAoY3R4KSB7XHJcbiAgICBjb25zdCBjaGVjayA9IGF3YWl0IGNhblJlcGx5KGN0eClcclxuICAgIGlmICghY2hlY2spIHtcclxuICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgIG1zZzogJ+eUqOaIt+W3suiiq+emgeiogO+8gSdcclxuICAgICAgfVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IHsgYm9keSB9ID0gY3R4LnJlcXVlc3RcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7IF9pZDogYm9keS5jaWQgfSwgeyAkc2V0OiBib2R5IH0pXHJcbiAgICBjdHguYm9keSA9IHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBtc2c6ICfkv67mlLnmiJDlip8nLFxyXG4gICAgICBkYXRhOiByZXN1bHRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIHNldEJlc3QgKGN0eCkge1xyXG4gICAgLy8g5a+555So5oi35p2D6ZmQ55qE5Yik5pat77yMcG9zdCB1aWQgLT4gaGVhZGVyIGlkXHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyAmJiBvYmouX2lkICE9PSAnJykge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAnNDAxJyxcclxuICAgICAgICBtc2c6ICfnlKjmiLfmnKrnmbvlvZXvvIzmiJbogIXnlKjmiLfmnKrlj5fmnYMnXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBjb25zdCBwYXJhbXMgPSBjdHgucXVlcnlcclxuICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmZpbmRPbmUoeyBfaWQ6IHBhcmFtcy50aWQgfSlcclxuICAgIGlmIChwb3N0LnVpZCA9PT0gb2JqLl9pZCAmJiBwb3N0LmlzRW5kID09PSAnMCcpIHtcclxuICAgICAgLy8g6K+05piO6L+Z5piv5L2c6ICF5pys5Lq677yM5Y+v5Lul5Y676K6+572uaXNCZXN0XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFBvc3QudXBkYXRlT25lKHsgX2lkOiBwYXJhbXMudGlkIH0sIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBpc0VuZDogJzEnXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zdCByZXN1bHQxID0gYXdhaXQgQ29tbWVudHMudXBkYXRlT25lKHsgX2lkOiBwYXJhbXMuY2lkIH0sIHsgJHNldDogeyBpc0Jlc3Q6ICcxJyB9IH0pXHJcbiAgICAgIGlmIChyZXN1bHQub2sgPT09IDEgJiYgcmVzdWx0MS5vayA9PT0gMSkge1xyXG4gICAgICAgIC8vIOaKiuenr+WIhuWAvOe7memHh+e6s+eahOeUqOaIt1xyXG4gICAgICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBDb21tZW50cy5maW5kQnlDaWQocGFyYW1zLmNpZClcclxuICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgVXNlci51cGRhdGVPbmUoeyBfaWQ6IGNvbW1lbnQuY3VpZCB9LCB7ICRpbmM6IHsgZmF2czogcGFyc2VJbnQocG9zdC5mYXYpIH0gfSlcclxuICAgICAgICBpZiAocmVzdWx0Mi5vayA9PT0gMSkge1xyXG4gICAgICAgICAgY3R4LmJvZHkgPSB7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbXNnOiAn6K6+572u5oiQ5YqfJyxcclxuICAgICAgICAgICAgZGF0YTogcmVzdWx0MlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgICBtc2c6ICforr7nva7mnIDkvbPnrZTmoYgt5pu05paw55So5oi35aSx6LSlJ1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICAgIG1zZzogJ+iuvue9ruWksei0pScsXHJcbiAgICAgICAgICBkYXRhOiB7IC4uLnJlc3VsdCwgLi4ucmVzdWx0MSB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbXNnOiAn5biW5a2Q5bey57uT6LS077yM5peg5rOV6YeN5aSN6K6+572uJ1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBzZXRIYW5kcyAoY3R4KSB7XHJcbiAgICBjb25zdCBvYmogPSBhd2FpdCBnZXRKV1RQYXlsb2FkKGN0eC5oZWFkZXIuYXV0aG9yaXphdGlvbilcclxuICAgIGNvbnN0IHBhcmFtcyA9IGN0eC5xdWVyeVxyXG4gICAgLy8g5Yik5pat55So5oi35piv5ZCm5bey57uP54K56LWeXHJcbiAgICBjb25zdCB0bXAgPSBhd2FpdCBDb21tZW50c0hhbmRzLmZpbmQoeyBjaWQ6IHBhcmFtcy5jaWQsIHVpZDogb2JqLl9pZCB9KVxyXG4gICAgaWYgKHRtcC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfmgqjlt7Lnu4/ngrnotZ7vvIzor7fli7/ph43lpI3ngrnotZ4nXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyDmlrDlop7kuIDmnaHngrnotZ7orrDlvZVcclxuICAgIGNvbnN0IG5ld0hhbmRzID0gbmV3IENvbW1lbnRzSGFuZHMoe1xyXG4gICAgICBjaWQ6IHBhcmFtcy5jaWQsXHJcbiAgICAgIHVpZDogb2JqLl9pZFxyXG4gICAgfSlcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBuZXdIYW5kcy5zYXZlKClcclxuICAgIC8vIOabtOaWsGNvbW1lbnRz6KGo5Lit5a+55bqU55qE6K6w5b2V55qEaGFuZHPkv6Hmga8gKzFcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IENvbW1lbnRzLnVwZGF0ZU9uZSh7IF9pZDogcGFyYW1zLmNpZCB9LCB7ICRpbmM6IHsgaGFuZHM6IDEgfSB9KVxyXG4gICAgaWYgKHJlc3VsdC5vayA9PT0gMSkge1xyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgbXNnOiAn54K56LWe5oiQ5YqfJyxcclxuICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6ICfkv53lrZjngrnotZ7orrDlvZXlpLHotKXvvIEnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBDb21tZW50c0NvbnRyb2xsZXIoKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/api/commentsController.js\n");

/***/ }),

/***/ "./src/common/ErrorHandle.js":
/*!***********************************!*\
  !*** ./src/common/ErrorHandle.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// 处理全局错误\n/* harmony default export */ __webpack_exports__[\"default\"] = ((ctx, next) => {\n  return next().catch(err => {\n    if (err.status === 401) {\n      ctx.status = 401;\n      ctx.body = {\n        code: 401,\n        msg: 'Protected resource, use Authorization header to get access\\n'\n      };\n    } else {\n      ctx.status = err.status || 500;\n      ctx.body = {\n        code: 500,\n        msg: err.message\n      };\n    }\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzPzQxZWIiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImNhdGNoIiwiZXJyIiwic3RhdHVzIiwiYm9keSIsImNvZGUiLCJtc2ciLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ2UsZ0VBQUNBLEdBQUQsRUFBTUMsSUFBTixLQUFlO0FBQzVCLFNBQU9BLElBQUksR0FBR0MsS0FBUCxDQUFjQyxHQUFELElBQVM7QUFDM0IsUUFBSUEsR0FBRyxDQUFDQyxNQUFKLEtBQWUsR0FBbkIsRUFBd0I7QUFDdEJKLFNBQUcsQ0FBQ0ksTUFBSixHQUFhLEdBQWI7QUFDQUosU0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEMsV0FBRyxFQUFFO0FBRkksT0FBWDtBQUlELEtBTkQsTUFNTztBQUNMUCxTQUFHLENBQUNJLE1BQUosR0FBYUQsR0FBRyxDQUFDQyxNQUFKLElBQWMsR0FBM0I7QUFDQUosU0FBRyxDQUFDSyxJQUFKLEdBQVc7QUFDVEMsWUFBSSxFQUFFLEdBREc7QUFFVEMsV0FBRyxFQUFFSixHQUFHLENBQUNLO0FBRkEsT0FBWDtBQUlEO0FBQ0YsR0FkTSxDQUFQO0FBZUQsQ0FoQkQiLCJmaWxlIjoiLi9zcmMvY29tbW9uL0Vycm9ySGFuZGxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5aSE55CG5YWo5bGA6ZSZ6K+vXHJcbmV4cG9ydCBkZWZhdWx0IChjdHgsIG5leHQpID0+IHtcclxuICByZXR1cm4gbmV4dCgpLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDEpIHtcclxuICAgICAgY3R4LnN0YXR1cyA9IDQwMVxyXG4gICAgICBjdHguYm9keSA9IHtcclxuICAgICAgICBjb2RlOiA0MDEsXHJcbiAgICAgICAgbXNnOiAnUHJvdGVjdGVkIHJlc291cmNlLCB1c2UgQXV0aG9yaXphdGlvbiBoZWFkZXIgdG8gZ2V0IGFjY2Vzc1xcbidcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY3R4LnN0YXR1cyA9IGVyci5zdGF0dXMgfHwgNTAwXHJcbiAgICAgIGN0eC5ib2R5ID0ge1xyXG4gICAgICAgIGNvZGU6IDUwMCxcclxuICAgICAgICBtc2c6IGVyci5tZXNzYWdlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/common/ErrorHandle.js\n");

/***/ }),

/***/ "./src/common/Utils.js":
/*!*****************************!*\
  !*** ./src/common/Utils.js ***!
  \*****************************/
/*! exports provided: checkCode, getJWTPayload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkCode\", function() { return checkCode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getJWTPayload\", function() { return getJWTPayload; });\n/* harmony import */ var _config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/RedisConfig */ \"./src/config/RedisConfig.js\");\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/index */ \"./src/config/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst getJWTPayload = token => {\n  return jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default.a.verify(token.split(' ')[1], _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].JWT_SECRET);\n};\n\nconst checkCode = async (key, value) => {\n  const redisData = await Object(_config_RedisConfig__WEBPACK_IMPORTED_MODULE_0__[\"getValue\"])(key);\n  console.log(redisData);\n\n  if (redisData !== null) {\n    if (redisData.toLowerCase() === value.toLowerCase()) {\n      return true;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL1V0aWxzLmpzP2I0ZGYiXSwibmFtZXMiOlsiZ2V0SldUUGF5bG9hZCIsInRva2VuIiwiand0IiwidmVyaWZ5Iiwic3BsaXQiLCJjb25maWciLCJKV1RfU0VDUkVUIiwiY2hlY2tDb2RlIiwia2V5IiwidmFsdWUiLCJyZWRpc0RhdGEiLCJnZXRWYWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsYUFBYSxHQUFHQyxLQUFLLElBQUk7QUFDN0IsU0FBT0MsbURBQUcsQ0FBQ0MsTUFBSixDQUFXRixLQUFLLENBQUNHLEtBQU4sQ0FBWSxHQUFaLEVBQWlCLENBQWpCLENBQVgsRUFBZ0NDLHFEQUFNLENBQUNDLFVBQXZDLENBQVA7QUFDRCxDQUZEOztBQUlBLE1BQU1DLFNBQVMsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEtBQVosS0FBc0I7QUFDdEMsUUFBTUMsU0FBUyxHQUFHLE1BQU1DLG9FQUFRLENBQUNILEdBQUQsQ0FBaEM7QUFDQUksU0FBTyxDQUFDQyxHQUFSLENBQVlILFNBQVo7O0FBQ0EsTUFBSUEsU0FBUyxLQUFLLElBQWxCLEVBQXdCO0FBQ3RCLFFBQUlBLFNBQVMsQ0FBQ0ksV0FBVixPQUE0QkwsS0FBSyxDQUFDSyxXQUFOLEVBQWhDLEVBQXFEO0FBQ25ELGFBQU8sSUFBUDtBQUNELEtBRkQsTUFFTztBQUNMLGFBQU8sS0FBUDtBQUNEO0FBQ0YsR0FORCxNQU1PO0FBQ0wsV0FBTyxLQUFQO0FBQ0Q7QUFDRixDQVpEIiwiZmlsZSI6Ii4vc3JjL2NvbW1vbi9VdGlscy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFZhbHVlIH0gZnJvbSAnLi4vY29uZmlnL1JlZGlzQ29uZmlnJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZy9pbmRleCdcclxuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXHJcblxyXG5jb25zdCBnZXRKV1RQYXlsb2FkID0gdG9rZW4gPT4ge1xyXG4gIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLnNwbGl0KCcgJylbMV0sIGNvbmZpZy5KV1RfU0VDUkVUKVxyXG59XHJcblxyXG5jb25zdCBjaGVja0NvZGUgPSBhc3luYyAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gIGNvbnN0IHJlZGlzRGF0YSA9IGF3YWl0IGdldFZhbHVlKGtleSlcclxuICBjb25zb2xlLmxvZyhyZWRpc0RhdGEpXHJcbiAgaWYgKHJlZGlzRGF0YSAhPT0gbnVsbCkge1xyXG4gICAgaWYgKHJlZGlzRGF0YS50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGNoZWNrQ29kZSxcclxuICBnZXRKV1RQYXlsb2FkXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/Utils.js\n");

/***/ }),

/***/ "./src/config/DBHelpler.js":
/*!*********************************!*\
  !*** ./src/config/DBHelpler.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n // 创建连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.set('useCreateIndex', true);\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect(_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}); // 连接成功\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('connected', () => {\n  console.log('Mongoose connection open to ' + _index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].DB_URL);\n}); // 连接异常\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('error', err => {\n  console.log('Mongoose connection error: ' + err);\n}); // 断开连接\n\nmongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connection.on('disconnected', () => {\n  console.log('Mongoose connection disconnected');\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (mongoose__WEBPACK_IMPORTED_MODULE_0___default.a);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL0RCSGVscGxlci5qcz9lNjg0Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwic2V0IiwiY29ubmVjdCIsImNvbmZpZyIsIkRCX1VSTCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Q0FHQTs7QUFDQUEsK0NBQVEsQ0FBQ0MsR0FBVCxDQUFhLGdCQUFiLEVBQStCLElBQS9CO0FBQ0FELCtDQUFRLENBQUNFLE9BQVQsQ0FBaUJDLDhDQUFNLENBQUNDLE1BQXhCLEVBQWdDO0FBQzlCQyxpQkFBZSxFQUFFLElBRGE7QUFFOUJDLG9CQUFrQixFQUFFO0FBRlUsQ0FBaEMsRSxDQUtBOztBQUNBTiwrQ0FBUSxDQUFDTyxVQUFULENBQW9CQyxFQUFwQixDQUF1QixXQUF2QixFQUFvQyxNQUFNO0FBQ3hDQyxTQUFPLENBQUNDLEdBQVIsQ0FBWSxpQ0FBaUNQLDhDQUFNLENBQUNDLE1BQXBEO0FBQ0QsQ0FGRCxFLENBSUE7O0FBQ0FKLCtDQUFRLENBQUNPLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQWlDRyxHQUFELElBQVM7QUFDdkNGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLGdDQUFnQ0MsR0FBNUM7QUFDRCxDQUZELEUsQ0FJQTs7QUFDQVgsK0NBQVEsQ0FBQ08sVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUMsTUFBTTtBQUMzQ0MsU0FBTyxDQUFDQyxHQUFSLENBQVksa0NBQVo7QUFDRCxDQUZEO0FBSWVWLDhHQUFmIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9EQkhlbHBsZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9pbmRleCdcclxuXHJcbi8vIOWIm+W7uui/nuaOpVxyXG5tb25nb29zZS5zZXQoJ3VzZUNyZWF0ZUluZGV4JywgdHJ1ZSlcclxubW9uZ29vc2UuY29ubmVjdChjb25maWcuREJfVVJMLCB7XHJcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxyXG59KVxyXG5cclxuLy8g6L+e5o6l5oiQ5YqfXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBvcGVuIHRvICcgKyBjb25maWcuREJfVVJMKVxyXG59KVxyXG5cclxuLy8g6L+e5o6l5byC5bi4XHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdNb25nb29zZSBjb25uZWN0aW9uIGVycm9yOiAnICsgZXJyKVxyXG59KVxyXG5cclxuLy8g5pat5byA6L+e5o6lXHJcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Rpc2Nvbm5lY3RlZCcsICgpID0+IHtcclxuICBjb25zb2xlLmxvZygnTW9uZ29vc2UgY29ubmVjdGlvbiBkaXNjb25uZWN0ZWQnKVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2VcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/DBHelpler.js\n");

/***/ }),

/***/ "./src/config/MailConfig.js":
/*!**********************************!*\
  !*** ./src/config/MailConfig.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(nodemailer__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/config/index */ \"./src/config/index.js\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"qs\");\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n // async..await is not allowed in global scope, must use a wrapper\n\nasync function send(sendInfo) {\n  // Generate test SMTP service account from ethereal.email\n  // Only needed if you don't have a real mail account for testing\n  // let testAccount = await nodemailer.createTestAccount()\n  // create reusable transporter object using the default SMTP transport\n  const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0___default.a.createTransport({\n    host: 'smtp.qq.com',\n    port: 587,\n    secure: false,\n    // true for 465, false for other ports\n    auth: {\n      user: '975551732@qq.com',\n      // generated ethereal user\n      pass: 'sfkumhiahtzxbeei' // generated ethereal password\n\n    }\n  });\n  const baseUrl = _config_index__WEBPACK_IMPORTED_MODULE_1__[\"default\"].baseUrl;\n  const route = sendInfo.type === 'email' ? '/confirm' : '/reset';\n  const url = `${baseUrl}/#${route}?` + qs__WEBPACK_IMPORTED_MODULE_2___default.a.stringify(sendInfo.data); // send mail with defined transport object\n\n  const info = await transporter.sendMail({\n    from: '\"认证邮件\" <975551732@qq.com>',\n    // sender address\n    to: sendInfo.email,\n    // list of receivers\n    subject: sendInfo.user !== '' && sendInfo.type !== 'email' ? `你好开发者，${sendInfo.user}！<全栈爱好者>注册码` : '<全栈爱好者>确认修改邮件链接',\n    // Subject line\n    text: `您在<全栈爱好者>网站中注册，您的邀请码是${sendInfo.code},邀请码的过期时间: ${sendInfo.expire}`,\n    // plain text body\n    html: `\n        <div style=\"border: 1px solid #dcdcdc;color: #676767;width: 600px; margin: 0 auto; padding-bottom: 50px;position: relative;\">\n        <div style=\"height: 60px; background: #393d49; line-height: 60px; color: #58a36f; font-size: 18px;padding-left: 10px;\">全栈爱好者社区</div>\n        <div style=\"padding: 25px\">\n          <div>您好，${sendInfo.user}童鞋，重置链接有效时间30分钟，请在${sendInfo.expire}之前重置您的密码：</div>\n          <a href=\"${url}\" style=\"padding: 10px 20px; color: #fff; background: #009e94; display: inline-block;margin: 15px 0;\">立即重置密码</a>\n          <div style=\"padding: 5px; background: #f2f2f2;\">如果该邮件不是由你本人操作，请勿进行激活！否则你的邮箱将会被他人绑定。</div>\n        </div>\n        <div style=\"background: #fafafa; color: #b4b4b4;text-align: center; line-height: 45px; height: 45px; position: absolute; left: 0; bottom: 0;width: 100%;\">系统邮件，请勿直接回复</div>\n    </div>\n    ` // html body\n\n  });\n  return `Message sent: %s', ${info.messageId}`;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (send);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL01haWxDb25maWcuanM/MmRiMSJdLCJuYW1lcyI6WyJzZW5kIiwic2VuZEluZm8iLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJob3N0IiwicG9ydCIsInNlY3VyZSIsImF1dGgiLCJ1c2VyIiwicGFzcyIsImJhc2VVcmwiLCJjb25maWciLCJyb3V0ZSIsInR5cGUiLCJ1cmwiLCJxcyIsInN0cmluZ2lmeSIsImRhdGEiLCJpbmZvIiwic2VuZE1haWwiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJ0ZXh0IiwiY29kZSIsImV4cGlyZSIsImh0bWwiLCJtZXNzYWdlSWQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7Q0FFQTs7QUFDQSxlQUFlQSxJQUFmLENBQXFCQyxRQUFyQixFQUErQjtBQUM3QjtBQUNBO0FBQ0E7QUFFQTtBQUNBLFFBQU1DLFdBQVcsR0FBR0MsaURBQVUsQ0FBQ0MsZUFBWCxDQUEyQjtBQUM3Q0MsUUFBSSxFQUFFLGFBRHVDO0FBRTdDQyxRQUFJLEVBQUUsR0FGdUM7QUFHN0NDLFVBQU0sRUFBRSxLQUhxQztBQUc5QjtBQUNmQyxRQUFJLEVBQUU7QUFDSkMsVUFBSSxFQUFFLGtCQURGO0FBQ3NCO0FBQzFCQyxVQUFJLEVBQUUsa0JBRkYsQ0FFcUI7O0FBRnJCO0FBSnVDLEdBQTNCLENBQXBCO0FBVUEsUUFBTUMsT0FBTyxHQUFHQyxxREFBTSxDQUFDRCxPQUF2QjtBQUNBLFFBQU1FLEtBQUssR0FBR1osUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQWxCLEdBQTRCLFVBQTVCLEdBQXlDLFFBQXZEO0FBQ0EsUUFBTUMsR0FBRyxHQUFJLEdBQUVKLE9BQVEsS0FBSUUsS0FBTSxHQUFyQixHQUEwQkcseUNBQUUsQ0FBQ0MsU0FBSCxDQUFhaEIsUUFBUSxDQUFDaUIsSUFBdEIsQ0FBdEMsQ0FsQjZCLENBb0I3Qjs7QUFDQSxRQUFNQyxJQUFJLEdBQUcsTUFBTWpCLFdBQVcsQ0FBQ2tCLFFBQVosQ0FBcUI7QUFDdENDLFFBQUksRUFBRSwyQkFEZ0M7QUFDSDtBQUNuQ0MsTUFBRSxFQUFFckIsUUFBUSxDQUFDc0IsS0FGeUI7QUFFbEI7QUFDcEJDLFdBQU8sRUFDTHZCLFFBQVEsQ0FBQ1EsSUFBVCxLQUFrQixFQUFsQixJQUF3QlIsUUFBUSxDQUFDYSxJQUFULEtBQWtCLE9BQTFDLEdBQ0ssU0FBUWIsUUFBUSxDQUFDUSxJQUFLLGFBRDNCLEdBRUksaUJBTmdDO0FBTWI7QUFDekJnQixRQUFJLEVBQUcsd0JBQ0x4QixRQUFRLENBQUN5QixJQUNWLGNBQWF6QixRQUFRLENBQUMwQixNQUFPLEVBVFE7QUFTTDtBQUNqQ0MsUUFBSSxFQUFHOzs7O29CQUlTM0IsUUFBUSxDQUFDUSxJQUFLLHFCQUM1QlIsUUFBUSxDQUFDMEIsTUFDVjtxQkFDZ0JaLEdBQUk7Ozs7O0tBakJpQixDQXNCcEM7O0FBdEJvQyxHQUFyQixDQUFuQjtBQXlCQSxTQUFRLHNCQUFxQkksSUFBSSxDQUFDVSxTQUFVLEVBQTVDO0FBQ0Q7O0FBQ2M3QixtRUFBZiIsImZpbGUiOiIuL3NyYy9jb25maWcvTWFpbENvbmZpZy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gJ25vZGVtYWlsZXInXHJcbmltcG9ydCBjb25maWcgZnJvbSAnQC9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBxcyBmcm9tICdxcydcclxuLy8gYXN5bmMuLmF3YWl0IGlzIG5vdCBhbGxvd2VkIGluIGdsb2JhbCBzY29wZSwgbXVzdCB1c2UgYSB3cmFwcGVyXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmQgKHNlbmRJbmZvKSB7XHJcbiAgLy8gR2VuZXJhdGUgdGVzdCBTTVRQIHNlcnZpY2UgYWNjb3VudCBmcm9tIGV0aGVyZWFsLmVtYWlsXHJcbiAgLy8gT25seSBuZWVkZWQgaWYgeW91IGRvbid0IGhhdmUgYSByZWFsIG1haWwgYWNjb3VudCBmb3IgdGVzdGluZ1xyXG4gIC8vIGxldCB0ZXN0QWNjb3VudCA9IGF3YWl0IG5vZGVtYWlsZXIuY3JlYXRlVGVzdEFjY291bnQoKVxyXG5cclxuICAvLyBjcmVhdGUgcmV1c2FibGUgdHJhbnNwb3J0ZXIgb2JqZWN0IHVzaW5nIHRoZSBkZWZhdWx0IFNNVFAgdHJhbnNwb3J0XHJcbiAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgICBob3N0OiAnc210cC5xcS5jb20nLFxyXG4gICAgcG9ydDogNTg3LFxyXG4gICAgc2VjdXJlOiBmYWxzZSwgLy8gdHJ1ZSBmb3IgNDY1LCBmYWxzZSBmb3Igb3RoZXIgcG9ydHNcclxuICAgIGF1dGg6IHtcclxuICAgICAgdXNlcjogJzk3NTU1MTczMkBxcS5jb20nLCAvLyBnZW5lcmF0ZWQgZXRoZXJlYWwgdXNlclxyXG4gICAgICBwYXNzOiAnc2ZrdW1oaWFodHp4YmVlaScgLy8gZ2VuZXJhdGVkIGV0aGVyZWFsIHBhc3N3b3JkXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgY29uc3QgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsXHJcbiAgY29uc3Qgcm91dGUgPSBzZW5kSW5mby50eXBlID09PSAnZW1haWwnID8gJy9jb25maXJtJyA6ICcvcmVzZXQnXHJcbiAgY29uc3QgdXJsID0gYCR7YmFzZVVybH0vIyR7cm91dGV9P2AgKyBxcy5zdHJpbmdpZnkoc2VuZEluZm8uZGF0YSlcclxuXHJcbiAgLy8gc2VuZCBtYWlsIHdpdGggZGVmaW5lZCB0cmFuc3BvcnQgb2JqZWN0XHJcbiAgY29uc3QgaW5mbyA9IGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcclxuICAgIGZyb206ICdcIuiupOivgemCruS7tlwiIDw5NzU1NTE3MzJAcXEuY29tPicsIC8vIHNlbmRlciBhZGRyZXNzXHJcbiAgICB0bzogc2VuZEluZm8uZW1haWwsIC8vIGxpc3Qgb2YgcmVjZWl2ZXJzXHJcbiAgICBzdWJqZWN0OlxyXG4gICAgICBzZW5kSW5mby51c2VyICE9PSAnJyAmJiBzZW5kSW5mby50eXBlICE9PSAnZW1haWwnXHJcbiAgICAgICAgPyBg5L2g5aW95byA5Y+R6ICF77yMJHtzZW5kSW5mby51c2Vyfe+8gTzlhajmoIjniLHlpb3ogIU+5rOo5YaM56CBYFxyXG4gICAgICAgIDogJzzlhajmoIjniLHlpb3ogIU+56Gu6K6k5L+u5pS56YKu5Lu26ZO+5o6lJywgLy8gU3ViamVjdCBsaW5lXHJcbiAgICB0ZXh0OiBg5oKo5ZyoPOWFqOagiOeIseWlveiAhT7nvZHnq5nkuK3ms6jlhozvvIzmgqjnmoTpgoDor7fnoIHmmK8ke1xyXG4gICAgICBzZW5kSW5mby5jb2RlXHJcbiAgICB9LOmCgOivt+eggeeahOi/h+acn+aXtumXtDogJHtzZW5kSW5mby5leHBpcmV9YCwgLy8gcGxhaW4gdGV4dCBib2R5XHJcbiAgICBodG1sOiBgXHJcbiAgICAgICAgPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkICNkY2RjZGM7Y29sb3I6ICM2NzY3Njc7d2lkdGg6IDYwMHB4OyBtYXJnaW46IDAgYXV0bzsgcGFkZGluZy1ib3R0b206IDUwcHg7cG9zaXRpb246IHJlbGF0aXZlO1wiPlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJoZWlnaHQ6IDYwcHg7IGJhY2tncm91bmQ6ICMzOTNkNDk7IGxpbmUtaGVpZ2h0OiA2MHB4OyBjb2xvcjogIzU4YTM2ZjsgZm9udC1zaXplOiAxOHB4O3BhZGRpbmctbGVmdDogMTBweDtcIj7lhajmoIjniLHlpb3ogIXnpL7ljLo8L2Rpdj5cclxuICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogMjVweFwiPlxyXG4gICAgICAgICAgPGRpdj7mgqjlpb3vvIwke3NlbmRJbmZvLnVzZXJ956ul6Z6L77yM6YeN572u6ZO+5o6l5pyJ5pWI5pe26Ze0MzDliIbpkp/vvIzor7flnKgke1xyXG4gICAgICBzZW5kSW5mby5leHBpcmVcclxuICAgIH3kuYvliY3ph43nva7mgqjnmoTlr4bnoIHvvJo8L2Rpdj5cclxuICAgICAgICAgIDxhIGhyZWY9XCIke3VybH1cIiBzdHlsZT1cInBhZGRpbmc6IDEwcHggMjBweDsgY29sb3I6ICNmZmY7IGJhY2tncm91bmQ6ICMwMDllOTQ7IGRpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW46IDE1cHggMDtcIj7nq4vljbPph43nva7lr4bnoIE8L2E+XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwicGFkZGluZzogNXB4OyBiYWNrZ3JvdW5kOiAjZjJmMmYyO1wiPuWmguaenOivpemCruS7tuS4jeaYr+eUseS9oOacrOS6uuaTjeS9nO+8jOivt+WLv+i/m+ihjOa/gOa0u++8geWQpuWImeS9oOeahOmCrueuseWwhuS8muiiq+S7luS6uue7keWumuOAgjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiAjZmFmYWZhOyBjb2xvcjogI2I0YjRiNDt0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiA0NXB4OyBoZWlnaHQ6IDQ1cHg7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMDsgYm90dG9tOiAwO3dpZHRoOiAxMDAlO1wiPuezu+e7n+mCruS7tu+8jOivt+WLv+ebtOaOpeWbnuWkjTwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgICBgIC8vIGh0bWwgYm9keVxyXG4gIH0pXHJcblxyXG4gIHJldHVybiBgTWVzc2FnZSBzZW50OiAlcycsICR7aW5mby5tZXNzYWdlSWR9YFxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHNlbmRcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/config/MailConfig.js\n");

/***/ }),

/***/ "./src/config/RedisConfig.js":
/*!***********************************!*\
  !*** ./src/config/RedisConfig.js ***!
  \***********************************/
/*! exports provided: client, setValue, getValue, getHValue, delValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"client\", function() { return client; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setValue\", function() { return setValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getValue\", function() { return getValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHValue\", function() { return getHValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"delValue\", function() { return delValue; });\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redis */ \"redis\");\n/* harmony import */ var redis__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(redis__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bluebird */ \"bluebird\");\n/* harmony import */ var bluebird__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bluebird__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index */ \"./src/config/index.js\");\n\n\n\nconst options = {\n  host: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.host,\n  port: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.port,\n  password: _index__WEBPACK_IMPORTED_MODULE_2__[\"default\"].REDIS.password,\n  detect_buffers: true,\n  retry_strategy: function (options) {\n    if (options.error && options.error.code === 'ECONNREFUSED') {\n      // End reconnecting on a specific error and flush all commands with\n      // a individual error\n      return new Error('The server refused the connection');\n    }\n\n    if (options.total_retry_time > 1000 * 60 * 60) {\n      // End reconnecting after a specific timeout and flush all commands\n      // with a individual error\n      return new Error('Retry time exhausted');\n    }\n\n    if (options.attempt > 10) {\n      // End reconnecting with built in error\n      return undefined;\n    } // reconnect after\n\n\n    return Math.min(options.attempt * 100, 3000);\n  }\n}; // const client = redis.createClient(options)\n\nconst client = Object(bluebird__WEBPACK_IMPORTED_MODULE_1__[\"promisifyAll\"])(redis__WEBPACK_IMPORTED_MODULE_0___default.a.createClient(options));\nclient.on('connect', () => {\n  console.log('Redis Client connect');\n});\nclient.on('error', err => {\n  console.log('Redis Client Error:' + err);\n});\n\nconst setValue = (key, value, time) => {\n  if (typeof value === 'undefined' || value == null || value === '') {\n    return;\n  }\n\n  if (typeof value === 'string') {\n    if (typeof time !== 'undefined') {\n      client.set(key, value, 'EX', time);\n    } else {\n      client.set(key, value);\n    }\n  } else if (typeof value === 'object') {\n    // { key1: value1, key2: value2}\n    // Object.keys(value) => [key1, key2]\n    Object.keys(value).forEach(item => {\n      client.hset(key, item, value[item], redis__WEBPACK_IMPORTED_MODULE_0___default.a.print);\n    });\n  }\n}; // const {promisify} = require('util');\n// const getAsync = promisify(client.get).bind(client);\n\n\nconst getValue = key => {\n  return client.getAsync(key);\n};\n\nconst getHValue = key => {\n  // v8 Promisify method use util, must node > 8\n  // return promisify(client.hgetall).bind(client)(key)\n  // bluebird async\n  return client.hgetallAsync(key);\n};\n\nconst delValue = key => {\n  client.del(key, (err, res) => {\n    if (res === 1) {\n      console.log('delete successfully');\n    } else {\n      console.log('delete redis key error:' + err);\n    }\n  });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL1JlZGlzQ29uZmlnLmpzP2I3ODkiXSwibmFtZXMiOlsib3B0aW9ucyIsImhvc3QiLCJjb25maWciLCJSRURJUyIsInBvcnQiLCJwYXNzd29yZCIsImRldGVjdF9idWZmZXJzIiwicmV0cnlfc3RyYXRlZ3kiLCJlcnJvciIsImNvZGUiLCJFcnJvciIsInRvdGFsX3JldHJ5X3RpbWUiLCJhdHRlbXB0IiwidW5kZWZpbmVkIiwiTWF0aCIsIm1pbiIsImNsaWVudCIsInByb21pc2lmeUFsbCIsInJlZGlzIiwiY3JlYXRlQ2xpZW50Iiwib24iLCJjb25zb2xlIiwibG9nIiwiZXJyIiwic2V0VmFsdWUiLCJrZXkiLCJ2YWx1ZSIsInRpbWUiLCJzZXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJoc2V0IiwicHJpbnQiLCJnZXRWYWx1ZSIsImdldEFzeW5jIiwiZ2V0SFZhbHVlIiwiaGdldGFsbEFzeW5jIiwiZGVsVmFsdWUiLCJkZWwiLCJyZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxPQUFPLEdBQUc7QUFDZEMsTUFBSSxFQUFFQyw4Q0FBTSxDQUFDQyxLQUFQLENBQWFGLElBREw7QUFFZEcsTUFBSSxFQUFFRiw4Q0FBTSxDQUFDQyxLQUFQLENBQWFDLElBRkw7QUFHZEMsVUFBUSxFQUFFSCw4Q0FBTSxDQUFDQyxLQUFQLENBQWFFLFFBSFQ7QUFJZEMsZ0JBQWMsRUFBRSxJQUpGO0FBS2RDLGdCQUFjLEVBQUUsVUFBVVAsT0FBVixFQUFtQjtBQUNqQyxRQUFJQSxPQUFPLENBQUNRLEtBQVIsSUFBaUJSLE9BQU8sQ0FBQ1EsS0FBUixDQUFjQyxJQUFkLEtBQXVCLGNBQTVDLEVBQTREO0FBQzFEO0FBQ0E7QUFDQSxhQUFPLElBQUlDLEtBQUosQ0FBVSxtQ0FBVixDQUFQO0FBQ0Q7O0FBQ0QsUUFBSVYsT0FBTyxDQUFDVyxnQkFBUixHQUEyQixPQUFPLEVBQVAsR0FBWSxFQUEzQyxFQUErQztBQUM3QztBQUNBO0FBQ0EsYUFBTyxJQUFJRCxLQUFKLENBQVUsc0JBQVYsQ0FBUDtBQUNEOztBQUNELFFBQUlWLE9BQU8sQ0FBQ1ksT0FBUixHQUFrQixFQUF0QixFQUEwQjtBQUN4QjtBQUNBLGFBQU9DLFNBQVA7QUFDRCxLQWRnQyxDQWVqQzs7O0FBQ0EsV0FBT0MsSUFBSSxDQUFDQyxHQUFMLENBQVNmLE9BQU8sQ0FBQ1ksT0FBUixHQUFrQixHQUEzQixFQUFnQyxJQUFoQyxDQUFQO0FBQ0Q7QUF0QmEsQ0FBaEIsQyxDQXlCQTs7QUFDQSxNQUFNSSxNQUFNLEdBQUdDLDZEQUFZLENBQUNDLDRDQUFLLENBQUNDLFlBQU4sQ0FBbUJuQixPQUFuQixDQUFELENBQTNCO0FBRUFnQixNQUFNLENBQUNJLEVBQVAsQ0FBVSxTQUFWLEVBQXFCLE1BQU07QUFDekJDLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaO0FBQ0QsQ0FGRDtBQUdBTixNQUFNLENBQUNJLEVBQVAsQ0FBVSxPQUFWLEVBQW9CRyxHQUFELElBQVM7QUFDMUJGLFNBQU8sQ0FBQ0MsR0FBUixDQUFZLHdCQUF3QkMsR0FBcEM7QUFDRCxDQUZEOztBQUlBLE1BQU1DLFFBQVEsR0FBRyxDQUFDQyxHQUFELEVBQU1DLEtBQU4sRUFBYUMsSUFBYixLQUFzQjtBQUNyQyxNQUFJLE9BQU9ELEtBQVAsS0FBaUIsV0FBakIsSUFBZ0NBLEtBQUssSUFBSSxJQUF6QyxJQUFpREEsS0FBSyxLQUFLLEVBQS9ELEVBQW1FO0FBQ2pFO0FBQ0Q7O0FBQ0QsTUFBSSxPQUFPQSxLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzdCLFFBQUksT0FBT0MsSUFBUCxLQUFnQixXQUFwQixFQUFpQztBQUMvQlgsWUFBTSxDQUFDWSxHQUFQLENBQVdILEdBQVgsRUFBZ0JDLEtBQWhCLEVBQXVCLElBQXZCLEVBQTZCQyxJQUE3QjtBQUNELEtBRkQsTUFFTztBQUNMWCxZQUFNLENBQUNZLEdBQVAsQ0FBV0gsR0FBWCxFQUFnQkMsS0FBaEI7QUFDRDtBQUNGLEdBTkQsTUFNTyxJQUFJLE9BQU9BLEtBQVAsS0FBaUIsUUFBckIsRUFBK0I7QUFDcEM7QUFDQTtBQUNBRyxVQUFNLENBQUNDLElBQVAsQ0FBWUosS0FBWixFQUFtQkssT0FBbkIsQ0FBNEJDLElBQUQsSUFBVTtBQUNuQ2hCLFlBQU0sQ0FBQ2lCLElBQVAsQ0FBWVIsR0FBWixFQUFpQk8sSUFBakIsRUFBdUJOLEtBQUssQ0FBQ00sSUFBRCxDQUE1QixFQUFvQ2QsNENBQUssQ0FBQ2dCLEtBQTFDO0FBQ0QsS0FGRDtBQUdEO0FBQ0YsQ0FqQkQsQyxDQW1CQTtBQUNBOzs7QUFFQSxNQUFNQyxRQUFRLEdBQUlWLEdBQUQsSUFBUztBQUN4QixTQUFPVCxNQUFNLENBQUNvQixRQUFQLENBQWdCWCxHQUFoQixDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNWSxTQUFTLEdBQUlaLEdBQUQsSUFBUztBQUN6QjtBQUNBO0FBRUE7QUFDQSxTQUFPVCxNQUFNLENBQUNzQixZQUFQLENBQW9CYixHQUFwQixDQUFQO0FBQ0QsQ0FORDs7QUFRQSxNQUFNYyxRQUFRLEdBQUlkLEdBQUQsSUFBUztBQUN4QlQsUUFBTSxDQUFDd0IsR0FBUCxDQUFXZixHQUFYLEVBQWdCLENBQUNGLEdBQUQsRUFBTWtCLEdBQU4sS0FBYztBQUM1QixRQUFJQSxHQUFHLEtBQUssQ0FBWixFQUFlO0FBQ2JwQixhQUFPLENBQUNDLEdBQVIsQ0FBWSxxQkFBWjtBQUNELEtBRkQsTUFFTztBQUNMRCxhQUFPLENBQUNDLEdBQVIsQ0FBWSw0QkFBNEJDLEdBQXhDO0FBQ0Q7QUFDRixHQU5EO0FBT0QsQ0FSRCIsImZpbGUiOiIuL3NyYy9jb25maWcvUmVkaXNDb25maWcuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcmVkaXMgZnJvbSAncmVkaXMnXHJcbmltcG9ydCB7IHByb21pc2lmeUFsbCB9IGZyb20gJ2JsdWViaXJkJ1xyXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vaW5kZXgnXHJcblxyXG5jb25zdCBvcHRpb25zID0ge1xyXG4gIGhvc3Q6IGNvbmZpZy5SRURJUy5ob3N0LFxyXG4gIHBvcnQ6IGNvbmZpZy5SRURJUy5wb3J0LFxyXG4gIHBhc3N3b3JkOiBjb25maWcuUkVESVMucGFzc3dvcmQsXHJcbiAgZGV0ZWN0X2J1ZmZlcnM6IHRydWUsXHJcbiAgcmV0cnlfc3RyYXRlZ3k6IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICBpZiAob3B0aW9ucy5lcnJvciAmJiBvcHRpb25zLmVycm9yLmNvZGUgPT09ICdFQ09OTlJFRlVTRUQnKSB7XHJcbiAgICAgIC8vIEVuZCByZWNvbm5lY3Rpbmcgb24gYSBzcGVjaWZpYyBlcnJvciBhbmQgZmx1c2ggYWxsIGNvbW1hbmRzIHdpdGhcclxuICAgICAgLy8gYSBpbmRpdmlkdWFsIGVycm9yXHJcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoJ1RoZSBzZXJ2ZXIgcmVmdXNlZCB0aGUgY29ubmVjdGlvbicpXHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy50b3RhbF9yZXRyeV90aW1lID4gMTAwMCAqIDYwICogNjApIHtcclxuICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyBhZnRlciBhIHNwZWNpZmljIHRpbWVvdXQgYW5kIGZsdXNoIGFsbCBjb21tYW5kc1xyXG4gICAgICAvLyB3aXRoIGEgaW5kaXZpZHVhbCBlcnJvclxyXG4gICAgICByZXR1cm4gbmV3IEVycm9yKCdSZXRyeSB0aW1lIGV4aGF1c3RlZCcpXHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5hdHRlbXB0ID4gMTApIHtcclxuICAgICAgLy8gRW5kIHJlY29ubmVjdGluZyB3aXRoIGJ1aWx0IGluIGVycm9yXHJcbiAgICAgIHJldHVybiB1bmRlZmluZWRcclxuICAgIH1cclxuICAgIC8vIHJlY29ubmVjdCBhZnRlclxyXG4gICAgcmV0dXJuIE1hdGgubWluKG9wdGlvbnMuYXR0ZW1wdCAqIDEwMCwgMzAwMClcclxuICB9XHJcbn1cclxuXHJcbi8vIGNvbnN0IGNsaWVudCA9IHJlZGlzLmNyZWF0ZUNsaWVudChvcHRpb25zKVxyXG5jb25zdCBjbGllbnQgPSBwcm9taXNpZnlBbGwocmVkaXMuY3JlYXRlQ2xpZW50KG9wdGlvbnMpKVxyXG5cclxuY2xpZW50Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCdSZWRpcyBDbGllbnQgY29ubmVjdCcpXHJcbn0pXHJcbmNsaWVudC5vbignZXJyb3InLCAoZXJyKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ1JlZGlzIENsaWVudCBFcnJvcjonICsgZXJyKVxyXG59KVxyXG5cclxuY29uc3Qgc2V0VmFsdWUgPSAoa2V5LCB2YWx1ZSwgdGltZSkgPT4ge1xyXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XHJcbiAgICByZXR1cm5cclxuICB9XHJcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgIGlmICh0eXBlb2YgdGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlLCAnRVgnLCB0aW1lKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xpZW50LnNldChrZXksIHZhbHVlKVxyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgLy8geyBrZXkxOiB2YWx1ZTEsIGtleTI6IHZhbHVlMn1cclxuICAgIC8vIE9iamVjdC5rZXlzKHZhbHVlKSA9PiBba2V5MSwga2V5Ml1cclxuICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIGNsaWVudC5oc2V0KGtleSwgaXRlbSwgdmFsdWVbaXRlbV0sIHJlZGlzLnByaW50KVxyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbi8vIGNvbnN0IHtwcm9taXNpZnl9ID0gcmVxdWlyZSgndXRpbCcpO1xyXG4vLyBjb25zdCBnZXRBc3luYyA9IHByb21pc2lmeShjbGllbnQuZ2V0KS5iaW5kKGNsaWVudCk7XHJcblxyXG5jb25zdCBnZXRWYWx1ZSA9IChrZXkpID0+IHtcclxuICByZXR1cm4gY2xpZW50LmdldEFzeW5jKGtleSlcclxufVxyXG5cclxuY29uc3QgZ2V0SFZhbHVlID0gKGtleSkgPT4ge1xyXG4gIC8vIHY4IFByb21pc2lmeSBtZXRob2QgdXNlIHV0aWwsIG11c3Qgbm9kZSA+IDhcclxuICAvLyByZXR1cm4gcHJvbWlzaWZ5KGNsaWVudC5oZ2V0YWxsKS5iaW5kKGNsaWVudCkoa2V5KVxyXG5cclxuICAvLyBibHVlYmlyZCBhc3luY1xyXG4gIHJldHVybiBjbGllbnQuaGdldGFsbEFzeW5jKGtleSlcclxufVxyXG5cclxuY29uc3QgZGVsVmFsdWUgPSAoa2V5KSA9PiB7XHJcbiAgY2xpZW50LmRlbChrZXksIChlcnIsIHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcyA9PT0gMSkge1xyXG4gICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHN1Y2Nlc3NmdWxseScpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnZGVsZXRlIHJlZGlzIGtleSBlcnJvcjonICsgZXJyKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY2xpZW50LFxyXG4gIHNldFZhbHVlLFxyXG4gIGdldFZhbHVlLFxyXG4gIGdldEhWYWx1ZSxcclxuICBkZWxWYWx1ZVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/config/RedisConfig.js\n");

/***/ }),

/***/ "./src/config/index.js":
/*!*****************************!*\
  !*** ./src/config/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DB_URL = 'mongodb://test:123456@49.234.66.66:27000/testdb';\nconst REDIS = {\n  host: '49.234.66.66',\n  port: 15000 // password: '123456'\n\n};\nconst JWT_SECRET = 'a&*38QthAKuiRwISGLotgq^3%^$zvA3A6Hfr8MF$jM*HY4*dWcwAW&9NGp7*b53!';\nconst baseUrl =  false ? undefined : 'http://localhost:8080';\nconst uploadPath =  false ? undefined : path__WEBPACK_IMPORTED_MODULE_0___default.a.join(path__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(__dirname), '../../public');\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  DB_URL,\n  REDIS,\n  JWT_SECRET,\n  baseUrl,\n  uploadPath\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"src\\\\config\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2luZGV4LmpzP2YxMjEiXSwibmFtZXMiOlsiREJfVVJMIiwiUkVESVMiLCJob3N0IiwicG9ydCIsIkpXVF9TRUNSRVQiLCJiYXNlVXJsIiwicHJvY2VzcyIsInVwbG9hZFBhdGgiLCJwYXRoIiwiam9pbiIsInJlc29sdmUiLCJfX2Rpcm5hbWUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0EsTUFBTUEsTUFBTSxHQUFHLGlEQUFmO0FBQ0EsTUFBTUMsS0FBSyxHQUFHO0FBQ1pDLE1BQUksRUFBRSxjQURNO0FBRVpDLE1BQUksRUFBRSxLQUZNLENBR1o7O0FBSFksQ0FBZDtBQUtBLE1BQU1DLFVBQVUsR0FBRyxrRUFBbkI7QUFFQSxNQUFNQyxPQUFPLEdBQUdDLE1BQUEsR0FBd0MsU0FBeEMsR0FDWix1QkFESjtBQUdBLE1BQU1DLFVBQVUsR0FBR0QsTUFBQSxHQUF3QyxTQUF4QyxHQUNmRSwyQ0FBSSxDQUFDQyxJQUFMLENBQVVELDJDQUFJLENBQUNFLE9BQUwsQ0FBYUMsU0FBYixDQUFWLEVBQW1DLGNBQW5DLENBREo7QUFFZTtBQUNiWCxRQURhO0FBRWJDLE9BRmE7QUFHYkcsWUFIYTtBQUliQyxTQUphO0FBS2JFO0FBTGEsQ0FBZixFIiwiZmlsZSI6Ii4vc3JjL2NvbmZpZy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmNvbnN0IERCX1VSTCA9ICdtb25nb2RiOi8vdGVzdDoxMjM0NTZANDkuMjM0LjY2LjY2OjI3MDAwL3Rlc3RkYidcclxuY29uc3QgUkVESVMgPSB7XHJcbiAgaG9zdDogJzQ5LjIzNC42Ni42NicsXHJcbiAgcG9ydDogMTUwMDBcclxuICAvLyBwYXNzd29yZDogJzEyMzQ1NidcclxufVxyXG5jb25zdCBKV1RfU0VDUkVUID0gJ2EmKjM4UXRoQUt1aVJ3SVNHTG90Z3FeMyVeJHp2QTNBNkhmcjhNRiRqTSpIWTQqZFdjd0FXJjlOR3A3KmI1MyEnXHJcblxyXG5jb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICdodHRwOi8vd3d3LmV4Y3VsaWJ1ci5jbidcclxuICA6ICdodHRwOi8vbG9jYWxob3N0OjgwODAnXHJcblxyXG5jb25zdCB1cGxvYWRQYXRoID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/ICcvYXBwL3B1YmxpYydcclxuICA6IHBhdGguam9pbihwYXRoLnJlc29sdmUoX19kaXJuYW1lKSwgJy4uLy4uL3B1YmxpYycpXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBEQl9VUkwsXHJcbiAgUkVESVMsXHJcbiAgSldUX1NFQ1JFVCxcclxuICBiYXNlVXJsLFxyXG4gIHVwbG9hZFBhdGhcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/config/index.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa */ \"koa\");\n/* harmony import */ var koa__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! koa-jwt */ \"koa-jwt\");\n/* harmony import */ var koa_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(koa_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! koa-helmet */ \"koa-helmet\");\n/* harmony import */ var koa_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(koa_helmet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! koa-static */ \"koa-static\");\n/* harmony import */ var koa_static__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(koa_static__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ \"./src/routes/routes.js\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! koa-body */ \"koa-body\");\n/* harmony import */ var koa_body__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(koa_body__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! koa-json */ \"koa-json\");\n/* harmony import */ var koa_json__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(koa_json__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @koa/cors */ \"@koa/cors\");\n/* harmony import */ var _koa_cors__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_koa_cors__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! koa-compose */ \"koa-compose\");\n/* harmony import */ var koa_compose__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(koa_compose__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! koa-compress */ \"koa-compress\");\n/* harmony import */ var koa_compress__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(koa_compress__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _config_index__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./config/index */ \"./src/config/index.js\");\n/* harmony import */ var _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./common/ErrorHandle */ \"./src/common/ErrorHandle.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst app = new koa__WEBPACK_IMPORTED_MODULE_0___default.a();\nconst isDevMode = 'development' !== 'production'; // 定义公共路径，不需要jwt鉴权\n\nconst jwt = koa_jwt__WEBPACK_IMPORTED_MODULE_1___default()({\n  secret: _config_index__WEBPACK_IMPORTED_MODULE_11__[\"default\"].JWT_SECRET\n}).unless({\n  path: [/^\\/public/, /\\/login/]\n});\n/**\r\n * 使用koa-compose 集成中间件\r\n */\n\nconst middleware = koa_compose__WEBPACK_IMPORTED_MODULE_9___default()([koa_body__WEBPACK_IMPORTED_MODULE_6___default()({\n  // 支持图片解码\n  multipart: true,\n  formidable: {\n    keepExtensions: true,\n    maxFieldsSize: 5 * 1024 * 1024\n  },\n  onError: err => {\n    console.log('koabody err:', err);\n  }\n}), koa_static__WEBPACK_IMPORTED_MODULE_4___default()(path__WEBPACK_IMPORTED_MODULE_2___default.a.join(__dirname, '../public')), _koa_cors__WEBPACK_IMPORTED_MODULE_8___default()(), koa_json__WEBPACK_IMPORTED_MODULE_7___default()({\n  pretty: false,\n  param: 'pretty'\n}), koa_helmet__WEBPACK_IMPORTED_MODULE_3___default()(), _common_ErrorHandle__WEBPACK_IMPORTED_MODULE_12__[\"default\"], jwt]);\n\nif (!isDevMode) {\n  app.use(koa_compress__WEBPACK_IMPORTED_MODULE_10___default()());\n}\n\napp.use(middleware);\napp.use(Object(_routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"default\"])());\napp.listen(3000);\n/* WEBPACK VAR INJECTION */}.call(this, \"src\"))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/YjYzNSJdLCJuYW1lcyI6WyJhcHAiLCJLb2EiLCJpc0Rldk1vZGUiLCJwcm9jZXNzIiwiand0IiwiSldUIiwic2VjcmV0IiwiY29uZmlnIiwiSldUX1NFQ1JFVCIsInVubGVzcyIsInBhdGgiLCJtaWRkbGV3YXJlIiwiY29tcG9zZSIsImtvYUJvZHkiLCJtdWx0aXBhcnQiLCJmb3JtaWRhYmxlIiwia2VlcEV4dGVuc2lvbnMiLCJtYXhGaWVsZHNTaXplIiwib25FcnJvciIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJzdGF0aWNzIiwiam9pbiIsIl9fZGlybmFtZSIsImNvcnMiLCJqc29udXRpbCIsInByZXR0eSIsInBhcmFtIiwiaGVsbWV0IiwiZXJyb3JIYW5kbGUiLCJ1c2UiLCJjb21wcmVzcyIsInJvdXRlciIsImxpc3RlbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxHQUFHLEdBQUcsSUFBSUMsMENBQUosRUFBWjtBQUVBLE1BQU1DLFNBQVMsR0FBR0MsYUFBQSxLQUF5QixZQUEzQyxDLENBRUE7O0FBQ0EsTUFBTUMsR0FBRyxHQUFHQyw4Q0FBRyxDQUFDO0FBQUVDLFFBQU0sRUFBRUMsc0RBQU0sQ0FBQ0M7QUFBakIsQ0FBRCxDQUFILENBQW1DQyxNQUFuQyxDQUEwQztBQUFFQyxNQUFJLEVBQUUsQ0FBQyxXQUFELEVBQWMsU0FBZDtBQUFSLENBQTFDLENBQVo7QUFFQTs7OztBQUdBLE1BQU1DLFVBQVUsR0FBR0Msa0RBQU8sQ0FBQyxDQUN6QkMsK0NBQU8sQ0FBQztBQUNOO0FBQ0FDLFdBQVMsRUFBRSxJQUZMO0FBR05DLFlBQVUsRUFBRTtBQUNWQyxrQkFBYyxFQUFFLElBRE47QUFFVkMsaUJBQWEsRUFBRSxJQUFJLElBQUosR0FBVztBQUZoQixHQUhOO0FBT05DLFNBQU8sRUFBRUMsR0FBRyxJQUFJO0FBQ2RDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVosRUFBNEJGLEdBQTVCO0FBQ0Q7QUFUSyxDQUFELENBRGtCLEVBWXpCRyxpREFBTyxDQUFDWiwyQ0FBSSxDQUFDYSxJQUFMLENBQVVDLFNBQVYsRUFBcUIsV0FBckIsQ0FBRCxDQVprQixFQWF6QkMsZ0RBQUksRUFicUIsRUFjekJDLCtDQUFRLENBQUM7QUFBRUMsUUFBTSxFQUFFLEtBQVY7QUFBaUJDLE9BQUssRUFBRTtBQUF4QixDQUFELENBZGlCLEVBZXpCQyxpREFBTSxFQWZtQixFQWdCekJDLDREQWhCeUIsRUFpQnpCMUIsR0FqQnlCLENBQUQsQ0FBMUI7O0FBb0JBLElBQUksQ0FBQ0YsU0FBTCxFQUFnQjtBQUNkRixLQUFHLENBQUMrQixHQUFKLENBQVFDLG9EQUFRLEVBQWhCO0FBQ0Q7O0FBRURoQyxHQUFHLENBQUMrQixHQUFKLENBQVFwQixVQUFSO0FBQ0FYLEdBQUcsQ0FBQytCLEdBQUosQ0FBUUUsOERBQU0sRUFBZDtBQUVBakMsR0FBRyxDQUFDa0MsTUFBSixDQUFXLElBQVgsRSIsImZpbGUiOiIuL3NyYy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBLb2EgZnJvbSAna29hJ1xyXG5pbXBvcnQgSldUIGZyb20gJ2tvYS1qd3QnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBoZWxtZXQgZnJvbSAna29hLWhlbG1ldCdcclxuaW1wb3J0IHN0YXRpY3MgZnJvbSAna29hLXN0YXRpYydcclxuaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcy9yb3V0ZXMnXHJcbmltcG9ydCBrb2FCb2R5IGZyb20gJ2tvYS1ib2R5J1xyXG5pbXBvcnQganNvbnV0aWwgZnJvbSAna29hLWpzb24nXHJcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycydcclxuaW1wb3J0IGNvbXBvc2UgZnJvbSAna29hLWNvbXBvc2UnXHJcbmltcG9ydCBjb21wcmVzcyBmcm9tICdrb2EtY29tcHJlc3MnXHJcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcvaW5kZXgnXHJcbmltcG9ydCBlcnJvckhhbmRsZSBmcm9tICcuL2NvbW1vbi9FcnJvckhhbmRsZSdcclxuXHJcbmNvbnN0IGFwcCA9IG5ldyBLb2EoKVxyXG5cclxuY29uc3QgaXNEZXZNb2RlID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xyXG5cclxuLy8g5a6a5LmJ5YWs5YWx6Lev5b6E77yM5LiN6ZyA6KaBand06Ym05p2DXHJcbmNvbnN0IGp3dCA9IEpXVCh7IHNlY3JldDogY29uZmlnLkpXVF9TRUNSRVQgfSkudW5sZXNzKHsgcGF0aDogWy9eXFwvcHVibGljLywgL1xcL2xvZ2luL10gfSlcclxuXHJcbi8qKlxyXG4gKiDkvb/nlKhrb2EtY29tcG9zZSDpm4bmiJDkuK3pl7Tku7ZcclxuICovXHJcbmNvbnN0IG1pZGRsZXdhcmUgPSBjb21wb3NlKFtcclxuICBrb2FCb2R5KHtcclxuICAgIC8vIOaUr+aMgeWbvueJh+ino+eggVxyXG4gICAgbXVsdGlwYXJ0OiB0cnVlLFxyXG4gICAgZm9ybWlkYWJsZToge1xyXG4gICAgICBrZWVwRXh0ZW5zaW9uczogdHJ1ZSxcclxuICAgICAgbWF4RmllbGRzU2l6ZTogNSAqIDEwMjQgKiAxMDI0XHJcbiAgICB9LFxyXG4gICAgb25FcnJvcjogZXJyID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ2tvYWJvZHkgZXJyOicsIGVycilcclxuICAgIH1cclxuICB9KSxcclxuICBzdGF0aWNzKHBhdGguam9pbihfX2Rpcm5hbWUsICcuLi9wdWJsaWMnKSksXHJcbiAgY29ycygpLFxyXG4gIGpzb251dGlsKHsgcHJldHR5OiBmYWxzZSwgcGFyYW06ICdwcmV0dHknIH0pLFxyXG4gIGhlbG1ldCgpLFxyXG4gIGVycm9ySGFuZGxlLFxyXG4gIGp3dFxyXG5dKVxyXG5cclxuaWYgKCFpc0Rldk1vZGUpIHtcclxuICBhcHAudXNlKGNvbXByZXNzKCkpXHJcbn1cclxuXHJcbmFwcC51c2UobWlkZGxld2FyZSlcclxuYXBwLnVzZShyb3V0ZXIoKSlcclxuXHJcbmFwcC5saXN0ZW4oMzAwMClcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/model/Comments.js":
/*!*******************************!*\
  !*** ./src/model/Comments.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  tid: {\n    type: String,\n    ref: 'post'\n  },\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  cuid: {\n    type: String,\n    ref: 'users'\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  hands: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '1'\n  },\n  isRead: {\n    type: String,\n    default: '0'\n  },\n  isBest: {\n    type: String,\n    default: '0'\n  }\n}, {\n  toJSON: {\n    virtuals: true\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByTid: function (id) {\n    return this.find({\n      tid: id\n    });\n  },\n  findByCid: function (id) {\n    return this.findOne({\n      _id: id\n    });\n  },\n  getCommentsList: function (id, page, limit) {\n    return this.find({\n      tid: id\n    }).populate({\n      path: 'cuid',\n      select: '_id name pic isVip',\n      match: {\n        status: {\n          $eq: '0'\n        }\n      }\n    }).populate({\n      path: 'tid',\n      select: '_id title status'\n    }).skip(page * limit).limit(limit);\n  },\n  queryCount: function (id) {\n    return this.find({\n      tid: id\n    }).countDocuments();\n  },\n  getCommetsPublic: function (id, page, limit) {\n    return this.find({\n      cuid: id\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  getMsgList: function (id, page, limit) {\n    return this.find({\n      uid: id,\n      cuid: {\n        $ne: id\n      },\n      isRead: {\n        $eq: '0'\n      },\n      status: {\n        $eq: '1'\n      }\n    }).populate({\n      path: 'tid',\n      select: '_id title'\n    }).populate({\n      path: 'uid',\n      select: '_id name'\n    }).populate({\n      path: 'cuid',\n      select: '_id name'\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  getTotal: function (id) {\n    return this.find({\n      uid: id,\n      isRead: '0',\n      status: '1'\n    }).countDocuments();\n  }\n};\nconst Comments = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Comments);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHMuanM/MmUwMSJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkNvbW1lbnRzU2NoZW1hIiwidGlkIiwidHlwZSIsIlN0cmluZyIsInJlZiIsInVpZCIsImN1aWQiLCJjb250ZW50IiwiY3JlYXRlZCIsIkRhdGUiLCJoYW5kcyIsIk51bWJlciIsImRlZmF1bHQiLCJzdGF0dXMiLCJpc1JlYWQiLCJpc0Jlc3QiLCJ0b0pTT04iLCJ2aXJ0dWFscyIsInByZSIsIm5leHQiLCJtb21lbnQiLCJmb3JtYXQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeVRpZCIsImlkIiwiZmluZCIsImZpbmRCeUNpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRDb21tZW50c0xpc3QiLCJwYWdlIiwibGltaXQiLCJwb3B1bGF0ZSIsInBhdGgiLCJzZWxlY3QiLCJtYXRjaCIsIiRlcSIsInNraXAiLCJxdWVyeUNvdW50IiwiY291bnREb2N1bWVudHMiLCJnZXRDb21tZXRzUHVibGljIiwic29ydCIsImdldE1zZ0xpc3QiLCIkbmUiLCJnZXRUb3RhbCIsIkNvbW1lbnRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FEMkI7QUFFaENDLEtBQUcsRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUYyQjtBQUdoQ0UsTUFBSSxFQUFFO0FBQUVKLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsT0FBRyxFQUFFO0FBQXJCLEdBSDBC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QUFqQjtBQUVlbUQsdUVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvQ29tbWVudHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgQ29tbWVudHNTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICdwb3N0JyB9LFxyXG4gIHVpZDogeyB0eXBlOiBTdHJpbmcsIHJlZjogJ3VzZXJzJyB9LFxyXG4gIGN1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjb250ZW50OiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxyXG4gIGhhbmRzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gIHN0YXR1czogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcxJyB9LFxyXG4gIGlzUmVhZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9LFxyXG4gIGlzQmVzdDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcwJyB9XHJcbn0sIHsgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0gfSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJylcclxuICBuZXh0KClcclxufSlcclxuXHJcbkNvbW1lbnRzU2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXHJcbiAgfSBlbHNlIHtcclxuICAgIG5leHQoZXJyb3IpXHJcbiAgfVxyXG59KVxyXG5cclxuQ29tbWVudHNTY2hlbWEuc3RhdGljcyA9IHtcclxuICBmaW5kQnlUaWQ6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHRpZDogaWQgfSlcclxuICB9LFxyXG4gIGZpbmRCeUNpZDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZCB9KVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWVudHNMaXN0OiBmdW5jdGlvbiAoaWQsIHBhZ2UsIGxpbWl0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgdGlkOiBpZCB9KS5wb3B1bGF0ZSh7XHJcbiAgICAgIHBhdGg6ICdjdWlkJyxcclxuICAgICAgc2VsZWN0OiAnX2lkIG5hbWUgcGljIGlzVmlwJyxcclxuICAgICAgbWF0Y2g6IHsgc3RhdHVzOiB7ICRlcTogJzAnIH0gfVxyXG4gICAgfSkucG9wdWxhdGUoe1xyXG4gICAgICBwYXRoOiAndGlkJyxcclxuICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlIHN0YXR1cydcclxuICAgIH0pLnNraXAocGFnZSAqIGxpbWl0KS5saW1pdChsaW1pdClcclxuICB9LFxyXG4gIHF1ZXJ5Q291bnQ6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IHRpZDogaWQgfSkuY291bnREb2N1bWVudHMoKVxyXG4gIH0sXHJcbiAgZ2V0Q29tbWV0c1B1YmxpYzogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7IGN1aWQ6IGlkIH0pXHJcbiAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgcGF0aDogJ3RpZCcsXHJcbiAgICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlJ1xyXG4gICAgICB9KVxyXG4gICAgICAuc2tpcChwYWdlICogbGltaXQpXHJcbiAgICAgIC5saW1pdChsaW1pdClcclxuICAgICAgLnNvcnQoeyBjcmVhdGVkOiAtMSB9KVxyXG4gIH0sXHJcbiAgZ2V0TXNnTGlzdDogZnVuY3Rpb24gKGlkLCBwYWdlLCBsaW1pdCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZCh7XHJcbiAgICAgIHVpZDogaWQsXHJcbiAgICAgIGN1aWQ6IHsgJG5lOiBpZCB9LFxyXG4gICAgICBpc1JlYWQ6IHsgJGVxOiAnMCcgfSxcclxuICAgICAgc3RhdHVzOiB7ICRlcTogJzEnIH1cclxuICAgIH0pXHJcbiAgICAgIC5wb3B1bGF0ZSh7XHJcbiAgICAgICAgcGF0aDogJ3RpZCcsXHJcbiAgICAgICAgc2VsZWN0OiAnX2lkIHRpdGxlJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ19pZCBuYW1lJ1xyXG4gICAgICB9KVxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICdjdWlkJyxcclxuICAgICAgICBzZWxlY3Q6ICdfaWQgbmFtZSdcclxuICAgICAgfSlcclxuICAgICAgLnNraXAobGltaXQgKiBwYWdlKVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9LFxyXG4gIGdldFRvdGFsOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkLCBpc1JlYWQ6ICcwJywgc3RhdHVzOiAnMScgfSkuY291bnREb2N1bWVudHMoKVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgQ29tbWVudHMgPSBtb25nb29zZS5tb2RlbCgnY29tbWVudHMnLCBDb21tZW50c1NjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvbW1lbnRzXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/Comments.js\n");

/***/ }),

/***/ "./src/model/CommentsHands.js":
/*!************************************!*\
  !*** ./src/model/CommentsHands.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst CommentsSchema = new Schema({\n  // 'cid': { type: String},\n  cid: {\n    type: String\n  },\n  uid: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nCommentsSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nCommentsSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nCommentsSchema.statics = {\n  findByCid: function (id) {\n    return this.find({\n      cid: id\n    });\n  }\n};\nconst CommentsHands = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('comments_hands', CommentsSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (CommentsHands);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcz9jOTdiIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiQ29tbWVudHNTY2hlbWEiLCJjaWQiLCJ0eXBlIiwiU3RyaW5nIiwidWlkIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJmaW5kQnlDaWQiLCJpZCIsImZpbmQiLCJDb21tZW50c0hhbmRzIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxjQUFjLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2hDO0FBQ0FHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDO0FBQVIsR0FGMkI7QUFHaENDLEtBQUcsRUFBRTtBQUFFRixRQUFJLEVBQUVDO0FBQVIsR0FIMkI7QUFJaENFLFNBQU8sRUFBRTtBQUFFSCxRQUFJLEVBQUVJO0FBQVI7QUFKdUIsQ0FBWCxDQUF2QjtBQU9BTixjQUFjLENBQUNPLEdBQWYsQ0FBbUIsTUFBbkIsRUFBMkIsVUFBVUMsSUFBVixFQUFnQjtBQUN6QyxPQUFLSCxPQUFMLEdBQWVJLDRDQUFNLEdBQUdDLE1BQVQsQ0FBZ0IscUJBQWhCLENBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVIsY0FBYyxDQUFDVyxJQUFmLENBQW9CLE1BQXBCLEVBQTRCLFVBQVVDLEtBQVYsRUFBaUJDLEdBQWpCLEVBQXNCTCxJQUF0QixFQUE0QjtBQUN0RCxNQUFJSSxLQUFLLENBQUNFLElBQU4sS0FBZSxZQUFmLElBQStCRixLQUFLLENBQUNHLElBQU4sS0FBZSxLQUFsRCxFQUF5RDtBQUN2RFAsUUFBSSxDQUFDLElBQUlRLEtBQUosQ0FBVSxpQ0FBVixDQUFELENBQUo7QUFDRCxHQUZELE1BRU87QUFDTFIsUUFBSSxDQUFDSSxLQUFELENBQUo7QUFDRDtBQUNGLENBTkQ7QUFRQVosY0FBYyxDQUFDaUIsT0FBZixHQUF5QjtBQUN2QkMsV0FBUyxFQUFFLFVBQVVDLEVBQVYsRUFBYztBQUN2QixXQUFPLEtBQUtDLElBQUwsQ0FBVTtBQUFFbkIsU0FBRyxFQUFFa0I7QUFBUCxLQUFWLENBQVA7QUFDRDtBQUhzQixDQUF6QjtBQU1BLE1BQU1FLGFBQWEsR0FBR3RCLHlEQUFRLENBQUN1QixLQUFULENBQWUsZ0JBQWYsRUFBaUN0QixjQUFqQyxDQUF0QjtBQUVlcUIsNEVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvQ29tbWVudHNIYW5kcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBDb21tZW50c1NjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIC8vICdjaWQnOiB7IHR5cGU6IFN0cmluZ30sXHJcbiAgY2lkOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIHVpZDogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfVxyXG59KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuQ29tbWVudHNTY2hlbWEucG9zdCgnc2F2ZScsIGZ1bmN0aW9uIChlcnJvciwgZG9jLCBuZXh0KSB7XHJcbiAgaWYgKGVycm9yLm5hbWUgPT09ICdNb25nb0Vycm9yJyAmJiBlcnJvci5jb2RlID09PSAxMTAwMCkge1xyXG4gICAgbmV4dChuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIGR1cGxpY2F0ZSBrZXkgZXJyb3InKSlcclxuICB9IGVsc2Uge1xyXG4gICAgbmV4dChlcnJvcilcclxuICB9XHJcbn0pXHJcblxyXG5Db21tZW50c1NjaGVtYS5zdGF0aWNzID0ge1xyXG4gIGZpbmRCeUNpZDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHsgY2lkOiBpZCB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgQ29tbWVudHNIYW5kcyA9IG1vbmdvb3NlLm1vZGVsKCdjb21tZW50c19oYW5kcycsIENvbW1lbnRzU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29tbWVudHNIYW5kc1xyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/CommentsHands.js\n");

/***/ }),

/***/ "./src/model/Links.js":
/*!****************************!*\
  !*** ./src/model/Links.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst LinksSchema = new Schema({\n  title: {\n    type: String,\n    default: ''\n  },\n  link: {\n    type: String,\n    default: ''\n  },\n  type: {\n    type: String,\n    default: 'link'\n  },\n  created: {\n    type: Date\n  },\n  isTop: {\n    type: String,\n    default: ''\n  },\n  sort: {\n    type: String,\n    default: ''\n  }\n});\nLinksSchema.pre('save', function (next) {\n  this.created = moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nconst LinksModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('links', LinksSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (LinksModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvTGlua3MuanM/ZTMxMiJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb25nb29zZSIsIkxpbmtzU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwiZGVmYXVsdCIsImxpbmsiLCJjcmVhdGVkIiwiRGF0ZSIsImlzVG9wIiwic29ydCIsInByZSIsIm5leHQiLCJtb21lbnQiLCJmb3JtYXQiLCJMaW5rc01vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxXQUFXLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzdCRyxPQUFLLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FEc0I7QUFFN0JDLE1BQUksRUFBRTtBQUFFSCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QixHQUZ1QjtBQUc3QkYsTUFBSSxFQUFFO0FBQUVBLFFBQUksRUFBRUMsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBSHVCO0FBSTdCRSxTQUFPLEVBQUU7QUFBRUosUUFBSSxFQUFFSztBQUFSLEdBSm9CO0FBSzdCQyxPQUFLLEVBQUU7QUFBRU4sUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekIsR0FMc0I7QUFNN0JLLE1BQUksRUFBRTtBQUFFUCxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLFdBQU8sRUFBRTtBQUF6QjtBQU51QixDQUFYLENBQXBCO0FBU0FKLFdBQVcsQ0FBQ1UsR0FBWixDQUFnQixNQUFoQixFQUF3QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3RDLE9BQUtMLE9BQUwsR0FBZU0sNkNBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ0wsQ0FIRDtBQUtBLE1BQU1HLFVBQVUsR0FBR2YseURBQVEsQ0FBQ2dCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCZixXQUF4QixDQUFuQjtBQUVlYyx5RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9MaW5rcy5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCdcclxuXHJcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxyXG5cclxuY29uc3QgTGlua3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0aXRsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgbGluazogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgdHlwZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdsaW5rJyB9LFxyXG4gIGNyZWF0ZWQ6IHsgdHlwZTogRGF0ZSB9LFxyXG4gIGlzVG9wOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBzb3J0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfVxyXG59KVxyXG5cclxuTGlua3NTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuY29uc3QgTGlua3NNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdsaW5rcycsIExpbmtzU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGlua3NNb2RlbFxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Links.js\n");

/***/ }),

/***/ "./src/model/Post.js":
/*!***************************!*\
  !*** ./src/model/Post.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst PostSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  // ref联合查询，接要连接表的名称\n  title: {\n    type: String\n  },\n  content: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  catalog: {\n    type: String\n  },\n  fav: {\n    type: String\n  },\n  isEnd: {\n    type: String,\n    default: '0'\n  },\n  reads: {\n    type: Number,\n    default: 0\n  },\n  answer: {\n    type: Number,\n    default: 0\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  isTop: {\n    type: String,\n    default: '0'\n  },\n  sort: {\n    type: String,\n    default: 100\n  },\n  tags: {\n    type: Array,\n    default: [// { name: '', class: '' }\n    ]\n  }\n}); // 保存时候创建时间格式化\n\nPostSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nPostSchema.statics = {\n  /**\r\n  * 获取文章列表数据\r\n  * @param {Object} options 筛选条件\r\n  * @param {String} sort 排序方式\r\n  * @param {Number} page 分页页数\r\n  * @param {Number} limit 分页条数\r\n  */\n  getList: function (options, sort, page, limit) {\n    return this.find(options).sort({\n      [sort]: -1\n    }).skip(page * limit).limit(limit) // 联合查询\n    .populate({\n      path: 'uid',\n      select: 'nickname isVip pic'\n    });\n  },\n  getTopWeek: function () {\n    // 倒序返回七天前评论最多的10条\n    return this.find({\n      created: {\n        $gte: dayjs__WEBPACK_IMPORTED_MODULE_1___default()().subtract(7, 'days')\n      }\n    }, {\n      answer: 1,\n      title: 1\n    }).sort({\n      answer: -1\n    }).limit(10);\n  },\n  findByTid: function (id) {\n    return this.findOne({\n      _id: id\n    }).populate({\n      path: 'uid',\n      select: 'nickname pic isVip _id'\n    });\n  },\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(page * limit).limit(limit).sort({\n      created: -1\n    });\n  },\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst PostModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('post', PostSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (PostModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvUG9zdC5qcz81OWM1Il0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiUG9zdFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJ0aXRsZSIsImNvbnRlbnQiLCJjcmVhdGVkIiwiRGF0ZSIsImNhdGFsb2ciLCJmYXYiLCJpc0VuZCIsImRlZmF1bHQiLCJyZWFkcyIsIk51bWJlciIsImFuc3dlciIsInN0YXR1cyIsImlzVG9wIiwic29ydCIsInRhZ3MiLCJBcnJheSIsInByZSIsIm5leHQiLCJtb21lbnQiLCJmb3JtYXQiLCJzdGF0aWNzIiwiZ2V0TGlzdCIsIm9wdGlvbnMiLCJwYWdlIiwibGltaXQiLCJmaW5kIiwic2tpcCIsInBvcHVsYXRlIiwicGF0aCIsInNlbGVjdCIsImdldFRvcFdlZWsiLCIkZ3RlIiwic3VidHJhY3QiLCJmaW5kQnlUaWQiLCJpZCIsImZpbmRPbmUiLCJfaWQiLCJnZXRMaXN0QnlVaWQiLCJjb3VudEJ5VWlkIiwiY291bnREb2N1bWVudHMiLCJQb3N0TW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0EsTUFBTUEsTUFBTSxHQUFHQyx5REFBUSxDQUFDRCxNQUF4QjtBQUVBLE1BQU1FLFVBQVUsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDNUJHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLE9BQUcsRUFBRTtBQUFyQixHQUR1QjtBQUNTO0FBQ3JDQyxPQUFLLEVBQUU7QUFBRUgsUUFBSSxFQUFFQztBQUFSLEdBRnFCO0FBRzVCRyxTQUFPLEVBQUU7QUFBRUosUUFBSSxFQUFFQztBQUFSLEdBSG1CO0FBSTVCSSxTQUFPLEVBQUU7QUFBRUwsUUFBSSxFQUFFTTtBQUFSLEdBSm1CO0FBSzVCQyxTQUFPLEVBQUU7QUFBRVAsUUFBSSxFQUFFQztBQUFSLEdBTG1CO0FBTTVCTyxLQUFHLEVB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QVYsRUFBdUJLLGNBQXZCLEVBQVA7QUFDRDtBQTdDa0IsQ0FBckI7QUFnREEsTUFBTUMsU0FBUyxHQUFHOUMseURBQVEsQ0FBQytDLEtBQVQsQ0FBZSxNQUFmLEVBQXVCOUMsVUFBdkIsQ0FBbEI7QUFFZTZDLHdFQUFmIiwiZmlsZSI6Ii4vc3JjL21vZGVsL1Bvc3QuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnLi4vY29uZmlnL0RCSGVscGxlcidcclxuaW1wb3J0IG1vbWVudCBmcm9tICdkYXlqcydcclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBQb3N0U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdWlkOiB7IHR5cGU6IFN0cmluZywgcmVmOiAndXNlcnMnIH0sIC8vIHJlZuiBlOWQiOafpeivou+8jOaOpeimgei/nuaOpeihqOeahOWQjeensFxyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LFxyXG4gIGNvbnRlbnQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgY2F0YWxvZzogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBmYXY6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgaXNFbmQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcclxuICByZWFkczogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuICBhbnN3ZXI6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJzAnIH0sXHJcbiAgaXNUb3A6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcclxuICBzb3J0OiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogMTAwIH0sXHJcbiAgdGFnczoge1xyXG4gICAgdHlwZTogQXJyYXksXHJcbiAgICBkZWZhdWx0OiBbXHJcbiAgICAgIC8vIHsgbmFtZTogJycsIGNsYXNzOiAnJyB9XHJcbiAgICBdXHJcbiAgfVxyXG59KVxyXG4vLyDkv53lrZjml7blgJnliJvlu7rml7bpl7TmoLzlvI/ljJZcclxuUG9zdFNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Qb3N0U2NoZW1hLnN0YXRpY3MgPSB7XHJcbiAgLyoqXHJcbiAgKiDojrflj5bmlofnq6DliJfooajmlbDmja5cclxuICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIOetm+mAieadoeS7tlxyXG4gICogQHBhcmFtIHtTdHJpbmd9IHNvcnQg5o6S5bqP5pa55byPXHJcbiAgKiBAcGFyYW0ge051bWJlcn0gcGFnZSDliIbpobXpobXmlbBcclxuICAqIEBwYXJhbSB7TnVtYmVyfSBsaW1pdCDliIbpobXmnaHmlbBcclxuICAqL1xyXG4gIGdldExpc3Q6IGZ1bmN0aW9uIChvcHRpb25zLCBzb3J0LCBwYWdlLCBsaW1pdCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZChvcHRpb25zKVxyXG4gICAgICAuc29ydCh7IFtzb3J0XTogLTEgfSlcclxuICAgICAgLnNraXAocGFnZSAqIGxpbWl0KVxyXG4gICAgICAubGltaXQobGltaXQpXHJcbiAgICAgIC8vIOiBlOWQiOafpeivolxyXG4gICAgICAucG9wdWxhdGUoe1xyXG4gICAgICAgIHBhdGg6ICd1aWQnLFxyXG4gICAgICAgIHNlbGVjdDogJ25pY2tuYW1lIGlzVmlwIHBpYydcclxuICAgICAgfSlcclxuICB9LFxyXG4gIGdldFRvcFdlZWs6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIOWAkuW6j+i/lOWbnuS4g+WkqeWJjeivhOiuuuacgOWkmueahDEw5p2hXHJcbiAgICByZXR1cm4gdGhpcy5maW5kKHtcclxuICAgICAgY3JlYXRlZDoge1xyXG4gICAgICAgICRndGU6IG1vbWVudCgpLnN1YnRyYWN0KDcsICdkYXlzJylcclxuICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICBhbnN3ZXI6IDEsXHJcbiAgICAgIHRpdGxlOiAxXHJcbiAgICB9KS5zb3J0KHsgYW5zd2VyOiAtMSB9KVxyXG4gICAgICAubGltaXQoMTApXHJcbiAgfSxcclxuICBmaW5kQnlUaWQ6IGZ1bmN0aW9uIChpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IF9pZDogaWQgfSkucG9wdWxhdGUoe1xyXG4gICAgICBwYXRoOiAndWlkJyxcclxuICAgICAgc2VsZWN0OiAnbmlja25hbWUgcGljIGlzVmlwIF9pZCdcclxuICAgIH0pXHJcbiAgfSxcclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFBvc3RNb2RlbCA9IG1vbmdvb3NlLm1vZGVsKCdwb3N0JywgUG9zdFNjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBvc3RNb2RlbFxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/Post.js\n");

/***/ }),

/***/ "./src/model/SignRecord.js":
/*!*********************************!*\
  !*** ./src/model/SignRecord.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst SignRecordSchema = new Schema({\n  uid: {\n    type: String,\n    ref: 'users'\n  },\n  created: {\n    type: Date\n  },\n  favs: {\n    type: Number\n  }\n});\nSignRecordSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nSignRecordSchema.statics = {\n  findByUid: function (uid) {\n    return this.findOne({\n      uid: uid\n    }).sort({\n      created: -1\n    });\n  }\n};\nconst SignRecord = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('sign_record', SignRecordSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (SignRecord);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcz83YzliIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiU2lnblJlY29yZFNjaGVtYSIsInVpZCIsInR5cGUiLCJTdHJpbmciLCJyZWYiLCJjcmVhdGVkIiwiRGF0ZSIsImZhdnMiLCJOdW1iZXIiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0Iiwic3RhdGljcyIsImZpbmRCeVVpZCIsImZpbmRPbmUiLCJzb3J0IiwiU2lnblJlY29yZCIsIm1vZGVsIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQSxNQUFNQSxNQUFNLEdBQUdDLHlEQUFRLENBQUNELE1BQXhCO0FBRUEsTUFBTUUsZ0JBQWdCLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQ2xDRyxLQUFHLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxPQUFHLEVBQUU7QUFBckIsR0FENkI7QUFFbENDLFNBQU8sRUFBRTtBQUFFSCxRQUFJLEVBQUVJO0FBQVIsR0FGeUI7QUFHbENDLE1BQUksRUFBRTtBQUFFTCxRQUFJLEVBQUVNO0FBQVI7QUFINEIsQ0FBWCxDQUF6QjtBQU1BUixnQkFBZ0IsQ0FBQ1MsR0FBakIsQ0FBcUIsTUFBckIsRUFBNkIsVUFBVUMsSUFBVixFQUFnQjtBQUMzQyxPQUFLTCxPQUFMLEdBQWVNLDRDQUFNLEdBQUdDLE1BQVQsQ0FBZ0IscUJBQWhCLENBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVYsZ0JBQWdCLENBQUNhLE9BQWpCLEdBQTJCO0FBQ3pCQyxXQUFTLEVBQUUsVUFBVWIsR0FBVixFQUFlO0FBQ3hCLFdBQU8sS0FBS2MsT0FBTCxDQUFhO0FBQUVkLFNBQUcsRUFBRUE7QUFBUCxLQUFiLEVBQTJCZSxJQUEzQixDQUFnQztBQUFFWCxhQUFPLEVBQUUsQ0FBQztBQUFaLEtBQWhDLENBQVA7QUFDRDtBQUh3QixDQUEzQjtBQUtBLE1BQU1ZLFVBQVUsR0FBR2xCLHlEQUFRLENBQUNtQixLQUFULENBQWUsYUFBZixFQUE4QmxCLGdCQUE5QixDQUFuQjtBQUVlaUIseUVBQWYiLCJmaWxlIjoiLi9zcmMvbW9kZWwvU2lnblJlY29yZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5jb25zdCBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcclxuXHJcbmNvbnN0IFNpZ25SZWNvcmRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB1aWQ6IHsgdHlwZTogU3RyaW5nLCByZWY6ICd1c2VycycgfSxcclxuICBjcmVhdGVkOiB7IHR5cGU6IERhdGUgfSxcclxuICBmYXZzOiB7IHR5cGU6IE51bWJlciB9XHJcbn0pXHJcblxyXG5TaWduUmVjb3JkU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJylcclxuICBuZXh0KClcclxufSlcclxuXHJcblNpZ25SZWNvcmRTY2hlbWEuc3RhdGljcyA9IHtcclxuICBmaW5kQnlVaWQ6IGZ1bmN0aW9uICh1aWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmRPbmUoeyB1aWQ6IHVpZCB9KS5zb3J0KHsgY3JlYXRlZDogLTEgfSlcclxuICB9XHJcbn1cclxuY29uc3QgU2lnblJlY29yZCA9IG1vbmdvb3NlLm1vZGVsKCdzaWduX3JlY29yZCcsIFNpZ25SZWNvcmRTY2hlbWEpXHJcblxyXG5leHBvcnQgZGVmYXVsdCBTaWduUmVjb3JkXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/model/SignRecord.js\n");

/***/ }),

/***/ "./src/model/User.js":
/*!***************************!*\
  !*** ./src/model/User.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ \"moment\");\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserSchema = new Schema({\n  username: {\n    type: String,\n    index: {\n      unique: true\n    },\n    sparse: true\n  },\n  password: {\n    type: String\n  },\n  nickname: {\n    type: String\n  },\n  created: {\n    type: Date\n  },\n  updated: {\n    type: Date\n  },\n  favs: {\n    type: Number,\n    default: 100\n  },\n  gender: {\n    type: String,\n    default: ''\n  },\n  roles: {\n    type: Array,\n    default: ['user']\n  },\n  pic: {\n    type: String,\n    default: '/img/default.jpg'\n  },\n  mobile: {\n    type: String,\n    match: /^1[3-9](\\d{9})$/,\n    default: ''\n  },\n  status: {\n    type: String,\n    default: '0'\n  },\n  regmark: {\n    type: String,\n    default: ''\n  },\n  location: {\n    type: String,\n    default: ''\n  },\n  isVip: {\n    type: String,\n    default: '0'\n  },\n  count: {\n    type: Number,\n    default: 0\n  }\n});\nUserSchema.pre('save', function (next) {\n  this.created = moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nUserSchema.pre('update', function (next) {\n  this.created = moment__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nUserSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('Error: Monngoose has a duplicate key.'));\n  } else {\n    next(error);\n  }\n});\nUserSchema.statics = {\n  findByID: function (id) {\n    return this.findOne({\n      _id: id\n    }, {\n      password: 0,\n      username: 0,\n      mobile: 0\n    });\n  }\n};\nconst UserModel = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('users', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlci5qcz83NmZlIl0sIm5hbWVzIjpbIlNjaGVtYSIsIm1vbmdvb3NlIiwiVXNlclNjaGVtYSIsInVzZXJuYW1lIiwidHlwZSIsIlN0cmluZyIsImluZGV4IiwidW5pcXVlIiwic3BhcnNlIiwicGFzc3dvcmQiLCJuaWNrbmFtZSIsImNyZWF0ZWQiLCJEYXRlIiwidXBkYXRlZCIsImZhdnMiLCJOdW1iZXIiLCJkZWZhdWx0IiwiZ2VuZGVyIiwicm9sZXMiLCJBcnJheSIsInBpYyIsIm1vYmlsZSIsIm1hdGNoIiwic3RhdHVzIiwicmVnbWFyayIsImxvY2F0aW9uIiwiaXNWaXAiLCJjb3VudCIsInByZSIsIm5leHQiLCJtb21lbnQiLCJmb3JtYXQiLCJwb3N0IiwiZXJyb3IiLCJkb2MiLCJuYW1lIiwiY29kZSIsIkVycm9yIiwic3RhdGljcyIsImZpbmRCeUlEIiwiaWQiLCJmaW5kT25lIiwiX2lkIiwiVXNlck1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSUYsTUFBSixDQUFXO0FBQzVCRyxVQUFRLEVBQUU7QUFBRUMsUUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxTQUFLLEVBQUU7QUFBRUMsWUFBTSxFQUFFO0FBQVYsS0FBdkI7QUFBeUNDLFVBQU0sRUFBRTtBQUFqRCxHQURrQjtBQUU1QkMsVUFBUSxFQUFFO0FBQUVMLFFBQUksRUFBRUM7QUFBUixHQUZrQjtBQUc1QkssVUFBUSxFQUFFO0FBQUVOLFFBQUksRUFBRUM7QUFBUixHQUhrQjtBQUk1Qk0sU0FBTyxFQUFFO0FBQUVQLFFBQUksRUFBRVE7QUFBUixHQUptQjtBQUs1QkMsU0FBTyxFQUFFO0FBQUVULFFBQUksRUFBRVE7QUFBUixHQUxtQjtBQU01QkUsTUFBSSxFQUFFO0FBQUVWLFFBQUksRUFBRVcsTUFBUjtBQUFnQkMsV0FBTyxFQUFFO0FBQXpCLEdBTnNCO0FBTzVCQyxRQUFNLEVBQUU7QUFBRWIsUUFBSSxFQUFFQyxNQUFSO0FBQWdCVyxXQUFPLEVBQUU7QUFBekIsR0FQb0I7QUFRNUJFLE9BQUssRUFBRTtBQUFFZCxRQUFJLEVBQUVlLEtBQVI7QUFBZUgsV0FBTyxFQUFFLENBQUMsTUFBRDtBQUF4QixHQVJxQjtBQVM1QkksS0FBRyxFQUFFO0FBQUVoQixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JXLFdBQU8sRUFBRTtBQUF6QixHQVR1QjtBQVU1QkssUUFBTSxFQUFFO0FBQUVqQixRQUFJLEVBQUVDLE1BQVI7QUFBZ0JpQixTQUFLLEVBQUUsaUJBQXZCO0FBQTBDTixXQUFPLEVBQUU7QUFBbkQsR0FWb0I7QUFXNUJPLFFBQU0sRUFBRTtBQUFFbkIsUUFBSSxFQUFFQyxNQUFSO0FBQWdCVyxXQUFPLEVBQUU7QUFBekIsR0FYb0I7QUFZNUJRLFNBQU8sRUFBRTtBQUFFcEIsUUFBSSxFQUFFQyxNQUFSO0FBQWdCVyxXQUFPLEVBQUU7QUFBekIsR0FabUI7QUFhNUJTLFVBQVEsRUFBRTtBQUFFckIsUUFBSSxFQUFFQyxNQUFSO0FBQWdCVyxXQUFPLEVBQUU7QUFBekIsR0Fia0I7QUFjNUJVLE9BQUssRUFBRTtBQUFFdEIsUUFBSSxFQUFFQyxNQUFSO0FBQWdCVyxXQUFPLEVBQUU7QUFBekIsR0FkcUI7QUFlNUJXLE9BQUssRUFBRTtBQUFFdkIsUUFBSSxFQUFFVyxNQUFSO0FBQWdCQyxXQUFPLEVBQUU7QUFBekI7QUFmcUIsQ0FBWCxDQUFuQjtBQWtCQWQsVUFBVSxDQUFDMEIsR0FBWCxDQUFlLE1BQWYsRUFBdUIsVUFBVUMsSUFBVixFQUFnQjtBQUNyQyxPQUFLbEIsT0FBTCxHQUFlbUIsNkNBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ0wsQ0FIRDtBQUtBM0IsVUFBVSxDQUFDMEIsR0FBWCxDQUFlLFFBQWYsRUFBeUIsVUFBVUMsSUFBVixFQUFnQjtBQUN2QyxPQUFLbEIsT0FBTCxHQUFlbUIsNkNBQU0sR0FBR0MsTUFBVCxDQUFnQixxQkFBaEIsQ0FBZjtBQUNBRixNQUFJO0FBQ0wsQ0FIRDtBQUtBM0IsVUFBVSxDQUFDOEIsSUFBWCxDQUFnQixNQUFoQixFQUF3QixVQUFVQyxLQUFWLEVBQWlCQyxHQUFqQixFQUFzQkwsSUFBdEIsRUFBNEI7QUFDbEQsTUFBSUksS0FBSyxDQUFDRSxJQUFOLEtBQWUsWUFBZixJQUErQkYsS0FBSyxDQUFDRyxJQUFOLEtBQWUsS0FBbEQsRUFBeUQ7QUFDdkRQLFFBQUksQ0FBQyxJQUFJUSxLQUFKLENBQVUsdUNBQVYsQ0FBRCxDQUFKO0FBQ0QsR0FGRCxNQUVPO0FBQ0xSLFFBQUksQ0FBQ0ksS0FBRCxDQUFKO0FBQ0Q7QUFDRixDQU5EO0FBUUEvQixVQUFVLENBQUNvQyxPQUFYLEdBQXFCO0FBQ25CQyxVQUFRLEVBQUUsVUFBVUMsRUFBVixFQUFjO0FBQ3RCLFdBQU8sS0FBS0MsT0FBTCxDQUFhO0FBQUVDLFNBQUcsRUFBRUY7QUFBUCxLQUFiLEVBQTBCO0FBQy9CL0IsY0FBUSxFQUFFLENBRHFCO0FBRS9CTixjQUFRLEVBQUUsQ0FGcUI7QUFHL0JrQixZQUFNLEVBQUU7QUFIdUIsS0FBMUIsQ0FBUDtBQUtEO0FBUGtCLENBQXJCO0FBVUEsTUFBTXNCLFNBQVMsR0FBRzFDLHlEQUFRLENBQUMyQyxLQUFULENBQWUsT0FBZixFQUF3QjFDLFVBQXhCLENBQWxCO0FBRWV5Qyx3RUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Vc2VyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJy4uL2NvbmZpZy9EQkhlbHBsZXInXHJcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50J1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBpbmRleDogeyB1bmlxdWU6IHRydWUgfSwgc3BhcnNlOiB0cnVlIH0sXHJcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgbmlja25hbWU6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgdXBkYXRlZDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgZmF2czogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDEwMCB9LFxyXG4gIGdlbmRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgcm9sZXM6IHsgdHlwZTogQXJyYXksIGRlZmF1bHQ6IFsndXNlciddIH0sXHJcbiAgcGljOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJy9pbWcvZGVmYXVsdC5qcGcnIH0sXHJcbiAgbW9iaWxlOiB7IHR5cGU6IFN0cmluZywgbWF0Y2g6IC9eMVszLTldKFxcZHs5fSkkLywgZGVmYXVsdDogJycgfSxcclxuICBzdGF0dXM6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcclxuICByZWdtYXJrOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuICBsb2NhdGlvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXHJcbiAgaXNWaXA6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMCcgfSxcclxuICBjb3VudDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfVxyXG59KVxyXG5cclxuVXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xyXG4gIHRoaXMuY3JlYXRlZCA9IG1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpXHJcbiAgbmV4dCgpXHJcbn0pXHJcblxyXG5Vc2VyU2NoZW1hLnByZSgndXBkYXRlJywgZnVuY3Rpb24gKG5leHQpIHtcclxuICB0aGlzLmNyZWF0ZWQgPSBtb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKVxyXG4gIG5leHQoKVxyXG59KVxyXG5cclxuVXNlclNjaGVtYS5wb3N0KCdzYXZlJywgZnVuY3Rpb24gKGVycm9yLCBkb2MsIG5leHQpIHtcclxuICBpZiAoZXJyb3IubmFtZSA9PT0gJ01vbmdvRXJyb3InICYmIGVycm9yLmNvZGUgPT09IDExMDAwKSB7XHJcbiAgICBuZXh0KG5ldyBFcnJvcignRXJyb3I6IE1vbm5nb29zZSBoYXMgYSBkdXBsaWNhdGUga2V5LicpKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0KGVycm9yKVxyXG4gIH1cclxufSlcclxuXHJcblVzZXJTY2hlbWEuc3RhdGljcyA9IHtcclxuICBmaW5kQnlJRDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5maW5kT25lKHsgX2lkOiBpZCB9LCB7XHJcbiAgICAgIHBhc3N3b3JkOiAwLFxyXG4gICAgICB1c2VybmFtZTogMCxcclxuICAgICAgbW9iaWxlOiAwXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgVXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ3VzZXJzJywgVXNlclNjaGVtYSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJNb2RlbFxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/model/User.js\n");

/***/ }),

/***/ "./src/model/UserCollect.js":
/*!**********************************!*\
  !*** ./src/model/UserCollect.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/DBHelpler */ \"./src/config/DBHelpler.js\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ \"dayjs\");\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst Schema = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Schema;\nconst UserCollectSchema = new Schema({\n  uid: {\n    type: String\n  },\n  tid: {\n    type: String\n  },\n  title: {\n    type: String\n  },\n  created: {\n    type: Date\n  }\n});\nUserCollectSchema.pre('save', function (next) {\n  this.created = dayjs__WEBPACK_IMPORTED_MODULE_1___default()().format('YYYY-MM-DD HH:mm:ss');\n  next();\n});\nUserCollectSchema.post('save', function (error, doc, next) {\n  if (error.name === 'MongoError' && error.code === 11000) {\n    next(new Error('There was a duplicate key error'));\n  } else {\n    next(error);\n  }\n});\nUserCollectSchema.statics = {\n  // 查询特定用户的收藏数据\n  getListByUid: function (id, page, limit) {\n    return this.find({\n      uid: id\n    }).skip(limit * page).limit(limit).sort({\n      created: -1\n    });\n  },\n  // 查询总数\n  countByUid: function (id) {\n    return this.find({\n      uid: id\n    }).countDocuments();\n  }\n};\nconst UserCollect = _config_DBHelpler__WEBPACK_IMPORTED_MODULE_0__[\"default\"].model('user_collect', UserCollectSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserCollect);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwvVXNlckNvbGxlY3QuanM/ODE5OCJdLCJuYW1lcyI6WyJTY2hlbWEiLCJtb29nb29zZSIsIlVzZXJDb2xsZWN0U2NoZW1hIiwidWlkIiwidHlwZSIsIlN0cmluZyIsInRpZCIsInRpdGxlIiwiY3JlYXRlZCIsIkRhdGUiLCJwcmUiLCJuZXh0IiwibW9tZW50IiwiZm9ybWF0IiwicG9zdCIsImVycm9yIiwiZG9jIiwibmFtZSIsImNvZGUiLCJFcnJvciIsInN0YXRpY3MiLCJnZXRMaXN0QnlVaWQiLCJpZCIsInBhZ2UiLCJsaW1pdCIsImZpbmQiLCJza2lwIiwic29ydCIsImNvdW50QnlVaWQiLCJjb3VudERvY3VtZW50cyIsIlVzZXJDb2xsZWN0IiwibW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBR0MseURBQVEsQ0FBQ0QsTUFBeEI7QUFFQSxNQUFNRSxpQkFBaUIsR0FBRyxJQUFJRixNQUFKLENBQVc7QUFDbkNHLEtBQUcsRUFBRTtBQUFFQyxRQUFJLEVBQUVDO0FBQVIsR0FEOEI7QUFFbkNDLEtBQUcsRUFBRTtBQUFFRixRQUFJLEVBQUVDO0FBQVIsR0FGOEI7QUFHbkNFLE9BQUssRUFBRTtBQUFFSCxRQUFJLEVBQUVDO0FBQVIsR0FINEI7QUFJbkNHLFNBQU8sRUFBRTtBQUFFSixRQUFJLEVBQUVLO0FBQVI7QUFKMEIsQ0FBWCxDQUExQjtBQU9BUCxpQkFBaUIsQ0FBQ1EsR0FBbEIsQ0FBc0IsTUFBdEIsRUFBOEIsVUFBVUMsSUFBVixFQUFnQjtBQUM1QyxPQUFLSCxPQUFMLEdBQWVJLDRDQUFNLEdBQUdDLE1BQVQsQ0FBZ0IscUJBQWhCLENBQWY7QUFDQUYsTUFBSTtBQUNMLENBSEQ7QUFLQVQsaUJBQWlCLENBQUNZLElBQWxCLENBQXVCLE1BQXZCLEVBQStCLFVBQVVDLEtBQVYsRUFBaUJDLEdBQWpCLEVBQXNCTCxJQUF0QixFQUE0QjtBQUN6RCxNQUFJSSxLQUFLLENBQUNFLElBQU4sS0FBZSxZQUFmLElBQStCRixLQUFLLENBQUNHLElBQU4sS0FBZSxLQUFsRCxFQUF5RDtBQUN2RFAsUUFBSSxDQUFDLElBQUlRLEtBQUosQ0FBVSxpQ0FBVixDQUFELENBQUo7QUFDRCxHQUZELE1BRU87QUFDTFIsUUFBSSxDQUFDSSxLQUFELENBQUo7QUFDRDtBQUNGLENBTkQ7QUFRQWIsaUJBQWlCLENBQUNrQixPQUFsQixHQUE0QjtBQUMxQjtBQUNBQyxjQUFZLEVBQUUsVUFBVUMsRUFBVixFQUFjQyxJQUFkLEVBQW9CQyxLQUFwQixFQUEyQjtBQUN2QyxXQUFPLEtBQUtDLElBQUwsQ0FBVTtBQUFFdEIsU0FBRyxFQUFFbUI7QUFBUCxLQUFWLEVBQ0pJLElBREksQ0FDQ0YsS0FBSyxHQUFHRCxJQURULEVBRUpDLEtBRkksQ0FFRUEsS0FGRixFQUdKRyxJQUhJLENBR0M7QUFBRW5CLGFBQU8sRUFBRSxDQUFDO0FBQVosS0FIRCxDQUFQO0FBSUQsR0FQeUI7QUFRMUI7QUFDQW9CLFlBQVUsRUFBRSxVQUFVTixFQUFWLEVBQWM7QUFDeEIsV0FBTyxLQUFLRyxJQUFMLENBQVU7QUFBRXRCLFNBQUcsRUFBRW1CO0FBQVAsS0FBVixFQUF1Qk8sY0FBdkIsRUFBUDtBQUNEO0FBWHlCLENBQTVCO0FBY0EsTUFBTUMsV0FBVyxHQUFHN0IseURBQVEsQ0FBQzhCLEtBQVQsQ0FBZSxjQUFmLEVBQStCN0IsaUJBQS9CLENBQXBCO0FBRWU0QiwwRUFBZiIsImZpbGUiOiIuL3NyYy9tb2RlbC9Vc2VyQ29sbGVjdC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb29nb29zZSBmcm9tICcuLi9jb25maWcvREJIZWxwbGVyJ1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ2RheWpzJ1xyXG5cclxuY29uc3QgU2NoZW1hID0gbW9vZ29vc2UuU2NoZW1hXHJcblxyXG5jb25zdCBVc2VyQ29sbGVjdFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gIHVpZDogeyB0eXBlOiBTdHJpbmcgfSxcclxuICB0aWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgY3JlYXRlZDogeyB0eXBlOiBEYXRlIH1cclxufSlcclxuXHJcblVzZXJDb2xsZWN0U2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgdGhpcy5jcmVhdGVkID0gbW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJylcclxuICBuZXh0KClcclxufSlcclxuXHJcblVzZXJDb2xsZWN0U2NoZW1hLnBvc3QoJ3NhdmUnLCBmdW5jdGlvbiAoZXJyb3IsIGRvYywgbmV4dCkge1xyXG4gIGlmIChlcnJvci5uYW1lID09PSAnTW9uZ29FcnJvcicgJiYgZXJyb3IuY29kZSA9PT0gMTEwMDApIHtcclxuICAgIG5leHQobmV3IEVycm9yKCdUaGVyZSB3YXMgYSBkdXBsaWNhdGUga2V5IGVycm9yJykpXHJcbiAgfSBlbHNlIHtcclxuICAgIG5leHQoZXJyb3IpXHJcbiAgfVxyXG59KVxyXG5cclxuVXNlckNvbGxlY3RTY2hlbWEuc3RhdGljcyA9IHtcclxuICAvLyDmn6Xor6LnibnlrprnlKjmiLfnmoTmlLbol4/mlbDmja5cclxuICBnZXRMaXN0QnlVaWQ6IGZ1bmN0aW9uIChpZCwgcGFnZSwgbGltaXQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pXHJcbiAgICAgIC5za2lwKGxpbWl0ICogcGFnZSlcclxuICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAuc29ydCh7IGNyZWF0ZWQ6IC0xIH0pXHJcbiAgfSxcclxuICAvLyDmn6Xor6LmgLvmlbBcclxuICBjb3VudEJ5VWlkOiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHJldHVybiB0aGlzLmZpbmQoeyB1aWQ6IGlkIH0pLmNvdW50RG9jdW1lbnRzKClcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IFVzZXJDb2xsZWN0ID0gbW9vZ29vc2UubW9kZWwoJ3VzZXJfY29sbGVjdCcsIFVzZXJDb2xsZWN0U2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlckNvbGxlY3RcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/model/UserCollect.js\n");

/***/ }),

/***/ "./src/routes/modules sync recursive \\.js$":
/*!***************************************!*\
  !*** ./src/routes/modules sync \.js$ ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var map = {\n\t\"./commentsRouter.js\": \"./src/routes/modules/commentsRouter.js\",\n\t\"./contentRouter.js\": \"./src/routes/modules/contentRouter.js\",\n\t\"./loginRouter.js\": \"./src/routes/modules/loginRouter.js\",\n\t\"./publicRouter.js\": \"./src/routes/modules/publicRouter.js\",\n\t\"./userRouter.js\": \"./src/routes/modules/userRouter.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/routes/modules sync recursive \\\\.js$\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMgc3luYyBcXC5qcyQ/NGUxMiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzIHN5bmMgcmVjdXJzaXZlIFxcLmpzJC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXAgPSB7XG5cdFwiLi9jb21tZW50c1JvdXRlci5qc1wiOiBcIi4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvbW1lbnRzUm91dGVyLmpzXCIsXG5cdFwiLi9jb250ZW50Um91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qc1wiLFxuXHRcIi4vbG9naW5Sb3V0ZXIuanNcIjogXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcy9sb2dpblJvdXRlci5qc1wiLFxuXHRcIi4vcHVibGljUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzXCIsXG5cdFwiLi91c2VyUm91dGVyLmpzXCI6IFwiLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qc1wiXG59O1xuXG5cbmZ1bmN0aW9uIHdlYnBhY2tDb250ZXh0KHJlcSkge1xuXHR2YXIgaWQgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKTtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oaWQpO1xufVxuZnVuY3Rpb24gd2VicGFja0NvbnRleHRSZXNvbHZlKHJlcSkge1xuXHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1hcCwgcmVxKSkge1xuXHRcdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0XHRlLmNvZGUgPSAnTU9EVUxFX05PVF9GT1VORCc7XG5cdFx0dGhyb3cgZTtcblx0fVxuXHRyZXR1cm4gbWFwW3JlcV07XG59XG53ZWJwYWNrQ29udGV4dC5rZXlzID0gZnVuY3Rpb24gd2VicGFja0NvbnRleHRLZXlzKCkge1xuXHRyZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbn07XG53ZWJwYWNrQ29udGV4dC5yZXNvbHZlID0gd2VicGFja0NvbnRleHRSZXNvbHZlO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrQ29udGV4dDtcbndlYnBhY2tDb250ZXh0LmlkID0gXCIuL3NyYy9yb3V0ZXMvbW9kdWxlcyBzeW5jIHJlY3Vyc2l2ZSBcXFxcLmpzJFwiOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules sync recursive \\.js$\n");

/***/ }),

/***/ "./src/routes/modules/commentsRouter.js":
/*!**********************************************!*\
  !*** ./src/routes/modules/commentsRouter.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_commentsController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/commentsController */ \"./src/api/commentsController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/comments'); // 添加评论\n\nrouter.post('/reply', _api_commentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addComment); // 更新评论\n\nrouter.post('/update', _api_commentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateComment); // 设置最佳答案\n\nrouter.get('/accept', _api_commentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setBest); // 评论点赞\n\nrouter.get('/hands', _api_commentsController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setHands);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanM/OGNkMiJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwiY29tbWVudHNDb250cm9sbGVyIiwiYWRkQ29tbWVudCIsInVwZGF0ZUNvbW1lbnQiLCJnZXQiLCJzZXRCZXN0Iiwic2V0SGFuZHMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFdBQWQsRSxDQUVBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxRQUFaLEVBQXNCQywrREFBa0IsQ0FBQ0MsVUFBekMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQywrREFBa0IsQ0FBQ0UsYUFBMUMsRSxDQUVBOztBQUNBTixNQUFNLENBQUNPLEdBQVAsQ0FBVyxTQUFYLEVBQXNCSCwrREFBa0IsQ0FBQ0ksT0FBekMsRSxDQUVBOztBQUNBUixNQUFNLENBQUNPLEdBQVAsQ0FBVyxRQUFYLEVBQXFCSCwrREFBa0IsQ0FBQ0ssUUFBeEM7QUFDZVQscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvY29tbWVudHNSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBjb21tZW50c0NvbnRyb2xsZXIgZnJvbSAnQC9hcGkvY29tbWVudHNDb250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvY29tbWVudHMnKVxyXG5cclxuLy8g5re75Yqg6K+E6K66XHJcbnJvdXRlci5wb3N0KCcvcmVwbHknLCBjb21tZW50c0NvbnRyb2xsZXIuYWRkQ29tbWVudClcclxuXHJcbi8vIOabtOaWsOivhOiuulxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZScsIGNvbW1lbnRzQ29udHJvbGxlci51cGRhdGVDb21tZW50KVxyXG5cclxuLy8g6K6+572u5pyA5L2z562U5qGIXHJcbnJvdXRlci5nZXQoJy9hY2NlcHQnLCBjb21tZW50c0NvbnRyb2xsZXIuc2V0QmVzdClcclxuXHJcbi8vIOivhOiuuueCuei1nlxyXG5yb3V0ZXIuZ2V0KCcvaGFuZHMnLCBjb21tZW50c0NvbnRyb2xsZXIuc2V0SGFuZHMpXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlclxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/modules/commentsRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/contentRouter.js":
/*!*********************************************!*\
  !*** ./src/routes/modules/contentRouter.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/content'); // 上传图片\n\nrouter.post('/upload', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].uploadImg); // 发表新帖\n\nrouter.post('/add', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].addPost); // 更新帖子\n\nrouter.post('/update', _api_ContentController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updatePost);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvY29udGVudFJvdXRlci5qcz84YTEwIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsInBvc3QiLCJjb250ZW50Q29udHJvbGxlciIsInVwbG9hZEltZyIsImFkZFBvc3QiLCJ1cGRhdGVQb3N0Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxVQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMsOERBQWlCLENBQUNDLFNBQXpDLEUsQ0FFQTs7QUFDQUwsTUFBTSxDQUFDRyxJQUFQLENBQVksTUFBWixFQUFvQkMsOERBQWlCLENBQUNFLE9BQXRDLEUsQ0FFQTs7QUFDQU4sTUFBTSxDQUFDRyxJQUFQLENBQVksU0FBWixFQUF1QkMsOERBQWlCLENBQUNHLFVBQXpDO0FBRWVQLHFFQUFmIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9tb2R1bGVzL2NvbnRlbnRSb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBjb250ZW50Q29udHJvbGxlciBmcm9tICdAL2FwaS9Db250ZW50Q29udHJvbGxlcidcclxuXHJcbmNvbnN0IHJvdXRlciA9IG5ldyBSb3V0ZXIoKVxyXG5cclxucm91dGVyLnByZWZpeCgnL2NvbnRlbnQnKVxyXG5cclxuLy8g5LiK5Lyg5Zu+54mHXHJcbnJvdXRlci5wb3N0KCcvdXBsb2FkJywgY29udGVudENvbnRyb2xsZXIudXBsb2FkSW1nKVxyXG5cclxuLy8g5Y+R6KGo5paw5biWXHJcbnJvdXRlci5wb3N0KCcvYWRkJywgY29udGVudENvbnRyb2xsZXIuYWRkUG9zdClcclxuXHJcbi8vIOabtOaWsOW4luWtkFxyXG5yb3V0ZXIucG9zdCgnL3VwZGF0ZScsIGNvbnRlbnRDb250cm9sbGVyLnVwZGF0ZVBvc3QpXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/contentRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/loginRouter.js":
/*!*******************************************!*\
  !*** ./src/routes/modules/loginRouter.js ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_LoginController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/LoginController */ \"./src/api/LoginController.js\");\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/login'); // 忘记密码接口\n\nrouter.post('/forget', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].forget); // 登录接口\n\nrouter.post('/login', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].login); // 注册接口\n\nrouter.post('/reg', _api_LoginController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].reg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanM/MmRkYSJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJSb3V0ZXIiLCJwcmVmaXgiLCJwb3N0IiwibG9naW5Db250cm9sbGVyIiwiZm9yZ2V0IiwibG9naW4iLCJyZWciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyxpREFBSixFQUFmO0FBRUFELE1BQU0sQ0FBQ0UsTUFBUCxDQUFjLFFBQWQsRSxDQUNBOztBQUNBRixNQUFNLENBQUNHLElBQVAsQ0FBWSxTQUFaLEVBQXVCQyw0REFBZSxDQUFDQyxNQUF2QyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFFBQVosRUFBc0JDLDREQUFlLENBQUNFLEtBQXRDLEUsQ0FFQTs7QUFDQU4sTUFBTSxDQUFDRyxJQUFQLENBQVksTUFBWixFQUFvQkMsNERBQWUsQ0FBQ0csR0FBcEM7QUFDZVAscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvbG9naW5Sb3V0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUm91dGVyIGZyb20gJ2tvYS1yb3V0ZXInXHJcbmltcG9ydCBsb2dpbkNvbnRyb2xsZXIgZnJvbSAnQC9hcGkvTG9naW5Db250cm9sbGVyJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpXHJcblxyXG5yb3V0ZXIucHJlZml4KCcvbG9naW4nKVxyXG4vLyDlv5jorrDlr4bnoIHmjqXlj6Ncclxucm91dGVyLnBvc3QoJy9mb3JnZXQnLCBsb2dpbkNvbnRyb2xsZXIuZm9yZ2V0KVxyXG5cclxuLy8g55m75b2V5o6l5Y+jXHJcbnJvdXRlci5wb3N0KCcvbG9naW4nLCBsb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcblxyXG4vLyDms6jlhozmjqXlj6Ncclxucm91dGVyLnBvc3QoJy9yZWcnLCBsb2dpbkNvbnRyb2xsZXIucmVnKVxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/loginRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/publicRouter.js":
/*!********************************************!*\
  !*** ./src/routes/modules/publicRouter.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_PublicController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/api/PublicController */ \"./src/api/PublicController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/api/CommentsController */ \"./src/api/CommentsController.js\");\n\n\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/public'); // 获取图片验证码\n\nrouter.get('/getCaptcha', _api_PublicController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCaptcha); // 获取文章列表\n\nrouter.get('/list', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostList); // 温馨提醒\n\nrouter.get('/tips', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTips); // 友情链接\n\nrouter.get('/links', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLinks); // 回复周榜\n\nrouter.get('/topWeek', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getTopWeek); // 确认修改邮件\n\nrouter.get('/reset-email', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].updateUsername); // 获取文章详情\n\nrouter.get('/content/detail', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostDetail); // 获取评论列表\n\nrouter.get('/comments', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getComments); // 获取用户基本信息\n\nrouter.get('/info', _api_UserController__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getBasicInfo); // 获取用户最近的发贴记录\n\nrouter.get('/latest-post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostPublic); // 获取用户最近的评论记录\n\nrouter.get('/latest-comment', _api_CommentsController__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCommentPublic);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzP2NmYzUiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwiZ2V0IiwicHVibGljQ29udHJvbGxlciIsImdldENhcHRjaGEiLCJjb250ZW50Q29udHJvbGxlciIsImdldFBvc3RMaXN0IiwiZ2V0VGlwcyIsImdldExpbmtzIiwiZ2V0VG9wV2VlayIsInVzZXJDb250cm9sbGVyIiwidXBkYXRlVXNlcm5hbWUiLCJnZXRQb3N0RGV0YWlsIiwiY29tbWVudHNDb250cm9sbGVyIiwiZ2V0Q29tbWVudHMiLCJnZXRCYXNpY0luZm8iLCJnZXRQb3N0UHVibGljIiwiZ2V0Q29tbWVudFB1YmxpYyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLGlEQUFKLEVBQWY7QUFFQUQsTUFBTSxDQUFDRSxNQUFQLENBQWMsU0FBZCxFLENBRUE7O0FBQ0FGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGFBQVgsRUFBMEJDLDZEQUFnQixDQUFDQyxVQUEzQyxFLENBRUE7O0FBQ0FMLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDQyxXQUF0QyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JHLDhEQUFpQixDQUFDRSxPQUF0QyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFFBQVgsRUFBcUJHLDhEQUFpQixDQUFDRyxRQUF2QyxFLENBRUE7O0FBQ0FULE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFVBQVgsRUFBdUJHLDhEQUFpQixDQUFDSSxVQUF6QyxFLENBRUE7O0FBQ0FWLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJRLDJEQUFjLENBQUNDLGNBQTFDLEUsQ0FFQTs7QUFDQVosTUFBTSxDQUFDRyxHQUFQLENBQVcsaUJBQVgsRUFBOEJHLDhEQUFpQixDQUFDTyxhQUFoRCxFLENBRUE7O0FBQ0FiLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLFdBQVgsRUFBd0JXLCtEQUFrQixDQUFDQyxXQUEzQyxFLENBRUE7O0FBQ0FmLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLE9BQVgsRUFBb0JRLDJEQUFjLENBQUNLLFlBQW5DLEUsQ0FFQTs7QUFDQWhCLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJHLDhEQUFpQixDQUFDVyxhQUE3QyxFLENBRUE7O0FBQ0FqQixNQUFNLENBQUNHLEdBQVAsQ0FBVyxpQkFBWCxFQUE4QlcsK0RBQWtCLENBQUNJLGdCQUFqRDtBQUVlbEIscUVBQWYiLCJmaWxlIjoiLi9zcmMvcm91dGVzL21vZHVsZXMvcHVibGljUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgcHVibGljQ29udHJvbGxlciBmcm9tICdAL2FwaS9QdWJsaWNDb250cm9sbGVyJ1xyXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcbmltcG9ydCB1c2VyQ29udHJvbGxlciBmcm9tICdAL2FwaS9Vc2VyQ29udHJvbGxlcidcclxuaW1wb3J0IGNvbW1lbnRzQ29udHJvbGxlciBmcm9tICdAL2FwaS9Db21tZW50c0NvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcclxuXHJcbnJvdXRlci5wcmVmaXgoJy9wdWJsaWMnKVxyXG5cclxuLy8g6I635Y+W5Zu+54mH6aqM6K+B56CBXHJcbnJvdXRlci5nZXQoJy9nZXRDYXB0Y2hhJywgcHVibGljQ29udHJvbGxlci5nZXRDYXB0Y2hhKVxyXG5cclxuLy8g6I635Y+W5paH56ug5YiX6KGoXHJcbnJvdXRlci5nZXQoJy9saXN0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdExpc3QpXHJcblxyXG4vLyDmuKnppqjmj5DphpJcclxucm91dGVyLmdldCgnL3RpcHMnLCBjb250ZW50Q29udHJvbGxlci5nZXRUaXBzKVxyXG5cclxuLy8g5Y+L5oOF6ZO+5o6lXHJcbnJvdXRlci5nZXQoJy9saW5rcycsIGNvbnRlbnRDb250cm9sbGVyLmdldExpbmtzKVxyXG5cclxuLy8g5Zue5aSN5ZGo5qacXHJcbnJvdXRlci5nZXQoJy90b3BXZWVrJywgY29udGVudENvbnRyb2xsZXIuZ2V0VG9wV2VlaylcclxuXHJcbi8vIOehruiupOS/ruaUuemCruS7tlxyXG5yb3V0ZXIuZ2V0KCcvcmVzZXQtZW1haWwnLCB1c2VyQ29udHJvbGxlci51cGRhdGVVc2VybmFtZSlcclxuXHJcbi8vIOiOt+WPluaWh+eroOivpuaDhVxyXG5yb3V0ZXIuZ2V0KCcvY29udGVudC9kZXRhaWwnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0RGV0YWlsKVxyXG5cclxuLy8g6I635Y+W6K+E6K665YiX6KGoXHJcbnJvdXRlci5nZXQoJy9jb21tZW50cycsIGNvbW1lbnRzQ29udHJvbGxlci5nZXRDb21tZW50cylcclxuXHJcbi8vIOiOt+WPlueUqOaIt+WfuuacrOS/oeaBr1xyXG5yb3V0ZXIuZ2V0KCcvaW5mbycsIHVzZXJDb250cm9sbGVyLmdldEJhc2ljSW5mbylcclxuXHJcbi8vIOiOt+WPlueUqOaIt+acgOi/keeahOWPkei0tOiusOW9lVxyXG5yb3V0ZXIuZ2V0KCcvbGF0ZXN0LXBvc3QnLCBjb250ZW50Q29udHJvbGxlci5nZXRQb3N0UHVibGljKVxyXG5cclxuLy8g6I635Y+W55So5oi35pyA6L+R55qE6K+E6K666K6w5b2VXHJcbnJvdXRlci5nZXQoJy9sYXRlc3QtY29tbWVudCcsIGNvbW1lbnRzQ29udHJvbGxlci5nZXRDb21tZW50UHVibGljKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/routes/modules/publicRouter.js\n");

/***/ }),

/***/ "./src/routes/modules/userRouter.js":
/*!******************************************!*\
  !*** ./src/routes/modules/userRouter.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-router */ \"koa-router\");\n/* harmony import */ var koa_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _api_UserController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../api/UserController */ \"./src/api/UserController.js\");\n/* harmony import */ var _api_ContentController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/ContentController */ \"./src/api/ContentController.js\");\n\n\n\nconst router = new koa_router__WEBPACK_IMPORTED_MODULE_0___default.a();\nrouter.prefix('/user'); // 用户签到\n\nrouter.get('/fav', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].userSign); // 更新用户的基本信息\n\nrouter.post('/basic', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateUserInfo); // 修改密码\n\nrouter.post('/change-password', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].changePasswd); // 取消 设置收藏\n\nrouter.get('/set-collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].setCollect); // 获取收藏列表\n\nrouter.get('/collect', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getCollectByUid); // 获取用户发贴记录\n\nrouter.get('/post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getPostByUid); // 删除发贴记录\n\nrouter.get('/delete-post', _api_ContentController__WEBPACK_IMPORTED_MODULE_2__[\"default\"].deletePostByUid); // 获取历史消息\n\nrouter.get('/getmsg', _api_UserController__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getMsg);\n/* harmony default export */ __webpack_exports__[\"default\"] = (router);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL21vZHVsZXMvdXNlclJvdXRlci5qcz8xZjNjIl0sIm5hbWVzIjpbInJvdXRlciIsIlJvdXRlciIsInByZWZpeCIsImdldCIsInVzZXJDb250cm9sbGVyIiwidXNlclNpZ24iLCJwb3N0IiwidXBkYXRlVXNlckluZm8iLCJjaGFuZ2VQYXNzd2QiLCJzZXRDb2xsZWN0IiwiZ2V0Q29sbGVjdEJ5VWlkIiwiY29udGVudENvbnRyb2xsZXIiLCJnZXRQb3N0QnlVaWQiLCJkZWxldGVQb3N0QnlVaWQiLCJnZXRNc2ciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsaURBQUosRUFBZjtBQUVBRCxNQUFNLENBQUNFLE1BQVAsQ0FBYyxPQUFkLEUsQ0FFQTs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsMkRBQWMsQ0FBQ0MsUUFBbEMsRSxDQUVBOztBQUNBTCxNQUFNLENBQUNNLElBQVAsQ0FBWSxRQUFaLEVBQXNCRiwyREFBYyxDQUFDRyxjQUFyQyxFLENBRUE7O0FBQ0FQLE1BQU0sQ0FBQ00sSUFBUCxDQUFZLGtCQUFaLEVBQWdDRiwyREFBYyxDQUFDSSxZQUEvQyxFLENBRUE7O0FBQ0FSLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLGNBQVgsRUFBMkJDLDJEQUFjLENBQUNLLFVBQTFDLEUsQ0FFQTs7QUFDQVQsTUFBTSxDQUFDRyxHQUFQLENBQVcsVUFBWCxFQUF1QkMsMkRBQWMsQ0FBQ00sZUFBdEMsRSxDQUVBOztBQUNBVixNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CUSw4REFBaUIsQ0FBQ0MsWUFBdEMsRSxDQUVBOztBQUNBWixNQUFNLENBQUNHLEdBQVAsQ0FBVyxjQUFYLEVBQTJCUSw4REFBaUIsQ0FBQ0UsZUFBN0MsRSxDQUVBOztBQUNBYixNQUFNLENBQUNHLEdBQVAsQ0FBVyxTQUFYLEVBQXNCQywyREFBYyxDQUFDVSxNQUFyQztBQUNlZCxxRUFBZiIsImZpbGUiOiIuL3NyYy9yb3V0ZXMvbW9kdWxlcy91c2VyUm91dGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJvdXRlciBmcm9tICdrb2Etcm91dGVyJ1xyXG5pbXBvcnQgdXNlckNvbnRyb2xsZXIgZnJvbSAnLi4vLi4vYXBpL1VzZXJDb250cm9sbGVyJ1xyXG5pbXBvcnQgY29udGVudENvbnRyb2xsZXIgZnJvbSAnQC9hcGkvQ29udGVudENvbnRyb2xsZXInXHJcblxyXG5jb25zdCByb3V0ZXIgPSBuZXcgUm91dGVyKClcclxuXHJcbnJvdXRlci5wcmVmaXgoJy91c2VyJylcclxuXHJcbi8vIOeUqOaIt+etvuWIsFxyXG5yb3V0ZXIuZ2V0KCcvZmF2JywgdXNlckNvbnRyb2xsZXIudXNlclNpZ24pXHJcblxyXG4vLyDmm7TmlrDnlKjmiLfnmoTln7rmnKzkv6Hmga9cclxucm91dGVyLnBvc3QoJy9iYXNpYycsIHVzZXJDb250cm9sbGVyLnVwZGF0ZVVzZXJJbmZvKVxyXG5cclxuLy8g5L+u5pS55a+G56CBXHJcbnJvdXRlci5wb3N0KCcvY2hhbmdlLXBhc3N3b3JkJywgdXNlckNvbnRyb2xsZXIuY2hhbmdlUGFzc3dkKVxyXG5cclxuLy8g5Y+W5raIIOiuvue9ruaUtuiXj1xyXG5yb3V0ZXIuZ2V0KCcvc2V0LWNvbGxlY3QnLCB1c2VyQ29udHJvbGxlci5zZXRDb2xsZWN0KVxyXG5cclxuLy8g6I635Y+W5pS26JeP5YiX6KGoXHJcbnJvdXRlci5nZXQoJy9jb2xsZWN0JywgdXNlckNvbnRyb2xsZXIuZ2V0Q29sbGVjdEJ5VWlkKVxyXG5cclxuLy8g6I635Y+W55So5oi35Y+R6LS06K6w5b2VXHJcbnJvdXRlci5nZXQoJy9wb3N0JywgY29udGVudENvbnRyb2xsZXIuZ2V0UG9zdEJ5VWlkKVxyXG5cclxuLy8g5Yig6Zmk5Y+R6LS06K6w5b2VXHJcbnJvdXRlci5nZXQoJy9kZWxldGUtcG9zdCcsIGNvbnRlbnRDb250cm9sbGVyLmRlbGV0ZVBvc3RCeVVpZClcclxuXHJcbi8vIOiOt+WPluWOhuWPsua2iOaBr1xyXG5yb3V0ZXIuZ2V0KCcvZ2V0bXNnJywgdXNlckNvbnRyb2xsZXIuZ2V0TXNnKVxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/routes/modules/userRouter.js\n");

/***/ }),

/***/ "./src/routes/routes.js":
/*!******************************!*\
  !*** ./src/routes/routes.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! koa-combine-routers */ \"koa-combine-routers\");\n/* harmony import */ var koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(koa_combine_routers__WEBPACK_IMPORTED_MODULE_0__);\n // import publicRouter from './publicRouter'\n// console.log(publicRouter)\n// import loginRouter from './loginRouter'\n// import userRouter from './userRouter'\n// 合并后端路由\n\nconst moduleFiles = __webpack_require__(\"./src/routes/modules sync recursive \\\\.js$\"); // modules = moduleFiles.keys()\n// [ './loginRouter.js', './publicRouter.js', './userRouter.js' ]\n// reduce方法拼接koa-combine-router所需的数据结构Object[]\n\n\nconst modules = moduleFiles.keys().reduce((items, path) => {\n  const value = moduleFiles(path);\n  items.push(value.default);\n  return items;\n}, []);\n/* harmony default export */ __webpack_exports__[\"default\"] = (koa_combine_routers__WEBPACK_IMPORTED_MODULE_0___default()(modules //   publicRouter\n//   loginRouter,\n//   userRouter\n));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcm91dGVzL3JvdXRlcy5qcz82NDFiIl0sIm5hbWVzIjpbIm1vZHVsZUZpbGVzIiwicmVxdWlyZSIsIm1vZHVsZXMiLCJrZXlzIiwicmVkdWNlIiwiaXRlbXMiLCJwYXRoIiwidmFsdWUiLCJwdXNoIiwiZGVmYXVsdCIsImNvbWJpbmVSb3V0ZXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsTUFBTUEsV0FBVyxHQUFHQyxpRUFBcEIsQyxDQUVBO0FBQ0E7QUFDQTs7O0FBQ0EsTUFBTUMsT0FBTyxHQUFHRixXQUFXLENBQUNHLElBQVosR0FBbUJDLE1BQW5CLENBQTBCLENBQUNDLEtBQUQsRUFBUUMsSUFBUixLQUFpQjtBQUN6RCxRQUFNQyxLQUFLLEdBQUdQLFdBQVcsQ0FBQ00sSUFBRCxDQUF6QjtBQUNBRCxPQUFLLENBQUNHLElBQU4sQ0FBV0QsS0FBSyxDQUFDRSxPQUFqQjtBQUNBLFNBQU9KLEtBQVA7QUFDRCxDQUplLEVBSWIsRUFKYSxDQUFoQjtBQUtlSyx5SEFBYSxDQUMxQlIsT0FEMEIsQ0FFNUI7QUFDQTtBQUNBO0FBSjRCLENBQTVCIiwiZmlsZSI6Ii4vc3JjL3JvdXRlcy9yb3V0ZXMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tYmluZVJvdXRlcyBmcm9tICdrb2EtY29tYmluZS1yb3V0ZXJzJ1xyXG5cclxuLy8gaW1wb3J0IHB1YmxpY1JvdXRlciBmcm9tICcuL3B1YmxpY1JvdXRlcidcclxuLy8gY29uc29sZS5sb2cocHVibGljUm91dGVyKVxyXG4vLyBpbXBvcnQgbG9naW5Sb3V0ZXIgZnJvbSAnLi9sb2dpblJvdXRlcidcclxuLy8gaW1wb3J0IHVzZXJSb3V0ZXIgZnJvbSAnLi91c2VyUm91dGVyJ1xyXG4vLyDlkIjlubblkI7nq6/ot6/nlLFcclxuXHJcbmNvbnN0IG1vZHVsZUZpbGVzID0gcmVxdWlyZS5jb250ZXh0KCcuL21vZHVsZXMnLCB0cnVlLCAvXFwuanMkLylcclxuXHJcbi8vIG1vZHVsZXMgPSBtb2R1bGVGaWxlcy5rZXlzKClcclxuLy8gWyAnLi9sb2dpblJvdXRlci5qcycsICcuL3B1YmxpY1JvdXRlci5qcycsICcuL3VzZXJSb3V0ZXIuanMnIF1cclxuLy8gcmVkdWNl5pa55rOV5ou85o6la29hLWNvbWJpbmUtcm91dGVy5omA6ZyA55qE5pWw5o2u57uT5p6ET2JqZWN0W11cclxuY29uc3QgbW9kdWxlcyA9IG1vZHVsZUZpbGVzLmtleXMoKS5yZWR1Y2UoKGl0ZW1zLCBwYXRoKSA9PiB7XHJcbiAgY29uc3QgdmFsdWUgPSBtb2R1bGVGaWxlcyhwYXRoKVxyXG4gIGl0ZW1zLnB1c2godmFsdWUuZGVmYXVsdClcclxuICByZXR1cm4gaXRlbXNcclxufSwgW10pXHJcbmV4cG9ydCBkZWZhdWx0IGNvbWJpbmVSb3V0ZXMoXHJcbiAgbW9kdWxlc1xyXG4vLyAgIHB1YmxpY1JvdXRlclxyXG4vLyAgIGxvZ2luUm91dGVyLFxyXG4vLyAgIHVzZXJSb3V0ZXJcclxuKVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/routes/routes.js\n");

/***/ }),

/***/ "@koa/cors":
/*!****************************!*\
  !*** external "@koa/cors" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@koa/cors\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAa29hL2NvcnNcIj9hNjk1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBrb2EvY29ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBrb2EvY29yc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@koa/cors\n");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcryptjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRqc1wiP2NlNTUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmNyeXB0anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJiY3J5cHRqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcryptjs\n");

/***/ }),

/***/ "bluebird":
/*!***************************!*\
  !*** external "bluebird" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bluebird\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJibHVlYmlyZFwiPzJjNmIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiYmx1ZWJpcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJibHVlYmlyZFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bluebird\n");

/***/ }),

/***/ "dayjs":
/*!************************!*\
  !*** external "dayjs" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"dayjs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkYXlqc1wiPzNhYTAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZGF5anMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkYXlqc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///dayjs\n");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"fs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiP2E0MGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiZnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fs\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "koa":
/*!**********************!*\
  !*** external "koa" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2FcIj9lZWI5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa\n");

/***/ }),

/***/ "koa-body":
/*!***************************!*\
  !*** external "koa-body" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-body\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtYm9keVwiPzNmNjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWJvZHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtYm9keVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-body\n");

/***/ }),

/***/ "koa-combine-routers":
/*!**************************************!*\
  !*** external "koa-combine-routers" ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-combine-routers\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tYmluZS1yb3V0ZXJzXCI/MmM3NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtY29tYmluZS1yb3V0ZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWNvbWJpbmUtcm91dGVyc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-combine-routers\n");

/***/ }),

/***/ "koa-compose":
/*!******************************!*\
  !*** external "koa-compose" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcG9zZVwiPzczMTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWNvbXBvc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtY29tcG9zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compose\n");

/***/ }),

/***/ "koa-compress":
/*!*******************************!*\
  !*** external "koa-compress" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-compress\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtY29tcHJlc3NcIj9hNmY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImtvYS1jb21wcmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImtvYS1jb21wcmVzc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-compress\n");

/***/ }),

/***/ "koa-helmet":
/*!*****************************!*\
  !*** external "koa-helmet" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-helmet\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtaGVsbWV0XCI/NDJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2EtaGVsbWV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWhlbG1ldFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-helmet\n");

/***/ }),

/***/ "koa-json":
/*!***************************!*\
  !*** external "koa-json" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-json\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2EtanNvblwiPzY1MjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoia29hLWpzb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJrb2EtanNvblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-json\n");

/***/ }),

/***/ "koa-jwt":
/*!**************************!*\
  !*** external "koa-jwt" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-jwt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etand0XCI/ZWIwZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etand0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLWp3dFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-jwt\n");

/***/ }),

/***/ "koa-router":
/*!*****************************!*\
  !*** external "koa-router" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-router\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etcm91dGVyXCI/MDM1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etcm91dGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXJvdXRlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-router\n");

/***/ }),

/***/ "koa-static":
/*!*****************************!*\
  !*** external "koa-static" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"koa-static\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJrb2Etc3RhdGljXCI/OWE0YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJrb2Etc3RhdGljLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwia29hLXN0YXRpY1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///koa-static\n");

/***/ }),

/***/ "make-dir":
/*!***************************!*\
  !*** external "make-dir" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"make-dir\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtYWtlLWRpclwiPzk3YzEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibWFrZS1kaXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtYWtlLWRpclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///make-dir\n");

/***/ }),

/***/ "moment":
/*!*************************!*\
  !*** external "moment" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"moment\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb21lbnRcIj9iZDc2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Im1vbWVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm1vbWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///moment\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"nodemailer\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJub2RlbWFpbGVyXCI/M2Q1NSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJub2RlbWFpbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwibm9kZW1haWxlclwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///nodemailer\n");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJwYXRoXCI/NzRiYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJwYXRoLmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicGF0aFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///path\n");

/***/ }),

/***/ "qs":
/*!*********************!*\
  !*** external "qs" ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"qs\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJxc1wiP2E1YjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJxc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///qs\n");

/***/ }),

/***/ "redis":
/*!************************!*\
  !*** external "redis" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"redis\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWRpc1wiPzcwNmMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVkaXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWRpc1wiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///redis\n");

/***/ }),

/***/ "svg-captcha":
/*!******************************!*\
  !*** external "svg-captcha" ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"svg-captcha\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzdmctY2FwdGNoYVwiP2NjNjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoic3ZnLWNhcHRjaGEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJzdmctY2FwdGNoYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///svg-captcha\n");

/***/ }),

/***/ "uuid/v4":
/*!**************************!*\
  !*** external "uuid/v4" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"uuid/v4\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJ1dWlkL3Y0XCI/ZDE1YyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSIsImZpbGUiOiJ1dWlkL3Y0LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXVpZC92NFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///uuid/v4\n");

/***/ })

/******/ });